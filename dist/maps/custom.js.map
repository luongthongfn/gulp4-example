{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/body-scroll-lock/lib/bodyScrollLock.min.js","node_modules/debug/src/browser.js","node_modules/debug/src/debug.js","node_modules/japan-postal-code/index.js","node_modules/jsonp/index.js","node_modules/ms/index.js","node_modules/owl.carousel2/dist/owl.carousel.js","node_modules/process/browser.js","src/js/common/Collapse.js","src/js/common/CustomSelect.js","src/js/common/FormHome.js","src/js/common/GotoId.js","src/js/common/HtmlFeature.js","src/js/common/JsTab.js","src/js/common/MobileMenu.js","src/js/common/StickyHeader.js","src/js/helper/helper.js","src/js/modules/slider.js","src/js/vendor/jquery.validate.js"],"names":[],"mappings":"AAAA;ACAA;AACA;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxLA;AACA;AACA;AACA;AAEA,CAAC,CAAC,YAAU;AACR,EAAA,CAAC,CAAC,qBAAD,CAAD,CAAyB,IAAzB,CAA8B,YAAU;AACpC,QAAI,UAAU,GAAG,CAAC,CAAC,IAAD,CAAlB;AAAA,QACI,QAAQ,GAAG,UAAU,CAAC,IAAX,CAAgB,WAAhB,CADf;;AAGA,IAAA,CAAC,CAAC,QAAD,CAAD,CAAY,GAAZ,CAAgB,gBAAhB,EAAkC,IAAlC,CAAuC,gBAAvC,EAAyD,OAAzD,CAAiE,MAAjE;AACA,IAAA,CAAC,CAAC,QAAD,CAAD,CAAY,KAAZ,CAAkB,YAAU;AACxB,MAAA,CAAC,CAAC,IAAD,CAAD,CAAQ,WAAR,CAAoB,eAApB,EAAqC,IAArC,CAA0C,gBAA1C,EAA4D,WAA5D,CAAwE,MAAxE;AACH,KAFD;AAIH,GATD;AAUH,CAXA,CAAD;;;;;ACLA;AACA;AACA;A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","file":"../gulp4-ex/custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","!function(e,t){if(\"function\"==typeof define&&define.amd)define([\"exports\"],t);else if(\"undefined\"!=typeof exports)t(exports);else{var o={};t(o),e.bodyScrollLock=o}}(this,function(exports){\"use strict\";function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(exports,\"__esModule\",{value:!0});var l=!1;if(\"undefined\"!=typeof window){var e={get passive(){l=!0}};window.addEventListener(\"testPassive\",null,e),window.removeEventListener(\"testPassive\",null,e)}var d=\"undefined\"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),c=[],u=!1,a=-1,s=void 0,v=void 0,f=function(t){return c.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})},m=function(e){var t=e||window.event;return!!f(t.target)||(1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1))},o=function(){setTimeout(function(){void 0!==v&&(document.body.style.paddingRight=v,v=void 0),void 0!==s&&(document.body.style.overflow=s,s=void 0)})};exports.disableBodyScroll=function(i,e){if(d){if(!i)return void console.error(\"disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.\");if(i&&!c.some(function(e){return e.targetElement===i})){var t={targetElement:i,options:e||{}};c=[].concat(r(c),[t]),i.ontouchstart=function(e){1===e.targetTouches.length&&(a=e.targetTouches[0].clientY)},i.ontouchmove=function(e){var t,o,n,r;1===e.targetTouches.length&&(o=i,r=(t=e).targetTouches[0].clientY-a,!f(t.target)&&(o&&0===o.scrollTop&&0<r?m(t):(n=o)&&n.scrollHeight-n.scrollTop<=n.clientHeight&&r<0?m(t):t.stopPropagation()))},u||(document.addEventListener(\"touchmove\",m,l?{passive:!1}:void 0),u=!0)}}else{n=e,setTimeout(function(){if(void 0===v){var e=!!n&&!0===n.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(v=document.body.style.paddingRight,document.body.style.paddingRight=t+\"px\")}void 0===s&&(s=document.body.style.overflow,document.body.style.overflow=\"hidden\")});var o={targetElement:i,options:e||{}};c=[].concat(r(c),[o])}var n},exports.clearAllBodyScrollLocks=function(){d?(c.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),u&&(document.removeEventListener(\"touchmove\",m,l?{passive:!1}:void 0),u=!1),c=[],a=-1):(o(),c=[])},exports.enableBodyScroll=function(t){if(d){if(!t)return void console.error(\"enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.\");t.ontouchstart=null,t.ontouchmove=null,c=c.filter(function(e){return e.targetElement!==t}),u&&0===c.length&&(document.removeEventListener(\"touchmove\",m,l?{passive:!1}:void 0),u=!1)}else 1===c.length&&c[0].targetElement===t?(o(),c=[]):c=c.filter(function(e){return e.targetElement!==t})}});\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/* ================================================================ *\n    ajaxzip3.js ---- AjaxZip3 郵便番号→住所変換ライブラリ\n\n    Copyright (c) 2015 MIZUNO Hiroki\n    http://github.com/mzp/japan-postal-code\n\n    Copyright (c) 2008-2015 Ninkigumi Co.,Ltd.\n    http://ajaxzip3.github.io/\n\n    Copyright (c) 2006-2007 Kawasaki Yusuke <u-suke [at] kawa.net>\n    http://www.kawa.net/works/ajax/AjaxZip2/AjaxZip2.html\n\n    Permission is hereby granted, free of charge, to any person\n    obtaining a copy of this software and associated documentation\n    files (the \"Software\"), to deal in the Software without\n    restriction, including without limitation the rights to use,\n    copy, modify, merge, publish, distribute, sublicense, and/or sell\n    copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n* ================================================================ */\n\nvar jsonp = require('jsonp')\n\nJSONDATA = 'https://yubinbango.github.io/yubinbango-data/data';\nCACHE = [];\n\n\nPREFMAP = [\n    null,       '北海道',   '青森県',   '岩手県',   '宮城県',\n    '秋田県',   '山形県',   '福島県',   '茨城県',   '栃木県',\n    '群馬県',   '埼玉県',   '千葉県',   '東京都',   '神奈川県',\n    '新潟県',   '富山県',   '石川県',   '福井県',   '山梨県',\n    '長野県',   '岐阜県',   '静岡県',   '愛知県',   '三重県',\n    '滋賀県',   '京都府',   '大阪府',   '兵庫県',   '奈良県',\n    '和歌山県', '鳥取県',   '島根県',   '岡山県',   '広島県',\n    '山口県',   '徳島県',   '香川県',   '愛媛県',   '高知県',\n    '福岡県',   '佐賀県',   '長崎県',   '熊本県',   '大分県',\n    '宮崎県',   '鹿児島県', '沖縄県'\n];\n\n\nexports.get = function (zip_code, callback) {\n    // 郵便番号を数字のみ7桁取り出す\n    //    var zipoptimize = function(AjaxZip3.fzip1, AjaxZip3.fzip2){\n  var vzip = zip_code;\n  if (!vzip) return;\n\n  // extract number only\n  var nzip = '';\n  for( var i=0;  i< vzip.length; i++ ) {\n    var chr = vzip.charCodeAt(i);\n    if ( chr < 48 ) continue;\n    if ( chr > 57 ) continue;\n    nzip += vzip.charAt(i);\n  }\n  if (nzip.length < 7 ) return;\n\n  // fetch from cache data using upper 3 digit\n  var zip3 = nzip.substr(0,3);\n  var data = CACHE[zip3];\n  if (data) return parse(nzip, data, callback);\n\n  // fetch by jsonp\n  fetchRemote(nzip, callback);\n};\n\nvar parse = function(nzip, data, callback){\n  var array = data[nzip];\n  // Opera バグ対策：0x00800000 を超える添字は +0xff000000 されてしまう\n  var opera = (nzip-0+0xff000000)+\"\";\n  if ( ! array && data[opera] ) array = data[opera];\n  if ( ! array ) return;\n  var pref_id = array[0];                 // 都道府県ID\n  if ( ! pref_id ) return;\n  var jpref = PREFMAP[pref_id];  // 都道府県名\n  if ( ! jpref ) return;\n  var jcity = array[1];\n  if ( ! jcity ) jcity = '';              // 市区町村名\n  var jarea = array[2];\n  if ( ! jarea ) jarea = '';              // 町域名\n  var jstrt = array[3];\n  if ( ! jstrt ) jstrt = '';              // 番地\n  callback({\n    'prefecture': jpref,\n    'city': jcity,\n    'area': jarea,\n    'street': jstrt\n  });\n};\n\nfetchRemote = function (nzip, callback) {\n  var zip3 = nzip.substr(0,3);\n  var url = JSONDATA+'/'+zip3+'.js';\n  jsonp(url, { name: '$yubin'}, function(error, data) {\n    if (!error) {\n      CACHE[zip3] = data;\n      parse(nzip, data, callback);\n    }\n  });\n};\n","/**\n * Module dependencies\n */\n\nvar debug = require('debug')('jsonp');\n\n/**\n * Module exports.\n */\n\nmodule.exports = jsonp;\n\n/**\n * Callback index.\n */\n\nvar count = 0;\n\n/**\n * Noop function.\n */\n\nfunction noop(){}\n\n/**\n * JSONP handler\n *\n * Options:\n *  - param {String} qs parameter (`callback`)\n *  - prefix {String} qs parameter (`__jp`)\n *  - name {String} qs parameter (`prefix` + incr)\n *  - timeout {Number} how long after a timeout error is emitted (`60000`)\n *\n * @param {String} url\n * @param {Object|Function} optional options / callback\n * @param {Function} optional callback\n */\n\nfunction jsonp(url, opts, fn){\n  if ('function' == typeof opts) {\n    fn = opts;\n    opts = {};\n  }\n  if (!opts) opts = {};\n\n  var prefix = opts.prefix || '__jp';\n\n  // use the callback name that was passed if one was provided.\n  // otherwise generate a unique name by incrementing our counter.\n  var id = opts.name || (prefix + (count++));\n\n  var param = opts.param || 'callback';\n  var timeout = null != opts.timeout ? opts.timeout : 60000;\n  var enc = encodeURIComponent;\n  var target = document.getElementsByTagName('script')[0] || document.head;\n  var script;\n  var timer;\n\n\n  if (timeout) {\n    timer = setTimeout(function(){\n      cleanup();\n      if (fn) fn(new Error('Timeout'));\n    }, timeout);\n  }\n\n  function cleanup(){\n    if (script.parentNode) script.parentNode.removeChild(script);\n    window[id] = noop;\n    if (timer) clearTimeout(timer);\n  }\n\n  function cancel(){\n    if (window[id]) {\n      cleanup();\n    }\n  }\n\n  window[id] = function(data){\n    debug('jsonp got', data);\n    cleanup();\n    if (fn) fn(null, data);\n  };\n\n  // add qs component\n  url += (~url.indexOf('?') ? '&' : '?') + param + '=' + enc(id);\n  url = url.replace('?&', '?');\n\n  debug('jsonp req \"%s\"', url);\n\n  // create script\n  script = document.createElement('script');\n  script.src = url;\n  target.parentNode.insertBefore(script, target);\n\n  return cancel;\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","/**\n * Owl Carousel v2.2.1\n * Copyright 2013-2017 Saurabh Sharma\n * Licensed under  ()\n */\n/**\n * Owl carousel\n * @version 2.1.6\n * @author Bartosz Wojciechowski\n * @author Saurabh Sharma\n * @license The MIT License (MIT)\n * @todo Lazy Load Icon\n * @todo prevent animationend bubling\n * @todo itemsScaleUp\n * @todo Test Zepto\n * @todo stagePadding calculate wrong active classes\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates a carousel.\n\t * @class The Owl Carousel.\n\t * @public\n\t * @param {HTMLElement|jQuery} element - The element to create the carousel for.\n\t * @param {Object} [options] - The options\n\t */\n\tfunction Owl(element, options) {\n\n\t\t/**\n\t\t * Current settings for the carousel.\n\t\t * @public\n\t\t */\n\t\tthis.settings = null;\n\n\t\t/**\n\t\t * Current options set by the caller including defaults.\n\t\t * @public\n\t\t */\n\t\tthis.options = $.extend({}, Owl.Defaults, options);\n\n\t\t/**\n\t\t * Plugin element.\n\t\t * @public\n\t\t */\n\t\tthis.$element = $(element);\n\n\t\t/**\n\t\t * Proxied event handlers.\n\t\t * @protected\n\t\t */\n\t\tthis._handlers = {};\n\n\t\t/**\n\t\t * References to the running plugins of this carousel.\n\t\t * @protected\n\t\t */\n\t\tthis._plugins = {};\n\n\t\t/**\n\t\t * Currently suppressed events to prevent them from beeing retriggered.\n\t\t * @protected\n\t\t */\n\t\tthis._supress = {};\n\n\t\t/**\n\t\t * Absolute current position.\n\t\t * @protected\n\t\t */\n\t\tthis._current = null;\n\n\t\t/**\n\t\t * Animation speed in milliseconds.\n\t\t * @protected\n\t\t */\n\t\tthis._speed = null;\n\n\t\t/**\n\t\t * Coordinates of all items in pixel.\n\t\t * @todo The name of this member is missleading.\n\t\t * @protected\n\t\t */\n\t\tthis._coordinates = [];\n\n\t\t/**\n\t\t * Current breakpoint.\n\t\t * @todo Real media queries would be nice.\n\t\t * @protected\n\t\t */\n\t\tthis._breakpoint = null;\n\n\t\t/**\n\t\t * Current width of the plugin element.\n\t\t */\n\t\tthis._width = null;\n\n\t\t/**\n\t\t * All real items.\n\t\t * @protected\n\t\t */\n\t\tthis._items = [];\n\n\t\t/**\n\t\t * All cloned items.\n\t\t * @protected\n\t\t */\n\t\tthis._clones = [];\n\n\t\t/**\n\t\t * Merge values of all items.\n\t\t * @todo Maybe this could be part of a plugin.\n\t\t * @protected\n\t\t */\n\t\tthis._mergers = [];\n\n\t\t/**\n\t\t * Widths of all items.\n\t\t */\n\t\tthis._widths = [];\n\n\t\t/**\n\t\t * Invalidated parts within the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._invalidated = {};\n\n\t\t/**\n\t\t * Ordered list of workers for the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._pipe = [];\n\n\t\t/**\n\t\t * Current state information for the drag operation.\n\t\t * @todo #261\n\t\t * @protected\n\t\t */\n\t\tthis._drag = {\n\t\t\ttime: null,\n\t\t\ttarget: null,\n\t\t\tpointer: null,\n\t\t\tstage: {\n\t\t\t\tstart: null,\n\t\t\t\tcurrent: null\n\t\t\t},\n\t\t\tdirection: null\n\t\t};\n\n\t\t/**\n\t\t * Current state information and their tags.\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis._states = {\n\t\t\tcurrent: {},\n\t\t\ttags: {\n\t\t\t\t'initializing': [ 'busy' ],\n\t\t\t\t'animating': [ 'busy' ],\n\t\t\t\t'dragging': [ 'interacting' ]\n\t\t\t}\n\t\t};\n\n\t\t$.each([ 'onResize', 'onThrottledResize' ], $.proxy(function(i, handler) {\n\t\t\tthis._handlers[handler] = $.proxy(this[handler], this);\n\t\t}, this));\n\n\t\t$.each(Owl.Plugins, $.proxy(function(key, plugin) {\n\t\t\tthis._plugins[key.charAt(0).toLowerCase() + key.slice(1)]\n\t\t\t\t= new plugin(this);\n\t\t}, this));\n\n\t\t$.each(Owl.Workers, $.proxy(function(priority, worker) {\n\t\t\tthis._pipe.push({\n\t\t\t\t'filter': worker.filter,\n\t\t\t\t'run': $.proxy(worker.run, this)\n\t\t\t});\n\t\t}, this));\n\n\t\tthis.setup();\n\t\tthis.initialize();\n\t}\n\n\t/**\n\t * Default options for the carousel.\n\t * @public\n\t */\n\tOwl.Defaults = {\n\t\titems: 3,\n\t\tloop: false,\n\t\tcenter: false,\n\t\trewind: false,\n\n\t\tmouseDrag: true,\n\t\ttouchDrag: true,\n\t\tpullDrag: true,\n\t\tfreeDrag: false,\n\n\t\tmargin: 0,\n\t\tstagePadding: 0,\n\n\t\tmerge: false,\n\t\tmergeFit: true,\n\t\tautoWidth: false,\n\n\t\tstartPosition: 0,\n\t\trtl: false,\n\n\t\tsmartSpeed: 250,\n\t\tfluidSpeed: false,\n\t\tdragEndSpeed: false,\n\n\t\tresponsive: {},\n\t\tresponsiveRefreshRate: 200,\n\t\tresponsiveBaseElement: window,\n\n\t\tfallbackEasing: 'swing',\n\n\t\tinfo: false,\n\n\t\tnestedItemSelector: false,\n\t\titemElement: 'div',\n\t\tstageElement: 'div',\n\n\t\trefreshClass: 'owl-refresh',\n\t\tloadedClass: 'owl-loaded',\n\t\tloadingClass: 'owl-loading',\n\t\trtlClass: 'owl-rtl',\n\t\tresponsiveClass: 'owl-responsive',\n\t\tdragClass: 'owl-drag',\n\t\titemClass: 'owl-item',\n\t\tstageClass: 'owl-stage',\n\t\tstageOuterClass: 'owl-stage-outer',\n\t\tgrabClass: 'owl-grab'\n\t};\n\n\t/**\n\t * Enumeration for width.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Width = {\n\t\tDefault: 'default',\n\t\tInner: 'inner',\n\t\tOuter: 'outer'\n\t};\n\n\t/**\n\t * Enumeration for types.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Type = {\n\t\tEvent: 'event',\n\t\tState: 'state'\n\t};\n\n\t/**\n\t * Contains all registered plugins.\n\t * @public\n\t */\n\tOwl.Plugins = {};\n\n\t/**\n\t * List of workers involved in the update process.\n\t */\n\tOwl.Workers = [ {\n\t\tfilter: [ 'width', 'settings' ],\n\t\trun: function() {\n\t\t\tthis._width = this.$element.width();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = this._items && this._items[this.relative(this._current)];\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tthis.$stage.children('.cloned').remove();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar margin = this.settings.margin || '',\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\trtl = this.settings.rtl,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': 'auto',\n\t\t\t\t\t'margin-left': rtl ? margin : '',\n\t\t\t\t\t'margin-right': rtl ? '' : margin\n\t\t\t\t};\n\n\t\t\t!grid && this.$stage.children().css(css);\n\n\t\t\tcache.css = css;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar width = (this.width() / this.settings.items).toFixed(3) - this.settings.margin,\n\t\t\t\tmerge = null,\n\t\t\t\titerator = this._items.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\twidths = [];\n\n\t\t\tcache.items = {\n\t\t\t\tmerge: false,\n\t\t\t\twidth: width\n\t\t\t};\n\n\t\t\twhile (iterator--) {\n\t\t\t\tmerge = this._mergers[iterator];\n\t\t\t\tmerge = this.settings.mergeFit && Math.min(merge, this.settings.items) || merge;\n\n\t\t\t\tcache.items.merge = merge > 1 || cache.items.merge;\n\n\t\t\t\twidths[iterator] = !grid ? this._items[iterator].width() : width * merge;\n\t\t\t}\n\n\t\t\tthis._widths = widths;\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar clones = [],\n\t\t\t\titems = this._items,\n\t\t\t\tsettings = this.settings,\n\t\t\t\t// TODO: Should be computed from number of min width items in stage\n\t\t\t\tview = Math.max(settings.items * 2, 4),\n\t\t\t\tsize = Math.ceil(items.length / 2) * 2,\n\t\t\t\trepeat = settings.loop && items.length ? settings.rewind ? view : Math.max(view, size) : 0,\n\t\t\t\tappend = '',\n\t\t\t\tprepend = '';\n\n\t\t\trepeat /= 2;\n\n\t\t\twhile (repeat--) {\n\t\t\t\t// Switch to only using appended clones\n\t\t\t\tclones.push(this.normalize(clones.length / 2, true));\n\t\t\t\t$(items[clones[clones.length - 1]][0]).clone(true).addClass('cloned').appendTo(this.$stage);\n\t\t\t\tclones.push(this.normalize(items.length - 1 - (clones.length - 1) / 2, true));\n\t\t\t\t$(items[clones[clones.length - 1]][0]).clone(true).addClass('cloned').prependTo(this.$stage);\n\t\t\t}\n\n\t\t\tthis._clones = clones;\n\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tsize = this._clones.length + this._items.length,\n\t\t\t\titerator = -1,\n\t\t\t\tprevious = 0,\n\t\t\t\tcurrent = 0,\n\t\t\t\tcoordinates = [];\n\n\t\t\twhile (++iterator < size) {\n\t\t\t\tprevious = coordinates[iterator - 1] || 0;\n\t\t\t\tcurrent = this._widths[this.relative(iterator)] + this.settings.margin;\n\t\t\t\tcoordinates.push(previous + current * rtl);\n\t\t\t}\n\n\t\t\tthis._coordinates = coordinates;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar padding = this.settings.stagePadding,\n\t\t\t\tcoordinates = this._coordinates,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': Math.ceil(Math.abs(coordinates[coordinates.length - 1])) + padding * 2,\n\t\t\t\t\t'padding-left': padding || '',\n\t\t\t\t\t'padding-right': padding || ''\n\t\t\t\t};\n\n\t\t\tthis.$stage.css(css);\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar iterator = this._coordinates.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\titems = this.$stage.children();\n\n\t\t\tif (grid && cache.items.merge) {\n\t\t\t\twhile (iterator--) {\n\t\t\t\t\tcache.css.width = this._widths[this.relative(iterator)];\n\t\t\t\t\titems.eq(iterator).css(cache.css);\n\t\t\t\t}\n\t\t\t} else if (grid) {\n\t\t\t\tcache.css.width = cache.items.width;\n\t\t\t\titems.css(cache.css);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tfilter: [ 'items' ],\n\t\trun: function() {\n\t\t\tthis._coordinates.length < 1 && this.$stage.removeAttr('style');\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = cache.current ? this.$stage.children().index(cache.current) : 0;\n\t\t\tcache.current = Math.max(this.minimum(), Math.min(this.maximum(), cache.current));\n\t\t\tthis.reset(cache.current);\n\t\t}\n\t}, {\n\t\tfilter: [ 'position' ],\n\t\trun: function() {\n\t\t\tthis.animate(this.coordinates(this._current));\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'position', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tpadding = this.settings.stagePadding * 2,\n\t\t\t\tbegin = this.coordinates(this.current()) + padding,\n\t\t\t\tend = begin + this.width() * rtl,\n\t\t\t\tinner, outer, matches = [], i, n;\n\n\t\t\tfor (i = 0, n = this._coordinates.length; i < n; i++) {\n\t\t\t\tinner = this._coordinates[i - 1] || 0;\n\t\t\t\touter = Math.abs(this._coordinates[i]) + padding * rtl;\n\n\t\t\t\tif ((this.op(inner, '<=', begin) && (this.op(inner, '>', end)))\n\t\t\t\t\t|| (this.op(outer, '<', begin) && this.op(outer, '>', end))) {\n\t\t\t\t\tmatches.push(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.$stage.children('.active').removeClass('active');\n\t\t\tthis.$stage.children(':eq(' + matches.join('), :eq(') + ')').addClass('active');\n\n\t\t\tif (this.settings.center) {\n\t\t\t\tthis.$stage.children('.center').removeClass('center');\n\t\t\t\tthis.$stage.children().eq(this.current()).addClass('center');\n\t\t\t}\n\t\t}\n\t} ];\n\n\t/**\n\t * Initializes the carousel.\n\t * @protected\n\t */\n\tOwl.prototype.initialize = function() {\n\t\tthis.enter('initializing');\n\t\tthis.trigger('initialize');\n\n\t\tthis.$element.toggleClass(this.settings.rtlClass, this.settings.rtl);\n\n\t\tif (this.settings.autoWidth && !this.is('pre-loading')) {\n\t\t\tvar imgs, nestedSelector, width;\n\t\t\timgs = this.$element.find('img');\n\t\t\tnestedSelector = this.settings.nestedItemSelector ? '.' + this.settings.nestedItemSelector : undefined;\n\t\t\twidth = this.$element.children(nestedSelector).width();\n\n\t\t\tif (imgs.length && width <= 0) {\n\t\t\t\tthis.preloadAutoWidthImages(imgs);\n\t\t\t}\n\t\t}\n\n\t\tthis.$element.addClass(this.options.loadingClass);\n\n\t\t// create stage\n\t\tthis.$stage = $('<' + this.settings.stageElement + ' class=\"' + this.settings.stageClass + '\"/>')\n\t\t\t.wrap('<div class=\"' + this.settings.stageOuterClass + '\"/>');\n\n\t\t// append stage\n\t\tthis.$element.append(this.$stage.parent());\n\n\t\t// append content\n\t\tthis.replace(this.$element.children().not(this.$stage.parent()));\n\n\t\t// check visibility\n\t\tif (this.$element.is(':visible')) {\n\t\t\t// update view\n\t\t\tthis.refresh();\n\t\t} else {\n\t\t\t// invalidate width\n\t\t\tthis.invalidate('width');\n\t\t}\n\n\t\tthis.$element\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.addClass(this.options.loadedClass);\n\n\t\t// register event handlers\n\t\tthis.registerEventHandlers();\n\n\t\tthis.leave('initializing');\n\t\tthis.trigger('initialized');\n\t};\n\n\t/**\n\t * Setups the current settings.\n\t * @todo Remove responsive classes. Why should adaptive designs be brought into IE8?\n\t * @todo Support for media queries by using `matchMedia` would be nice.\n\t * @public\n\t */\n\tOwl.prototype.setup = function() {\n\t\tvar viewport = this.viewport(),\n\t\t\toverwrites = this.options.responsive,\n\t\t\tmatch = -1,\n\t\t\tsettings = null;\n\n\t\tif (!overwrites) {\n\t\t\tsettings = $.extend({}, this.options);\n\t\t} else {\n\t\t\t$.each(overwrites, function(breakpoint) {\n\t\t\t\tif (breakpoint <= viewport && breakpoint > match) {\n\t\t\t\t\tmatch = Number(breakpoint);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsettings = $.extend({}, this.options, overwrites[match]);\n\t\t\tif (typeof settings.stagePadding === 'function') {\n\t\t\t\tsettings.stagePadding = settings.stagePadding();\n\t\t\t}\n\t\t\tdelete settings.responsive;\n\n\t\t\t// responsive class\n\t\t\tif (settings.responsiveClass) {\n\t\t\t\tthis.$element.attr('class',\n\t\t\t\t\tthis.$element.attr('class').replace(new RegExp('(' + this.options.responsiveClass + '-)\\\\S+\\\\s', 'g'), '$1' + match)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis.trigger('change', { property: { name: 'settings', value: settings } });\n\t\tthis._breakpoint = match;\n\t\tthis.settings = settings;\n\t\tthis.invalidate('settings');\n\t\tthis.trigger('changed', { property: { name: 'settings', value: this.settings } });\n\t};\n\n\t/**\n\t * Updates option logic if necessery.\n\t * @protected\n\t */\n\tOwl.prototype.optionsLogic = function() {\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.settings.stagePadding = false;\n\t\t\tthis.settings.merge = false;\n\t\t}\n\t};\n\n\t/**\n\t * Prepares an item before add.\n\t * @todo Rename event parameter `content` to `item`.\n\t * @protected\n\t * @returns {jQuery|HTMLElement} - The item container.\n\t */\n\tOwl.prototype.prepare = function(item) {\n\t\tvar event = this.trigger('prepare', { content: item });\n\n\t\tif (!event.data) {\n\t\t\tevent.data = $('<' + this.settings.itemElement + '/>')\n\t\t\t\t.addClass(this.options.itemClass).append(item)\n\t\t}\n\n\t\tthis.trigger('prepared', { content: event.data });\n\n\t\treturn event.data;\n\t};\n\n\t/**\n\t * Updates the view.\n\t * @public\n\t */\n\tOwl.prototype.update = function() {\n\t\tvar i = 0,\n\t\t\tn = this._pipe.length,\n\t\t\tfilter = $.proxy(function(p) { return this[p] }, this._invalidated),\n\t\t\tcache = {};\n\n\t\twhile (i < n) {\n\t\t\tif (this._invalidated.all || $.grep(this._pipe[i].filter, filter).length > 0) {\n\t\t\t\tthis._pipe[i].run(cache);\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\n\t\tthis._invalidated = {};\n\n\t\t!this.is('valid') && this.enter('valid');\n\t};\n\n\t/**\n\t * Gets the width of the view.\n\t * @public\n\t * @param {Owl.Width} [dimension=Owl.Width.Default] - The dimension to return.\n\t * @returns {Number} - The width of the view in pixel.\n\t */\n\tOwl.prototype.width = function(dimension) {\n\t\tdimension = dimension || Owl.Width.Default;\n\t\tswitch (dimension) {\n\t\t\tcase Owl.Width.Inner:\n\t\t\tcase Owl.Width.Outer:\n\t\t\t\treturn this._width;\n\t\t\tdefault:\n\t\t\t\treturn this._width - this.settings.stagePadding * 2 + this.settings.margin;\n\t\t}\n\t};\n\n\t/**\n\t * Refreshes the carousel primarily for adaptive purposes.\n\t * @public\n\t */\n\tOwl.prototype.refresh = function() {\n\t\tthis.enter('refreshing');\n\t\tthis.trigger('refresh');\n\n\t\tthis.setup();\n\n\t\tthis.optionsLogic();\n\n\t\tthis.$element.addClass(this.options.refreshClass);\n\n\t\tthis.update();\n\n\t\tthis.$element.removeClass(this.options.refreshClass);\n\n\t\tthis.leave('refreshing');\n\t\tthis.trigger('refreshed');\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onThrottledResize = function() {\n\t\twindow.clearTimeout(this.resizeTimer);\n\t\tthis.resizeTimer = window.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate);\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onResize = function() {\n\t\tif (!this._items.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._width === this.$element.width()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.$element.is(':visible')) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.enter('resizing');\n\n\t\tif (this.trigger('resize').isDefaultPrevented()) {\n\t\t\tthis.leave('resizing');\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.invalidate('width');\n\n\t\tthis.refresh();\n\n\t\tthis.leave('resizing');\n\t\tthis.trigger('resized');\n\t};\n\n\t/**\n\t * Registers event handlers.\n\t * @todo Check `msPointerEnabled`\n\t * @todo #261\n\t * @protected\n\t */\n\tOwl.prototype.registerEventHandlers = function() {\n\t\tif ($.support.transition) {\n\t\t\tthis.$stage.on($.support.transition.end + '.owl.core', $.proxy(this.onTransitionEnd, this));\n\t\t}\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\tthis.on(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tif (this.settings.mouseDrag) {\n\t\t\tthis.$element.addClass(this.options.dragClass);\n\t\t\tthis.$stage.on('mousedown.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('dragstart.owl.core selectstart.owl.core', function() { return false });\n\t\t}\n\n\t\tif (this.settings.touchDrag){\n\t\t\tthis.$stage.on('touchstart.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('touchcancel.owl.core', $.proxy(this.onDragEnd, this));\n\t\t}\n\t};\n\n\t/**\n\t * Handles `touchstart` and `mousedown` events.\n\t * @todo Horizontal swipe threshold as option\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragStart = function(event) {\n\t\tvar stage = null;\n\n\t\tif (event.which === 3) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ($.support.transform) {\n\t\t\tstage = this.$stage.css('transform').replace(/.*\\(|\\)| /g, '').split(',');\n\t\t\tstage = {\n\t\t\t\tx: stage[stage.length === 16 ? 12 : 4],\n\t\t\t\ty: stage[stage.length === 16 ? 13 : 5]\n\t\t\t};\n\t\t} else {\n\t\t\tstage = this.$stage.position();\n\t\t\tstage = {\n\t\t\t\tx: this.settings.rtl ?\n\t\t\t\t\tstage.left + this.$stage.width() - this.width() + this.settings.margin :\n\t\t\t\t\tstage.left,\n\t\t\t\ty: stage.top\n\t\t\t};\n\t\t}\n\n\t\tif (this.is('animating')) {\n\t\t\t$.support.transform ? this.animate(stage.x) : this.$stage.stop()\n\t\t\tthis.invalidate('position');\n\t\t}\n\n\t\tthis.$element.toggleClass(this.options.grabClass, event.type === 'mousedown');\n\n\t\tthis.speed(0);\n\n\t\tthis._drag.time = new Date().getTime();\n\t\tthis._drag.target = $(event.target);\n\t\tthis._drag.stage.start = stage;\n\t\tthis._drag.stage.current = stage;\n\t\tthis._drag.pointer = this.pointer(event);\n\n\t\t$(document).on('mouseup.owl.core touchend.owl.core', $.proxy(this.onDragEnd, this));\n\n\t\t$(document).one('mousemove.owl.core touchmove.owl.core', $.proxy(function(event) {\n\t\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event));\n\n\t\t\t$(document).on('mousemove.owl.core touchmove.owl.core', $.proxy(this.onDragMove, this));\n\n\t\t\tif (Math.abs(delta.x) < Math.abs(delta.y) && this.is('valid')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.enter('dragging');\n\t\t\tthis.trigger('drag');\n\t\t}, this));\n\t};\n\n\t/**\n\t * Handles the `touchmove` and `mousemove` events.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragMove = function(event) {\n\t\tvar minimum = null,\n\t\t\tmaximum = null,\n\t\t\tpull = null,\n\t\t\tdelta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this.difference(this._drag.stage.start, delta);\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\n\t\tif (this.settings.loop) {\n\t\t\tminimum = this.coordinates(this.minimum());\n\t\t\tmaximum = this.coordinates(this.maximum() + 1) - minimum;\n\t\t\tstage.x = (((stage.x - minimum) % maximum + maximum) % maximum) + minimum;\n\t\t} else {\n\t\t\tminimum = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum());\n\t\t\tmaximum = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum());\n\t\t\tpull = this.settings.pullDrag ? -1 * delta.x / 5 : 0;\n\t\t\tstage.x = Math.max(Math.min(stage.x, minimum + pull), maximum + pull);\n\t\t}\n\n\t\tthis._drag.stage.current = stage;\n\n\t\tthis.animate(stage.x);\n\t};\n\n\t/**\n\t * Handles the `touchend` and `mouseup` events.\n\t * @todo #261\n\t * @todo Threshold for click event\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragEnd = function(event) {\n\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this._drag.stage.current,\n\t\t\tdirection = delta.x > 0 ^ this.settings.rtl ? 'left' : 'right';\n\n\t\t$(document).off('.owl.core');\n\n\t\tthis.$element.removeClass(this.options.grabClass);\n\n\t\tif (delta.x !== 0 && this.is('dragging') || !this.is('valid')) {\n\t\t\tthis.speed(this.settings.dragEndSpeed || this.settings.smartSpeed);\n\t\t\tthis.current(this.closest(stage.x, delta.x !== 0 ? direction : this._drag.direction));\n\t\t\tthis.invalidate('position');\n\t\t\tthis.update();\n\n\t\t\tthis._drag.direction = direction;\n\n\t\t\tif (Math.abs(delta.x) > 3 || new Date().getTime() - this._drag.time > 300) {\n\t\t\t\tthis._drag.target.one('click.owl.core', function() { return false; });\n\t\t\t}\n\t\t}\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.leave('dragging');\n\t\tthis.trigger('dragged');\n\t};\n\n\t/**\n\t * Gets absolute position of the closest item for a coordinate.\n\t * @todo Setting `freeDrag` makes `closest` not reusable. See #165.\n\t * @protected\n\t * @param {Number} coordinate - The coordinate in pixel.\n\t * @param {String} direction - The direction to check for the closest item. Ether `left` or `right`.\n\t * @return {Number} - The absolute position of the closest item.\n\t */\n\tOwl.prototype.closest = function(coordinate, direction) {\n\t\tvar position = -1,\n\t\t\tpull = 30,\n\t\t\twidth = this.width(),\n\t\t\tcoordinates = this.coordinates();\n\n\t\tif (!this.settings.freeDrag) {\n\t\t\t// check closest item\n\t\t\t$.each(coordinates, $.proxy(function(index, value) {\n\t\t\t\t// on a left pull, check on current index\n\t\t\t\tif (direction === 'left' && coordinate > value - pull && coordinate < value + pull) {\n\t\t\t\t\tposition = index;\n\t\t\t\t// on a right pull, check on previous index\n\t\t\t\t// to do so, subtract width from value and set position = index + 1\n\t\t\t\t} else if (direction === 'right' && coordinate > value - width - pull && coordinate < value - width + pull) {\n\t\t\t\t\tposition = index + 1;\n\t\t\t\t} else if (this.op(coordinate, '<', value)\n\t\t\t\t\t&& this.op(coordinate, '>', coordinates[index + 1] || value - width)) {\n\t\t\t\t\tposition = direction === 'left' ? index + 1 : index;\n\t\t\t\t}\n\t\t\t\treturn position === -1;\n\t\t\t}, this));\n\t\t}\n\n\t\tif (!this.settings.loop) {\n\t\t\t// non loop boundries\n\t\t\tif (this.op(coordinate, '>', coordinates[this.minimum()])) {\n\t\t\t\tposition = coordinate = this.minimum();\n\t\t\t} else if (this.op(coordinate, '<', coordinates[this.maximum()])) {\n\t\t\t\tposition = coordinate = this.maximum();\n\t\t\t}\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Animates the stage.\n\t * @todo #270\n\t * @public\n\t * @param {Number} coordinate - The coordinate in pixels.\n\t */\n\tOwl.prototype.animate = function(coordinate) {\n\t\tvar animate = this.speed() > 0;\n\n\t\tthis.is('animating') && this.onTransitionEnd();\n\n\t\tif (animate) {\n\t\t\tthis.enter('animating');\n\t\t\tthis.trigger('translate');\n\t\t}\n\n\t\tif ($.support.transform3d && $.support.transition) {\n\t\t\tthis.$stage.css({\n\t\t\t\ttransform: 'translate3d(' + coordinate + 'px,0px,0px)',\n\t\t\t\ttransition: (this.speed() / 1000) + 's'\n\t\t\t});\n\t\t} else if (animate) {\n\t\t\tthis.$stage.animate({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t}, this.speed(), this.settings.fallbackEasing, $.proxy(this.onTransitionEnd, this));\n\t\t} else {\n\t\t\tthis.$stage.css({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Checks whether the carousel is in a specific state or not.\n\t * @param {String} state - The state to check.\n\t * @returns {Boolean} - The flag which indicates if the carousel is busy.\n\t */\n\tOwl.prototype.is = function(state) {\n\t\treturn this._states.current[state] && this._states.current[state] > 0;\n\t};\n\n\t/**\n\t * Sets the absolute position of the current item.\n\t * @public\n\t * @param {Number} [position] - The new absolute position or nothing to leave it unchanged.\n\t * @returns {Number} - The absolute position of the current item.\n\t */\n\tOwl.prototype.current = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._current;\n\t\t}\n\n\t\tif (this._items.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tposition = this.normalize(position);\n\n\t\tif (this._current !== position) {\n\t\t\tvar event = this.trigger('change', { property: { name: 'position', value: position } });\n\n\t\t\tif (event.data !== undefined) {\n\t\t\t\tposition = this.normalize(event.data);\n\t\t\t}\n\n\t\t\tthis._current = position;\n\n\t\t\tthis.invalidate('position');\n\n\t\t\tthis.trigger('changed', { property: { name: 'position', value: this._current } });\n\t\t}\n\n\t\treturn this._current;\n\t};\n\n\t/**\n\t * Invalidates the given part of the update routine.\n\t * @param {String} [part] - The part to invalidate.\n\t * @returns {Array.<String>} - The invalidated parts.\n\t */\n\tOwl.prototype.invalidate = function(part) {\n\t\tif ($.type(part) === 'string') {\n\t\t\tthis._invalidated[part] = true;\n\t\t\tthis.is('valid') && this.leave('valid');\n\t\t}\n\t\treturn $.map(this._invalidated, function(v, i) { return i });\n\t};\n\n\t/**\n\t * Resets the absolute position of the current item.\n\t * @public\n\t * @param {Number} position - The absolute position of the new item.\n\t */\n\tOwl.prototype.reset = function(position) {\n\t\tposition = this.normalize(position);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._speed = 0;\n\t\tthis._current = position;\n\n\t\tthis.suppress([ 'translate', 'translated' ]);\n\n\t\tthis.animate(this.coordinates(position));\n\n\t\tthis.release([ 'translate', 'translated' ]);\n\t};\n\n\t/**\n\t * Normalizes an absolute or a relative position of an item.\n\t * @public\n\t * @param {Number} position - The absolute or relative position to normalize.\n\t * @param {Boolean} [relative=false] - Whether the given position is relative or not.\n\t * @returns {Number} - The normalized position.\n\t */\n\tOwl.prototype.normalize = function(position, relative) {\n\t\tvar n = this._items.length,\n\t\t\tm = relative ? 0 : this._clones.length;\n\n\t\tif (!this.isNumeric(position) || n < 1) {\n\t\t\tposition = undefined;\n\t\t} else if (position < 0 || position >= n + m) {\n\t\t\tposition = ((position - m / 2) % n + n) % n + m / 2;\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Converts an absolute position of an item into a relative one.\n\t * @public\n\t * @param {Number} position - The absolute position to convert.\n\t * @returns {Number} - The converted position.\n\t */\n\tOwl.prototype.relative = function(position) {\n\t\tposition -= this._clones.length / 2;\n\t\treturn this.normalize(position, true);\n\t};\n\n\t/**\n\t * Gets the maximum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.maximum = function(relative) {\n\t\tvar settings = this.settings,\n\t\t\tmaximum = this._coordinates.length,\n\t\t\titerator,\n\t\t\treciprocalItemsWidth,\n\t\t\telementWidth;\n\n\t\tif (settings.loop) {\n\t\t\tmaximum = this._clones.length / 2 + this._items.length - 1;\n\t\t} else if (settings.autoWidth || settings.merge) {\n\t\t\titerator = this._items.length;\n\t\t\treciprocalItemsWidth = this._items[--iterator].width();\n\t\t\telementWidth = this.$element.width();\n\t\t\twhile (iterator--) {\n\t\t\t\treciprocalItemsWidth += this._items[iterator].width() + this.settings.margin;\n\t\t\t\tif (reciprocalItemsWidth > elementWidth) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmaximum = iterator + 1;\n\t\t} else if (settings.center) {\n\t\t\tmaximum = this._items.length - 1;\n\t\t} else {\n\t\t\tmaximum = this._items.length - settings.items;\n\t\t}\n\n\t\tif (relative) {\n\t\t\tmaximum -= this._clones.length / 2;\n\t\t}\n\n\t\treturn Math.max(maximum, 0);\n\t};\n\n\t/**\n\t * Gets the minimum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.minimum = function(relative) {\n\t\treturn relative ? 0 : this._clones.length / 2;\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.items = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._items.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._items[position];\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.mergers = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._mergers.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._mergers[position];\n\t};\n\n\t/**\n\t * Gets the absolute positions of clones for an item.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @returns {Array.<Number>} - The absolute positions of clones for the item or all if no position was given.\n\t */\n\tOwl.prototype.clones = function(position) {\n\t\tvar odd = this._clones.length / 2,\n\t\t\teven = odd + this._items.length,\n\t\t\tmap = function(index) { return index % 2 === 0 ? even + index / 2 : odd - (index + 1) / 2 };\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._clones, function(v, i) { return map(i) });\n\t\t}\n\n\t\treturn $.map(this._clones, function(v, i) { return v === position ? map(i) : null });\n\t};\n\n\t/**\n\t * Sets the current animation speed.\n\t * @public\n\t * @param {Number} [speed] - The animation speed in milliseconds or nothing to leave it unchanged.\n\t * @returns {Number} - The current animation speed in milliseconds.\n\t */\n\tOwl.prototype.speed = function(speed) {\n\t\tif (speed !== undefined) {\n\t\t\tthis._speed = speed;\n\t\t}\n\n\t\treturn this._speed;\n\t};\n\n\t/**\n\t * Gets the coordinate of an item.\n\t * @todo The name of this method is missleanding.\n\t * @public\n\t * @param {Number} position - The absolute position of the item within `minimum()` and `maximum()`.\n\t * @returns {Number|Array.<Number>} - The coordinate of the item in pixel or all coordinates.\n\t */\n\tOwl.prototype.coordinates = function(position) {\n\t\tvar multiplier = 1,\n\t\t\tnewPosition = position - 1,\n\t\t\tcoordinate;\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._coordinates, $.proxy(function(coordinate, index) {\n\t\t\t\treturn this.coordinates(index);\n\t\t\t}, this));\n\t\t}\n\n\t\tif (this.settings.center) {\n\t\t\tif (this.settings.rtl) {\n\t\t\t\tmultiplier = -1;\n\t\t\t\tnewPosition = position + 1;\n\t\t\t}\n\n\t\t\tcoordinate = this._coordinates[position];\n\t\t\tcoordinate += (this.width() - coordinate + (this._coordinates[newPosition] || 0)) / 2 * multiplier;\n\t\t} else {\n\t\t\tcoordinate = this._coordinates[newPosition] || 0;\n\t\t}\n\n\t\tcoordinate = Math.ceil(coordinate);\n\n\t\treturn coordinate;\n\t};\n\n\t/**\n\t * Calculates the speed for a translation.\n\t * @protected\n\t * @param {Number} from - The absolute position of the start item.\n\t * @param {Number} to - The absolute position of the target item.\n\t * @param {Number} [factor=undefined] - The time factor in milliseconds.\n\t * @returns {Number} - The time in milliseconds for the translation.\n\t */\n\tOwl.prototype.duration = function(from, to, factor) {\n\t\tif (factor === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.min(Math.max(Math.abs(to - from), 1), 6) * Math.abs((factor || this.settings.smartSpeed));\n\t};\n\n\t/**\n\t * Slides to the specified item.\n\t * @public\n\t * @param {Number} position - The position of the item.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.to = function(position, speed) {\n\t\tvar current = this.current(),\n\t\t\trevert = null,\n\t\t\tdistance = position - this.relative(current),\n\t\t\tdirection = (distance > 0) - (distance < 0),\n\t\t\titems = this._items.length,\n\t\t\tminimum = this.minimum(),\n\t\t\tmaximum = this.maximum();\n\n\t\tif (this.settings.loop) {\n\t\t\tif (!this.settings.rewind && Math.abs(distance) > items / 2) {\n\t\t\t\tdistance += direction * -1 * items;\n\t\t\t}\n\n\t\t\tposition = current + distance;\n\t\t\trevert = ((position - minimum) % items + items) % items + minimum;\n\n\t\t\tif (revert !== position && revert - distance <= maximum && revert - distance > 0) {\n\t\t\t\tcurrent = revert - distance;\n\t\t\t\tposition = revert;\n\t\t\t\tthis.reset(current);\n\t\t\t}\n\t\t} else if (this.settings.rewind) {\n\t\t\tmaximum += 1;\n\t\t\tposition = (position % maximum + maximum) % maximum;\n\t\t} else {\n\t\t\tposition = Math.max(minimum, Math.min(maximum, position));\n\t\t}\n\n\t\tthis.speed(this.duration(current, position, speed));\n\t\tthis.current(position);\n\n\t\tif (this.$element.is(':visible')) {\n\t\t\tthis.update();\n\t\t}\n\t};\n\n\t/**\n\t * Slides to the next item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.next = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) + 1, speed);\n\t};\n\n\t/**\n\t * Slides to the previous item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.prev = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) - 1, speed);\n\t};\n\n\t/**\n\t * Handles the end of an animation.\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onTransitionEnd = function(event) {\n\n\t\t// if css2 animation then event object is undefined\n\t\tif (event !== undefined) {\n\t\t\tevent.stopPropagation();\n\n\t\t\t// Catch only owl-stage transitionEnd event\n\t\t\tif ((event.target || event.srcElement || event.originalTarget) !== this.$stage.get(0)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.leave('animating');\n\t\tthis.trigger('translated');\n\t};\n\n\t/**\n\t * Gets viewport width.\n\t * @protected\n\t * @return {Number} - The width in pixel.\n\t */\n\tOwl.prototype.viewport = function() {\n\t\tvar width;\n\t\tif (this.options.responsiveBaseElement !== window) {\n\t\t\twidth = $(this.options.responsiveBaseElement).width();\n\t\t} else if (window.innerWidth) {\n\t\t\twidth = window.innerWidth;\n\t\t} else if (document.documentElement && document.documentElement.clientWidth) {\n\t\t\twidth = document.documentElement.clientWidth;\n\t\t} else {\n\t\t\tconsole.warn('Can not detect viewport width.');\n\t\t}\n\t\treturn width;\n\t};\n\n\t/**\n\t * Replaces the current content.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The new content.\n\t */\n\tOwl.prototype.replace = function(content) {\n\t\tthis.$stage.empty();\n\t\tthis._items = [];\n\n\t\tif (content) {\n\t\t\tcontent = (content instanceof jQuery) ? content : $(content);\n\t\t}\n\n\t\tif (this.settings.nestedItemSelector) {\n\t\t\tcontent = content.find('.' + this.settings.nestedItemSelector);\n\t\t}\n\n\t\tcontent.filter(function() {\n\t\t\treturn this.nodeType === 1;\n\t\t}).each($.proxy(function(index, item) {\n\t\t\titem = this.prepare(item);\n\t\t\tthis.$stage.append(item);\n\t\t\tthis._items.push(item);\n\t\t\tthis._mergers.push(item.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}, this));\n\n\t\tthis.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0);\n\n\t\tthis.invalidate('items');\n\t};\n\n\t/**\n\t * Adds an item.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The item content to add.\n\t * @param {Number} [position] - The relative position at which to insert the item otherwise the item will be added to the end.\n\t */\n\tOwl.prototype.add = function(content, position) {\n\t\tvar current = this.relative(this._current);\n\n\t\tposition = position === undefined ? this._items.length : this.normalize(position, true);\n\t\tcontent = content instanceof jQuery ? content : $(content);\n\n\t\tthis.trigger('add', { content: content, position: position });\n\n\t\tcontent = this.prepare(content);\n\n\t\tif (this._items.length === 0 || position === this._items.length) {\n\t\t\tthis._items.length === 0 && this.$stage.append(content);\n\t\t\tthis._items.length !== 0 && this._items[position - 1].after(content);\n\t\t\tthis._items.push(content);\n\t\t\tthis._mergers.push(content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t} else {\n\t\t\tthis._items[position].before(content);\n\t\t\tthis._items.splice(position, 0, content);\n\t\t\tthis._mergers.splice(position, 0, content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}\n\n\t\tthis._items[current] && this.reset(this._items[current].index());\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('added', { content: content, position: position });\n\t};\n\n\t/**\n\t * Removes an item by its position.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {Number} position - The relative position of the item to remove.\n\t */\n\tOwl.prototype.remove = function(position) {\n\t\tposition = this.normalize(position, true);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.trigger('remove', { content: this._items[position], position: position });\n\n\t\tthis._items[position].remove();\n\t\tthis._items.splice(position, 1);\n\t\tthis._mergers.splice(position, 1);\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('removed', { content: null, position: position });\n\t};\n\n\t/**\n\t * Preloads images with auto width.\n\t * @todo Replace by a more generic approach\n\t * @protected\n\t */\n\tOwl.prototype.preloadAutoWidthImages = function(images) {\n\t\timages.each($.proxy(function(i, element) {\n\t\t\tthis.enter('pre-loading');\n\t\t\telement = $(element);\n\t\t\t$(new Image()).one('load', $.proxy(function(e) {\n\t\t\t\telement.attr('src', e.target.src);\n\t\t\t\telement.css('opacity', 1);\n\t\t\t\tthis.leave('pre-loading');\n\t\t\t\t!this.is('pre-loading') && !this.is('initializing') && this.refresh();\n\t\t\t}, this)).attr('src', element.attr('src') || element.attr('data-src') || element.attr('data-src-retina'));\n\t\t}, this));\n\t};\n\n\t/**\n\t * Destroys the carousel.\n\t * @public\n\t */\n\tOwl.prototype.destroy = function() {\n\n\t\tthis.$element.off('.owl.core');\n\t\tthis.$stage.off('.owl.core');\n\t\t$(document).off('.owl.core');\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\twindow.clearTimeout(this.resizeTimer);\n\t\t\tthis.off(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tfor (var i in this._plugins) {\n\t\t\tthis._plugins[i].destroy();\n\t\t}\n\n\t\tthis.$stage.children('.cloned').remove();\n\n\t\tthis.$stage.unwrap();\n\t\tthis.$stage.children().contents().unwrap();\n\t\tthis.$stage.children().unwrap();\n\n\t\tthis.$element\n\t\t\t.removeClass(this.options.refreshClass)\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.removeClass(this.options.loadedClass)\n\t\t\t.removeClass(this.options.rtlClass)\n\t\t\t.removeClass(this.options.dragClass)\n\t\t\t.removeClass(this.options.grabClass)\n\t\t\t.attr('class', this.$element.attr('class').replace(new RegExp(this.options.responsiveClass + '-\\\\S+\\\\s', 'g'), ''))\n\t\t\t.removeData('owl.carousel');\n\t};\n\n\t/**\n\t * Operators to calculate right-to-left and left-to-right.\n\t * @protected\n\t * @param {Number} [a] - The left side operand.\n\t * @param {String} [o] - The operator.\n\t * @param {Number} [b] - The right side operand.\n\t */\n\tOwl.prototype.op = function(a, o, b) {\n\t\tvar rtl = this.settings.rtl;\n\t\tswitch (o) {\n\t\t\tcase '<':\n\t\t\t\treturn rtl ? a > b : a < b;\n\t\t\tcase '>':\n\t\t\t\treturn rtl ? a < b : a > b;\n\t\t\tcase '>=':\n\t\t\t\treturn rtl ? a <= b : a >= b;\n\t\t\tcase '<=':\n\t\t\t\treturn rtl ? a >= b : a <= b;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Attaches to an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The event handler to attach.\n\t * @param {Boolean} capture - Wether the event should be handled at the capturing phase or not.\n\t */\n\tOwl.prototype.on = function(element, event, listener, capture) {\n\t\tif (element.addEventListener) {\n\t\t\telement.addEventListener(event, listener, capture);\n\t\t} else if (element.attachEvent) {\n\t\t\telement.attachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Detaches from an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The attached event handler to detach.\n\t * @param {Boolean} capture - Wether the attached event handler was registered as a capturing listener or not.\n\t */\n\tOwl.prototype.off = function(element, event, listener, capture) {\n\t\tif (element.removeEventListener) {\n\t\t\telement.removeEventListener(event, listener, capture);\n\t\t} else if (element.detachEvent) {\n\t\t\telement.detachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Triggers a public event.\n\t * @todo Remove `status`, `relatedTarget` should be used instead.\n\t * @protected\n\t * @param {String} name - The event name.\n\t * @param {*} [data=null] - The event data.\n\t * @param {String} [namespace=carousel] - The event namespace.\n\t * @param {String} [state] - The state which is associated with the event.\n\t * @param {Boolean} [enter=false] - Indicates if the call enters the specified state or not.\n\t * @returns {Event} - The event arguments.\n\t */\n\tOwl.prototype.trigger = function(name, data, namespace, state, enter) {\n\t\tvar status = {\n\t\t\titem: { count: this._items.length, index: this.current() }\n\t\t}, handler = $.camelCase(\n\t\t\t$.grep([ 'on', name, namespace ], function(v) { return v })\n\t\t\t\t.join('-').toLowerCase()\n\t\t), event = $.Event(\n\t\t\t[ name, 'owl', namespace || 'carousel' ].join('.').toLowerCase(),\n\t\t\t$.extend({ relatedTarget: this }, status, data)\n\t\t);\n\n\t\tif (!this._supress[name]) {\n\t\t\t$.each(this._plugins, function(name, plugin) {\n\t\t\t\tif (plugin.onTrigger) {\n\t\t\t\t\tplugin.onTrigger(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.register({ type: Owl.Type.Event, name: name });\n\t\t\tthis.$element.trigger(event);\n\n\t\t\tif (this.settings && typeof this.settings[handler] === 'function') {\n\t\t\t\tthis.settings[handler].call(this, event);\n\t\t\t}\n\t\t}\n\n\t\treturn event;\n\t};\n\n\t/**\n\t * Enters a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.enter = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tif (this._states.current[name] === undefined) {\n\t\t\t\tthis._states.current[name] = 0;\n\t\t\t}\n\n\t\t\tthis._states.current[name]++;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Leaves a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.leave = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tthis._states.current[name]--;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Registers an event or state.\n\t * @public\n\t * @param {Object} object - The event or state to register.\n\t */\n\tOwl.prototype.register = function(object) {\n\t\tif (object.type === Owl.Type.Event) {\n\t\t\tif (!$.event.special[object.name]) {\n\t\t\t\t$.event.special[object.name] = {};\n\t\t\t}\n\n\t\t\tif (!$.event.special[object.name].owl) {\n\t\t\t\tvar _default = $.event.special[object.name]._default;\n\t\t\t\t$.event.special[object.name]._default = function(e) {\n\t\t\t\t\tif (_default && _default.apply && (!e.namespace || e.namespace.indexOf('owl') === -1)) {\n\t\t\t\t\t\treturn _default.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\t\t\treturn e.namespace && e.namespace.indexOf('owl') > -1;\n\t\t\t\t};\n\t\t\t\t$.event.special[object.name].owl = true;\n\t\t\t}\n\t\t} else if (object.type === Owl.Type.State) {\n\t\t\tif (!this._states.tags[object.name]) {\n\t\t\t\tthis._states.tags[object.name] = object.tags;\n\t\t\t} else {\n\t\t\t\tthis._states.tags[object.name] = this._states.tags[object.name].concat(object.tags);\n\t\t\t}\n\n\t\t\tthis._states.tags[object.name] = $.grep(this._states.tags[object.name], $.proxy(function(tag, i) {\n\t\t\t\treturn $.inArray(tag, this._states.tags[object.name]) === i;\n\t\t\t}, this));\n\t\t}\n\t};\n\n\t/**\n\t * Suppresses events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to suppress.\n\t */\n\tOwl.prototype.suppress = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tthis._supress[event] = true;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Releases suppressed events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to release.\n\t */\n\tOwl.prototype.release = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tdelete this._supress[event];\n\t\t}, this));\n\t};\n\n\t/**\n\t * Gets unified pointer coordinates from event.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} - The `mousedown` or `touchstart` event.\n\t * @returns {Object} - Contains `x` and `y` coordinates of current pointer position.\n\t */\n\tOwl.prototype.pointer = function(event) {\n\t\tvar result = { x: null, y: null };\n\n\t\tevent = event.originalEvent || event || window.event;\n\n\t\tevent = event.touches && event.touches.length ?\n\t\t\tevent.touches[0] : event.changedTouches && event.changedTouches.length ?\n\t\t\t\tevent.changedTouches[0] : event;\n\n\t\tif (event.pageX) {\n\t\t\tresult.x = event.pageX;\n\t\t\tresult.y = event.pageY;\n\t\t} else {\n\t\t\tresult.x = event.clientX;\n\t\t\tresult.y = event.clientY;\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t/**\n\t * Determines if the input is a Number or something that can be coerced to a Number\n\t * @protected\n\t * @param {Number|String|Object|Array|Boolean|RegExp|Function|Symbol} - The input to be tested\n\t * @returns {Boolean} - An indication if the input is a Number or can be coerced to a Number\n\t */\n\tOwl.prototype.isNumeric = function(number) {\n\t\treturn !isNaN(parseFloat(number));\n\t};\n\n\t/**\n\t * Gets the difference of two vectors.\n\t * @todo #261\n\t * @protected\n\t * @param {Object} - The first vector.\n\t * @param {Object} - The second vector.\n\t * @returns {Object} - The difference.\n\t */\n\tOwl.prototype.difference = function(first, second) {\n\t\treturn {\n\t\t\tx: first.x - second.x,\n\t\t\ty: first.y - second.y\n\t\t};\n\t};\n\n\t/**\n\t * The jQuery Plugin for the Owl Carousel\n\t * @todo Navigation plugin `next` and `prev`\n\t * @public\n\t */\n\t$.fn.owlCarousel = function(option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\t\treturn this.each(function() {\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('owl.carousel');\n\n\t\t\tif (!data) {\n\t\t\t\tdata = new Owl(this, typeof option == 'object' && option);\n\t\t\t\t$this.data('owl.carousel', data);\n\n\t\t\t\t$.each([\n\t\t\t\t\t'next', 'prev', 'to', 'destroy', 'refresh', 'replace', 'add', 'remove'\n\t\t\t\t], function(i, event) {\n\t\t\t\t\tdata.register({ type: Owl.Type.Event, name: event });\n\t\t\t\t\tdata.$element.on(event + '.owl.carousel.core', $.proxy(function(e) {\n\t\t\t\t\t\tif (e.namespace && e.relatedTarget !== this) {\n\t\t\t\t\t\t\tthis.suppress([ event ]);\n\t\t\t\t\t\t\tdata[event].apply(this, [].slice.call(arguments, 1));\n\t\t\t\t\t\t\tthis.release([ event ]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, data));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (typeof option == 'string' && option.charAt(0) !== '_') {\n\t\t\t\tdata[option].apply(data, args);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * The constructor for the jQuery Plugin\n\t * @public\n\t */\n\t$.fn.owlCarousel.Constructor = Owl;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoRefresh Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author Saurabh Sharma\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto refresh plugin.\n\t * @class The Auto Refresh Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar AutoRefresh = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Refresh interval.\n\t\t * @protected\n\t\t * @type {number}\n\t\t */\n\t\tthis._interval = null;\n\n\t\t/**\n\t\t * Whether the element is currently visible or not.\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._visible = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoRefresh) {\n\t\t\t\t\tthis.watch();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, AutoRefresh.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoRefresh.Defaults = {\n\t\tautoRefresh: true,\n\t\tautoRefreshInterval: 500\n\t};\n\n\t/**\n\t * Watches the element.\n\t */\n\tAutoRefresh.prototype.watch = function() {\n\t\tif (this._interval) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = this._core.$element.is(':visible');\n\t\tthis._interval = window.setInterval($.proxy(this.refresh, this), this._core.settings.autoRefreshInterval);\n\t};\n\n\t/**\n\t * Refreshes the element.\n\t */\n\tAutoRefresh.prototype.refresh = function() {\n\t\tif (this._core.$element.is(':visible') === this._visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = !this._visible;\n\n\t\tthis._core.$element.toggleClass('owl-hidden', !this._visible);\n\n\t\tthis._visible && (this._core.invalidate('width') && this._core.refresh());\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoRefresh.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\twindow.clearInterval(this._interval);\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.AutoRefresh = AutoRefresh;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Lazy Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author Saurabh Sharma\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the lazy plugin.\n\t * @class The Lazy Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Lazy = function(carousel) {\n\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Already loaded items.\n\t\t * @protected\n\t\t * @type {Array.<jQuery>}\n\t\t */\n\t\tthis._loaded = [];\n\n\t\t/**\n\t\t * Event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel change.owl.carousel resized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!e.namespace) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this._core.settings || !this._core.settings.lazyLoad) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ((e.property && e.property.name == 'position') || e.type == 'initialized') {\n\t\t\t\t\tvar settings = this._core.settings,\n\t\t\t\t\t\tn = (settings.center && Math.ceil(settings.items / 2) || settings.items),\n\t\t\t\t\t\ti = ((settings.center && n * -1) || 0),\n\t\t\t\t\t\tposition = (e.property && e.property.value !== undefined ? e.property.value : this._core.current()) + i,\n\t\t\t\t\t\tclones = this._core.clones().length,\n\t\t\t\t\t\tload = $.proxy(function(i, v) { this.load(v) }, this);\n\n\t\t\t\t\twhile (i++ < n) {\n\t\t\t\t\t\tthis.load(clones / 2 + this._core.relative(position));\n\t\t\t\t\t\tclones && $.each(this._core.clones(this._core.relative(position)), load);\n\t\t\t\t\t\tposition++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set the default options\n\t\tthis._core.options = $.extend({}, Lazy.Defaults, this._core.options);\n\n\t\t// register event handler\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tLazy.Defaults = {\n\t\tlazyLoad: false\n\t};\n\n\t/**\n\t * Loads all resources of an item at the specified position.\n\t * @param {Number} position - The absolute position of the item.\n\t * @protected\n\t */\n\tLazy.prototype.load = function(position) {\n\t\tvar $item = this._core.$stage.children().eq(position),\n\t\t\t$elements = $item && $item.find('.owl-lazy');\n\n\t\tif (!$elements || $.inArray($item.get(0), this._loaded) > -1) {\n\t\t\treturn;\n\t\t}\n\n\t\t$elements.each($.proxy(function(index, element) {\n\t\t\tvar $element = $(element), image,\n\t\t\t\turl = (window.devicePixelRatio > 1 && $element.attr('data-src-retina')) || $element.attr('data-src');\n\n\t\t\tthis._core.trigger('load', { element: $element, url: url }, 'lazy');\n\n\t\t\tif ($element.is('img')) {\n\t\t\t\t$element.one('load.owl.lazy', $.proxy(function() {\n\t\t\t\t\t$element.css('opacity', 1);\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this)).attr('src', url);\n\t\t\t} else {\n\t\t\t\timage = new Image();\n\t\t\t\timage.onload = $.proxy(function() {\n\t\t\t\t\t$element.css({\n\t\t\t\t\t\t'background-image': 'url(\"' + url + '\")',\n\t\t\t\t\t\t'opacity': '1'\n\t\t\t\t\t});\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this);\n\t\t\t\timage.src = url;\n\t\t\t}\n\t\t}, this));\n\n\t\tthis._loaded.push($item.get(0));\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tLazy.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis._core.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Lazy = Lazy;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoHeight Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author Saurabh Sharma\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto height plugin.\n\t * @class The Auto Height Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar AutoHeight = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight) {\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight && e.property.name == 'position'){\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'loaded.owl.lazy': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight\n\t\t\t\t\t&& e.element.closest('.' + this._core.settings.itemClass).index() === this._core.current()) {\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, AutoHeight.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoHeight.Defaults = {\n\t\tautoHeight: false,\n\t\tautoHeightClass: 'owl-height'\n\t};\n\n\t/**\n\t * Updates the view.\n\t */\n\tAutoHeight.prototype.update = function() {\n\t\tvar start = this._core._current,\n\t\t\tend = start + this._core.settings.items,\n\t\t\tvisible = this._core.$stage.children().toArray().slice(start, end),\n\t\t\theights = [],\n\t\t\tmaxheight = 0;\n\n\t\t$.each(visible, function(index, item) {\n\t\t\theights.push($(item).height());\n\t\t});\n\n\t\tmaxheight = Math.max.apply(null, heights);\n\n\t\tthis._core.$stage.parent()\n\t\t\t.height(maxheight)\n\t\t\t.addClass(this._core.settings.autoHeightClass);\n\t};\n\n\tAutoHeight.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.AutoHeight = AutoHeight;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Video Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author Saurabh Sharma\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the video plugin.\n\t * @class The Video Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Video = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Cache all video URLs.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._videos = {};\n\n\t\t/**\n\t\t * Current playing item.\n\t\t * @protected\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis._playing = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @todo The cloned content removale is too late\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis._core.register({ type: 'state', name: 'playing', tags: [ 'interacting' ] });\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'resize.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.video && this.isInFullScreen()) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.is('resizing')) {\n\t\t\t\t\tthis._core.$stage.find('.cloned .owl-video-frame').remove();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'position' && this._playing) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!e.namespace) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar $element = $(e.content).find('.owl-video');\n\n\t\t\t\tif ($element.length) {\n\t\t\t\t\t$element.css('display', 'none');\n\t\t\t\t\tthis.fetch($element, $(e.content));\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Video.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\n\t\tthis._core.$element.on('click.owl.video', '.owl-video-play-icon', $.proxy(function(e) {\n\t\t\tthis.play(e);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tVideo.Defaults = {\n\t\tvideo: false,\n\t\tvideoHeight: false,\n\t\tvideoWidth: false\n\t};\n\n\t/**\n\t * Gets the video ID and the type (YouTube/Vimeo/vzaar only).\n\t * @protected\n\t * @param {jQuery} target - The target containing the video data.\n\t * @param {jQuery} item - The item containing the video.\n\t */\n\tVideo.prototype.fetch = function(target, item) {\n\t\t\tvar type = (function() {\n\t\t\t\t\tif (target.attr('data-vimeo-id')) {\n\t\t\t\t\t\treturn 'vimeo';\n\t\t\t\t\t} else if (target.attr('data-vzaar-id')) {\n\t\t\t\t\t\treturn 'vzaar'\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 'youtube';\n\t\t\t\t\t}\n\t\t\t\t})(),\n\t\t\t\tid = target.attr('data-vimeo-id') || target.attr('data-youtube-id') || target.attr('data-vzaar-id'),\n\t\t\t\twidth = target.attr('data-width') || this._core.settings.videoWidth,\n\t\t\t\theight = target.attr('data-height') || this._core.settings.videoHeight,\n\t\t\t\turl = target.attr('href');\n\n\t\tif (url) {\n\n\t\t\t/*\n\t\t\t\t\tParses the id's out of the following urls (and probably more):\n\t\t\t\t\thttps://www.youtube.com/watch?v=:id\n\t\t\t\t\thttps://youtu.be/:id\n\t\t\t\t\thttps://vimeo.com/:id\n\t\t\t\t\thttps://vimeo.com/channels/:channel/:id\n\t\t\t\t\thttps://vimeo.com/groups/:group/videos/:id\n\t\t\t\t\thttps://app.vzaar.com/videos/:id\n\n\t\t\t\t\tVisual example: https://regexper.com/#(http%3A%7Chttps%3A%7C)%5C%2F%5C%2F(player.%7Cwww.%7Capp.)%3F(vimeo%5C.com%7Cyoutu(be%5C.com%7C%5C.be%7Cbe%5C.googleapis%5C.com)%7Cvzaar%5C.com)%5C%2F(video%5C%2F%7Cvideos%5C%2F%7Cembed%5C%2F%7Cchannels%5C%2F.%2B%5C%2F%7Cgroups%5C%2F.%2B%5C%2F%7Cwatch%5C%3Fv%3D%7Cv%5C%2F)%3F(%5BA-Za-z0-9._%25-%5D*)(%5C%26%5CS%2B)%3F\n\t\t\t*/\n\n\t\t\tid = url.match(/(http:|https:|)\\/\\/(player.|www.|app.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com)|vzaar\\.com)\\/(video\\/|videos\\/|embed\\/|channels\\/.+\\/|groups\\/.+\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/);\n\n\t\t\tif (id[3].indexOf('youtu') > -1) {\n\t\t\t\ttype = 'youtube';\n\t\t\t} else if (id[3].indexOf('vimeo') > -1) {\n\t\t\t\ttype = 'vimeo';\n\t\t\t} else if (id[3].indexOf('vzaar') > -1) {\n\t\t\t\ttype = 'vzaar';\n\t\t\t} else {\n\t\t\t\tthrow new Error('Video URL not supported.');\n\t\t\t}\n\t\t\tid = id[6];\n\t\t} else {\n\t\t\tthrow new Error('Missing video URL.');\n\t\t}\n\n\t\tthis._videos[url] = {\n\t\t\ttype: type,\n\t\t\tid: id,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\n\t\titem.attr('data-video', url);\n\n\t\tthis.thumbnail(target, this._videos[url]);\n\t};\n\n\t/**\n\t * Creates video thumbnail.\n\t * @protected\n\t * @param {jQuery} target - The target containing the video data.\n\t * @param {Object} info - The video info object.\n\t * @see `fetch`\n\t */\n\tVideo.prototype.thumbnail = function(target, video) {\n\t\tvar tnLink,\n\t\t\ticon,\n\t\t\tpath,\n\t\t\tdimensions = video.width && video.height ? 'style=\"width:' + video.width + 'px;height:' + video.height + 'px;\"' : '',\n\t\t\tcustomTn = target.find('img'),\n\t\t\tsrcType = 'src',\n\t\t\tlazyClass = '',\n\t\t\tsettings = this._core.settings,\n\t\t\tcreate = function(path) {\n\t\t\t\ticon = '<div class=\"owl-video-play-icon\"></div>';\n\n\t\t\t\tif (settings.lazyLoad) {\n\t\t\t\t\ttnLink = '<div class=\"owl-video-tn ' + lazyClass + '\" ' + srcType + '=\"' + path + '\"></div>';\n\t\t\t\t} else {\n\t\t\t\t\ttnLink = '<div class=\"owl-video-tn\" style=\"opacity:1;background-image:url(' + path + ')\"></div>';\n\t\t\t\t}\n\t\t\t\ttarget.after(tnLink);\n\t\t\t\ttarget.after(icon);\n\t\t\t};\n\n\t\t// wrap video content into owl-video-wrapper div\n\t\ttarget.wrap('<div class=\"owl-video-wrapper\"' + dimensions + '></div>');\n\n\t\tif (this._core.settings.lazyLoad) {\n\t\t\tsrcType = 'data-src';\n\t\t\tlazyClass = 'owl-lazy';\n\t\t}\n\n\t\t// custom thumbnail\n\t\tif (customTn.length) {\n\t\t\tcreate(customTn.attr(srcType));\n\t\t\tcustomTn.remove();\n\t\t\treturn false;\n\t\t}\n\n\t\tif (video.type === 'youtube') {\n\t\t\tpath = \"//img.youtube.com/vi/\" + video.id + \"/hqdefault.jpg\";\n\t\t\tcreate(path);\n\t\t} else if (video.type === 'vimeo') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: '//vimeo.com/api/v2/video/' + video.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data[0].thumbnail_large;\n\t\t\t\t\tcreate(path);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (video.type === 'vzaar') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: '//vzaar.com/api/videos/' + video.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data.framegrab_url;\n\t\t\t\t\tcreate(path);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Stops the current video.\n\t * @public\n\t */\n\tVideo.prototype.stop = function() {\n\t\tthis._core.trigger('stop', null, 'video');\n\t\tthis._playing.find('.owl-video-frame').remove();\n\t\tthis._playing.removeClass('owl-video-playing');\n\t\tthis._playing = null;\n\t\tthis._core.leave('playing');\n\t\tthis._core.trigger('stopped', null, 'video');\n\t};\n\n\t/**\n\t * Starts the current video.\n\t * @public\n\t * @param {Event} event - The event arguments.\n\t */\n\tVideo.prototype.play = function(event) {\n\t\tvar target = $(event.target),\n\t\t\titem = target.closest('.' + this._core.settings.itemClass),\n\t\t\tvideo = this._videos[item.attr('data-video')],\n\t\t\twidth = video.width || '100%',\n\t\t\theight = video.height || this._core.$stage.height(),\n\t\t\thtml;\n\n\t\tif (this._playing) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._core.enter('playing');\n\t\tthis._core.trigger('play', null, 'video');\n\n\t\titem = this._core.items(this._core.relative(item.index()));\n\n\t\tthis._core.reset(item.index());\n\n\t\tif (video.type === 'youtube') {\n\t\t\thtml = '<iframe width=\"' + width + '\" height=\"' + height + '\" src=\"//www.youtube.com/embed/' +\n\t\t\t\tvideo.id + '?autoplay=1&rel=0&v=' + video.id + '\" frameborder=\"0\" allowfullscreen></iframe>';\n\t\t} else if (video.type === 'vimeo') {\n\t\t\thtml = '<iframe src=\"//player.vimeo.com/video/' + video.id +\n\t\t\t\t'?autoplay=1\" width=\"' + width + '\" height=\"' + height +\n\t\t\t\t'\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';\n\t\t} else if (video.type === 'vzaar') {\n\t\t\thtml = '<iframe frameborder=\"0\"' + 'height=\"' + height + '\"' + 'width=\"' + width +\n\t\t\t\t'\" allowfullscreen mozallowfullscreen webkitAllowFullScreen ' +\n\t\t\t\t'src=\"//view.vzaar.com/' + video.id + '/player?autoplay=true\"></iframe>';\n\t\t}\n\n\t\t$('<div class=\"owl-video-frame\">' + html + '</div>').insertAfter(item.find('.owl-video'));\n\n\t\tthis._playing = item.addClass('owl-video-playing');\n\t};\n\n\t/**\n\t * Checks whether an video is currently in full screen mode or not.\n\t * @todo Bad style because looks like a readonly method but changes members.\n\t * @protected\n\t * @returns {Boolean}\n\t */\n\tVideo.prototype.isInFullScreen = function() {\n\t\tvar element = document.fullscreenElement || document.mozFullScreenElement ||\n\t\t\t\tdocument.webkitFullscreenElement;\n\n\t\treturn element && $(element).parent().hasClass('owl-video-frame');\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tVideo.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis._core.$element.off('click.owl.video');\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Video = Video;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Animate Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author Saurabh Sharma\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the animate plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tvar Animate = function(scope) {\n\t\tthis.core = scope;\n\t\tthis.core.options = $.extend({}, Animate.Defaults, this.core.options);\n\t\tthis.swapping = true;\n\t\tthis.previous = undefined;\n\t\tthis.next = undefined;\n\n\t\tthis.handlers = {\n\t\t\t'change.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name == 'position') {\n\t\t\t\t\tthis.previous = this.core.current();\n\t\t\t\t\tthis.next = e.property.value;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'drag.owl.carousel dragged.owl.carousel translated.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.swapping = e.type == 'translated';\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'translate.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn)) {\n\t\t\t\t\tthis.swap();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.core.$element.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAnimate.Defaults = {\n\t\tanimateOut: false,\n\t\tanimateIn: false\n\t};\n\n\t/**\n\t * Toggles the animation classes whenever an translations starts.\n\t * @protected\n\t * @returns {Boolean|undefined}\n\t */\n\tAnimate.prototype.swap = function() {\n\n\t\tif (this.core.settings.items !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!$.support.animation || !$.support.transition) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.core.speed(0);\n\n\t\tvar left,\n\t\t\tclear = $.proxy(this.clear, this),\n\t\t\tprevious = this.core.$stage.children().eq(this.previous),\n\t\t\tnext = this.core.$stage.children().eq(this.next),\n\t\t\tincoming = this.core.settings.animateIn,\n\t\t\toutgoing = this.core.settings.animateOut;\n\n\t\tif (this.core.current() === this.previous) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (outgoing) {\n\t\t\tleft = this.core.coordinates(this.previous) - this.core.coordinates(this.next);\n\t\t\tprevious.one($.support.animation.end, clear)\n\t\t\t\t.css( { 'left': left + 'px' } )\n\t\t\t\t.addClass('animated owl-animated-out')\n\t\t\t\t.addClass(outgoing);\n\t\t}\n\n\t\tif (incoming) {\n\t\t\tnext.one($.support.animation.end, clear)\n\t\t\t\t.addClass('animated owl-animated-in')\n\t\t\t\t.addClass(incoming);\n\t\t}\n\t};\n\n\tAnimate.prototype.clear = function(e) {\n\t\t$(e.target).css( { 'left': '' } )\n\t\t\t.removeClass('animated owl-animated-out owl-animated-in')\n\t\t\t.removeClass(this.core.settings.animateIn)\n\t\t\t.removeClass(this.core.settings.animateOut);\n\t\tthis.core.onTransitionEnd();\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tAnimate.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.core.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Animate = Animate;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Autoplay Plugin\n * @version 2.1.0\n * @author Bartosz Wojciechowski\n * @author Artus Kolanowski\n * @author Saurabh Sharma\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the autoplay plugin.\n\t * @class The Autoplay Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tvar Autoplay = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * The autoplay timeout.\n\t\t * @type {Timeout}\n\t\t */\n\t\tthis._timeout = null;\n\n\t\t/**\n\t\t * Indicates whenever the autoplay is paused.\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._paused = false;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'settings') {\n\t\t\t\t\tif (this._core.settings.autoplay) {\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.stop();\n\t\t\t\t\t}\n\t\t\t\t} else if (e.namespace && e.property.name === 'position') {\n\t\t\t\t\t//console.log('play?', e);\n\t\t\t\t\tif (this._core.settings.autoplay) {\n\t\t\t\t\t\tthis._setAutoPlayInterval();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoplay) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'play.owl.autoplay': $.proxy(function(e, t, s) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.play(t, s);\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'stop.owl.autoplay': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseover.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseleave.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'touchstart.owl.core': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'touchend.owl.core': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Autoplay.Defaults, this._core.options);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoplay.Defaults = {\n\t\tautoplay: false,\n\t\tautoplayTimeout: 5000,\n\t\tautoplayHoverPause: false,\n\t\tautoplaySpeed: false\n\t};\n\n\t/**\n\t * Starts the autoplay.\n\t * @public\n\t * @param {Number} [timeout] - The interval before the next animation starts.\n\t * @param {Number} [speed] - The animation speed for the animations.\n\t */\n\tAutoplay.prototype.play = function(timeout, speed) {\n\t\tthis._paused = false;\n\n\t\tif (this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._core.enter('rotating');\n\n\t\tthis._setAutoPlayInterval();\n\t};\n\n\t/**\n\t * Gets a new timeout\n\t * @private\n\t * @param {Number} [timeout] - The interval before the next animation starts.\n\t * @param {Number} [speed] - The animation speed for the animations.\n\t * @return {Timeout}\n\t */\n\tAutoplay.prototype._getNextTimeout = function(timeout, speed) {\n\t\tif ( this._timeout ) {\n\t\t\twindow.clearTimeout(this._timeout);\n\t\t}\n\t\treturn window.setTimeout($.proxy(function() {\n\t\t\tif (this._paused || this._core.is('busy') || this._core.is('interacting') || document.hidden) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._core.next(speed || this._core.settings.autoplaySpeed);\n\t\t}, this), timeout || this._core.settings.autoplayTimeout);\n\t};\n\n\t/**\n\t * Sets autoplay in motion.\n\t * @private\n\t */\n\tAutoplay.prototype._setAutoPlayInterval = function() {\n\t\tthis._timeout = this._getNextTimeout();\n\t};\n\n\t/**\n\t * Stops the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.stop = function() {\n\t\tif (!this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.clearTimeout(this._timeout);\n\t\tthis._core.leave('rotating');\n\t};\n\n\t/**\n\t * Stops the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.pause = function() {\n\t\tif (!this._core.is('rotating')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._paused = true;\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoplay.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis.stop();\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.autoplay = Autoplay;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Navigation Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author Saurabh Sharma\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the navigation plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} carousel - The Owl Carousel.\n\t */\n\tvar Navigation = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Indicates whether the plugin is initialized or not.\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._initialized = false;\n\n\t\t/**\n\t\t * The current paging indexes.\n\t\t * @protected\n\t\t * @type {Array}\n\t\t */\n\t\tthis._pages = [];\n\n\t\t/**\n\t\t * All DOM elements of the user interface.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._controls = {};\n\n\t\t/**\n\t\t * Markup for an indicator.\n\t\t * @protected\n\t\t * @type {Array.<String>}\n\t\t */\n\t\tthis._templates = [];\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this._core.$element;\n\n\t\t/**\n\t\t * Overridden methods of the carousel.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._overrides = {\n\t\t\tnext: this._core.next,\n\t\t\tprev: this._core.prev,\n\t\t\tto: this._core.to\n\t\t};\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.push('<div class=\"' + this._core.settings.dotClass + '\">' +\n\t\t\t\t\t\t$(e.content).find('[data-dot]').addBack('[data-dot]').attr('data-dot') + '</div>');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'added.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.splice(e.position, 0, this._templates.pop());\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'remove.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.splice(e.position, 1);\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name == 'position') {\n\t\t\t\t\tthis.draw();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && !this._initialized) {\n\t\t\t\t\tthis._core.trigger('initialize', null, 'navigation');\n\t\t\t\t\tthis.initialize();\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t\tthis._initialized = true;\n\t\t\t\t\tthis._core.trigger('initialized', null, 'navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._initialized) {\n\t\t\t\t\tthis._core.trigger('refresh', null, 'navigation');\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t\tthis._core.trigger('refreshed', null, 'navigation');\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Navigation.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t * @todo Rename `slideBy` to `navBy`\n\t */\n\tNavigation.Defaults = {\n\t\tnav: false,\n\t\tnavText: [ 'prev', 'next' ],\n\t\tnavSpeed: false,\n\t\tnavElement: 'div',\n\t\tnavContainer: false,\n\t\tnavContainerClass: 'owl-nav',\n\t\tnavClass: [ 'owl-prev', 'owl-next' ],\n\t\tslideBy: 1,\n\t\tdotClass: 'owl-dot',\n\t\tdotsClass: 'owl-dots',\n\t\tdots: true,\n\t\tdotsEach: false,\n\t\tdotsData: false,\n\t\tdotsSpeed: false,\n\t\tdotsContainer: false\n\t};\n\n\t/**\n\t * Initializes the layout of the plugin and extends the carousel.\n\t * @protected\n\t */\n\tNavigation.prototype.initialize = function() {\n\t\tvar override,\n\t\t\tsettings = this._core.settings;\n\n\t\t// create DOM structure for relative navigation\n\t\tthis._controls.$relative = (settings.navContainer ? $(settings.navContainer)\n\t\t\t: $('<div>').addClass(settings.navContainerClass).appendTo(this.$element)).addClass('disabled');\n\n\t\tthis._controls.$previous = $('<' + settings.navElement + '>')\n\t\t\t.addClass(settings.navClass[0])\n\t\t\t.html(settings.navText[0])\n\t\t\t.prependTo(this._controls.$relative)\n\t\t\t.on('click', $.proxy(function(e) {\n\t\t\t\tthis.prev(settings.navSpeed);\n\t\t\t}, this));\n\t\tthis._controls.$next = $('<' + settings.navElement + '>')\n\t\t\t.addClass(settings.navClass[1])\n\t\t\t.html(settings.navText[1])\n\t\t\t.appendTo(this._controls.$relative)\n\t\t\t.on('click', $.proxy(function(e) {\n\t\t\t\tthis.next(settings.navSpeed);\n\t\t\t}, this));\n\n\t\t// create DOM structure for absolute navigation\n\t\tif (!settings.dotsData) {\n\t\t\tthis._templates = [ $('<div>')\n\t\t\t\t.addClass(settings.dotClass)\n\t\t\t\t.append($('<span>'))\n\t\t\t\t.prop('outerHTML') ];\n\t\t}\n\n\t\tthis._controls.$absolute = (settings.dotsContainer ? $(settings.dotsContainer)\n\t\t\t: $('<div>').addClass(settings.dotsClass).appendTo(this.$element)).addClass('disabled');\n\n\t\tthis._controls.$absolute.on('click', 'div', $.proxy(function(e) {\n\t\t\tvar index = $(e.target).parent().is(this._controls.$absolute)\n\t\t\t\t? $(e.target).index() : $(e.target).parent().index();\n\n\t\t\te.preventDefault();\n\n\t\t\tthis.to(index, settings.dotsSpeed);\n\t\t}, this));\n\n\t\t// override public methods of the carousel\n\t\tfor (override in this._overrides) {\n\t\t\tthis._core[override] = $.proxy(this[override], this);\n\t\t}\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @protected\n\t */\n\tNavigation.prototype.destroy = function() {\n\t\tvar handler, control, property, override;\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (control in this._controls) {\n\t\t\tthis._controls[control].remove();\n\t\t}\n\t\tfor (override in this.overides) {\n\t\t\tthis._core[override] = this._overrides[override];\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the internal state.\n\t * @protected\n\t */\n\tNavigation.prototype.update = function() {\n\t\tvar i, j, k,\n\t\t\tlower = this._core.clones().length / 2,\n\t\t\tupper = lower + this._core.items().length,\n\t\t\tmaximum = this._core.maximum(true),\n\t\t\tsettings = this._core.settings,\n\t\t\tsize = settings.center || settings.autoWidth || settings.dotsData\n\t\t\t\t? 1 : settings.dotsEach || settings.items;\n\n\t\tif (settings.slideBy !== 'page') {\n\t\t\tsettings.slideBy = Math.min(settings.slideBy, settings.items);\n\t\t}\n\n\t\tif (settings.dots || settings.slideBy == 'page') {\n\t\t\tthis._pages = [];\n\n\t\t\tfor (i = lower, j = 0, k = 0; i < upper; i++) {\n\t\t\t\tif (j >= size || j === 0) {\n\t\t\t\t\tthis._pages.push({\n\t\t\t\t\t\tstart: Math.min(maximum, i - lower),\n\t\t\t\t\t\tend: i - lower + size - 1\n\t\t\t\t\t});\n\t\t\t\t\tif (Math.min(maximum, i - lower) === maximum) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tj = 0, ++k;\n\t\t\t\t}\n\t\t\t\tj += this._core.mergers(this._core.relative(i));\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Draws the user interface.\n\t * @todo The option `dotsData` wont work.\n\t * @protected\n\t */\n\tNavigation.prototype.draw = function() {\n\t\tvar difference,\n\t\t\tsettings = this._core.settings,\n\t\t\tdisabled = this._core.items().length <= settings.items,\n\t\t\tindex = this._core.relative(this._core.current()),\n\t\t\tloop = settings.loop || settings.rewind;\n\n\t\tthis._controls.$relative.toggleClass('disabled', !settings.nav || disabled);\n\n\t\tif (settings.nav) {\n\t\t\tthis._controls.$previous.toggleClass('disabled', !loop && index <= this._core.minimum(true));\n\t\t\tthis._controls.$next.toggleClass('disabled', !loop && index >= this._core.maximum(true));\n\t\t}\n\n\t\tthis._controls.$absolute.toggleClass('disabled', !settings.dots || disabled);\n\n\t\tif (settings.dots) {\n\t\t\tdifference = this._pages.length - this._controls.$absolute.children().length;\n\n\t\t\tif (settings.dotsData && difference !== 0) {\n\t\t\t\tthis._controls.$absolute.html(this._templates.join(''));\n\t\t\t} else if (difference > 0) {\n\t\t\t\tthis._controls.$absolute.append(new Array(difference + 1).join(this._templates[0]));\n\t\t\t} else if (difference < 0) {\n\t\t\t\tthis._controls.$absolute.children().slice(difference).remove();\n\t\t\t}\n\n\t\t\tthis._controls.$absolute.find('.active').removeClass('active');\n\t\t\tthis._controls.$absolute.children().eq($.inArray(this.current(), this._pages)).addClass('active');\n\t\t}\n\t};\n\n\t/**\n\t * Extends event data.\n\t * @protected\n\t * @param {Event} event - The event object which gets thrown.\n\t */\n\tNavigation.prototype.onTrigger = function(event) {\n\t\tvar settings = this._core.settings;\n\n\t\tevent.page = {\n\t\t\tindex: $.inArray(this.current(), this._pages),\n\t\t\tcount: this._pages.length,\n\t\t\tsize: settings && (settings.center || settings.autoWidth || settings.dotsData\n\t\t\t\t? 1 : settings.dotsEach || settings.items)\n\t\t};\n\t};\n\n\t/**\n\t * Gets the current page position of the carousel.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.current = function() {\n\t\tvar current = this._core.relative(this._core.current());\n\t\treturn $.grep(this._pages, $.proxy(function(page, index) {\n\t\t\treturn page.start <= current && page.end >= current;\n\t\t}, this)).pop();\n\t};\n\n\t/**\n\t * Gets the current succesor/predecessor position.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.getPosition = function(successor) {\n\t\tvar position, length,\n\t\t\tsettings = this._core.settings;\n\n\t\tif (settings.slideBy == 'page') {\n\t\t\tposition = $.inArray(this.current(), this._pages);\n\t\t\tlength = this._pages.length;\n\t\t\tsuccessor ? ++position : --position;\n\t\t\tposition = this._pages[((position % length) + length) % length].start;\n\t\t} else {\n\t\t\tposition = this._core.relative(this._core.current());\n\t\t\tlength = this._core.items().length;\n\t\t\tsuccessor ? position += settings.slideBy : position -= settings.slideBy;\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Slides to the next item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.next = function(speed) {\n\t\t$.proxy(this._overrides.to, this._core)(this.getPosition(true), speed);\n\t};\n\n\t/**\n\t * Slides to the previous item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.prev = function(speed) {\n\t\t$.proxy(this._overrides.to, this._core)(this.getPosition(false), speed);\n\t};\n\n\t/**\n\t * Slides to the specified item or page.\n\t * @public\n\t * @param {Number} position - The position of the item or page.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t * @param {Boolean} [standard=false] - Whether to use the standard behaviour or not.\n\t */\n\tNavigation.prototype.to = function(position, speed, standard) {\n\t\tvar length;\n\n\t\tif (!standard && this._pages.length) {\n\t\t\tlength = this._pages.length;\n\t\t\t$.proxy(this._overrides.to, this._core)(this._pages[((position % length) + length) % length].start, speed);\n\t\t} else {\n\t\t\t$.proxy(this._overrides.to, this._core)(position, speed);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Navigation = Navigation;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Hash Plugin\n * @version 2.1.0\n * @author Artus Kolanowski\n * @author Saurabh Sharma\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the hash plugin.\n\t * @class The Hash Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Hash = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Hash index for the items.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._hashes = {};\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this._core.$element;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.startPosition === 'URLHash') {\n\t\t\t\t\t$(window).trigger('hashchange.owl.navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tvar hash = $(e.content).find('[data-hash]').addBack('[data-hash]').attr('data-hash');\n\n\t\t\t\t\tif (!hash) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._hashes[hash] = e.content;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'position') {\n\t\t\t\t\tvar current = this._core.items(this._core.relative(this._core.current())),\n\t\t\t\t\t\thash = $.map(this._hashes, function(item, hash) {\n\t\t\t\t\t\t\treturn item === current ? hash : null;\n\t\t\t\t\t\t}).join();\n\n\t\t\t\t\tif (!hash || window.location.hash.slice(1) === hash) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\twindow.location.hash = hash;\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Hash.Defaults, this._core.options);\n\n\t\t// register the event handlers\n\t\tthis.$element.on(this._handlers);\n\n\t\t// register event listener for hash navigation\n\t\t$(window).on('hashchange.owl.navigation', $.proxy(function(e) {\n\t\t\tvar hash = window.location.hash.substring(1),\n\t\t\t\titems = this._core.$stage.children(),\n\t\t\t\tposition = this._hashes[hash] && items.index(this._hashes[hash]);\n\n\t\t\tif (position === undefined || position === this._core.current()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._core.to(this._core.relative(position), false, true);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tHash.Defaults = {\n\t\tURLhashListener: false\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tHash.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\t$(window).off('hashchange.owl.navigation');\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Hash = Hash;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Support Plugin\n *\n * @version 2.1.0\n * @author Vivid Planet Software GmbH\n * @author Artus Kolanowski\n * @author Saurabh Sharma\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\tvar style = $('<support>').get(0).style,\n\t\tprefixes = 'Webkit Moz O ms'.split(' '),\n\t\tevents = {\n\t\t\ttransition: {\n\t\t\t\tend: {\n\t\t\t\t\tWebkitTransition: 'webkitTransitionEnd',\n\t\t\t\t\tMozTransition: 'transitionend',\n\t\t\t\t\tOTransition: 'oTransitionEnd',\n\t\t\t\t\ttransition: 'transitionend'\n\t\t\t\t}\n\t\t\t},\n\t\t\tanimation: {\n\t\t\t\tend: {\n\t\t\t\t\tWebkitAnimation: 'webkitAnimationEnd',\n\t\t\t\t\tMozAnimation: 'animationend',\n\t\t\t\t\tOAnimation: 'oAnimationEnd',\n\t\t\t\t\tanimation: 'animationend'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttests = {\n\t\t\tcsstransforms: function() {\n\t\t\t\treturn !!test('transform');\n\t\t\t},\n\t\t\tcsstransforms3d: function() {\n\t\t\t\treturn !!test('perspective');\n\t\t\t},\n\t\t\tcsstransitions: function() {\n\t\t\t\treturn !!test('transition');\n\t\t\t},\n\t\t\tcssanimations: function() {\n\t\t\t\treturn !!test('animation');\n\t\t\t}\n\t\t};\n\n\tfunction test(property, prefixed) {\n\t\tvar result = false,\n\t\t\tupper = property.charAt(0).toUpperCase() + property.slice(1);\n\n\t\t$.each((property + ' ' + prefixes.join(upper + ' ') + upper).split(' '), function(i, property) {\n\t\t\tif (style[property] !== undefined) {\n\t\t\t\tresult = prefixed ? property : true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tfunction prefixed(property) {\n\t\treturn test(property, true);\n\t}\n\n\tif (tests.csstransitions()) {\n\t\t/* jshint -W053 */\n\t\t$.support.transition = new String(prefixed('transition'))\n\t\t$.support.transition.end = events.transition.end[ $.support.transition ];\n\t}\n\n\tif (tests.cssanimations()) {\n\t\t/* jshint -W053 */\n\t\t$.support.animation = new String(prefixed('animation'))\n\t\t$.support.animation.end = events.animation.end[ $.support.animation ];\n\t}\n\n\tif (tests.csstransforms()) {\n\t\t/* jshint -W053 */\n\t\t$.support.transform = new String(prefixed('transform'));\n\t\t$.support.transform3d = tests.csstransforms3d();\n\t}\n\n})(window.Zepto || window.jQuery, window, document);\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// html:\r\n//     .collapse-contaner\r\n//         .something-visible\r\n//         .collapse-item\r\n\r\n$(function(){\r\n    $('.collapse-container').each(function(){\r\n        var _thisBlock = $(this),\r\n            collapse = _thisBlock.find('.collapse');\r\n            \r\n        $(collapse).not('.collapse-show').find('.collapse-item').slideUp('fast');\r\n        $(collapse).click(function(){\r\n            $(this).toggleClass('collapse-show').find('.collapse-item').slideToggle('fast')\r\n        })\r\n\r\n    })\r\n})","//custom-select \r\n// html :\r\n// .custom-select\r\n//     input#custom_select_input\r\n//     .fake_input\r\n//     ul\r\n//         li.selected(data-value=\"blabla\") blabla\r\n//         li(data-value=\"blabla1\") blabla1\r\n//         li(data-value=\"blabla2\") blabla2\r\n$(function () {\r\n    $('.custom-select').each(function () {\r\n        var _this = $(this),\r\n            fakeInput = _this.find('.fake_input'),\r\n            inputHidden = _this.find('.custom_select_input'),\r\n            selected = _this.find('li.selected'),\r\n            errorClass = 'has-error',\r\n            _open = function () {\r\n                _this.addClass('select-open')\r\n            },\r\n            _close = function () {\r\n                _this.removeClass('select-open')\r\n            },\r\n            _changeSlected = function (elem) {\r\n                _this.find('li').removeClass('selected');\r\n                $(elem).addClass('selected');\r\n            },\r\n            _update = function (val) {\r\n                val = val || 'selected not found';\r\n                fakeInput.text(val);\r\n                inputHidden.val(val);\r\n                // console.log(inputHidden.val());\r\n                _validate();\r\n\r\n            },\r\n            _validate = function () {\r\n                if (fakeInput.text().trim() == \"項目を選択してください\") {\r\n                    inputHidden.addClass(errorClass);\r\n                    inputHidden.val('');\r\n                } else {\r\n                    inputHidden.removeClass(errorClass);\r\n                }\r\n            },\r\n            _init = function(){\r\n                if (selected.length) {\r\n                    _update(_this.find(selected).data('value'));\r\n                }\r\n            };\r\n\r\n        //init\r\n        _init();\r\n\r\n        //handle\r\n        fakeInput.on('click', function () {\r\n            _open();\r\n        })\r\n\r\n        _this.on('click', 'li', function () {\r\n            var val = $(this).data('value');\r\n            _changeSlected(this);\r\n            _update(val);\r\n            _close();\r\n        })\r\n\r\n        $(document).on('click touchstart', function (event) {\r\n            // Check if clicked outside target\r\n            if (!($(event.target).closest(\".custom-select\").length)) {\r\n                // Hide target\r\n                _close();\r\n            }\r\n        });\r\n    })\r\n})","//contact-form\r\n// import { numberFormat} from '../helper/helper.js';\r\n\r\n$(function () {\r\n    var Postal_code = require('japan-postal-code'),\r\n        { scrollToX } = require('../helper/helper.js'),\r\n        { checkWindowSP } = require('../helper/helper'),\r\n        bodyScrollLock = require('body-scroll-lock'),\r\n        disableBodyScroll = bodyScrollLock.disableBodyScroll,\r\n        enableBodyScroll = bodyScrollLock.enableBodyScroll,\r\n        targetElement = $(\".step-overlay\")[0],\r\n        code,\r\n        addressResponse,\r\n        Prefecture,\r\n        Address=$('#address'),\r\n        company,\r\n        request,\r\n        name,\r\n        zipcode,\r\n        address,\r\n        phone,\r\n        fax,\r\n        email,\r\n        question,\r\n        \r\n        setPreview = function () {\r\n            function setText(id, text) {\r\n                if (!!text) {\r\n                    $(`#preview_${id}`).text(text);\r\n                    $(`#preview_${id}`).parents('tr').removeClass('hidden');\r\n                }\r\n                // console.log(id, \" : \", text);\r\n            };\r\n            company  = document.getElementById('company').value,\r\n            request  = document.querySelector('input[name=request]:checked').value,\r\n            name     = document.getElementById('name').value,\r\n            zipcode  = document.getElementById('zipcode').value,\r\n            address  = document.getElementById('address').value,\r\n            phone    = document.getElementById('phone').value,\r\n            fax      = document.getElementById('fax').value,\r\n            email    = document.getElementById('email').value,\r\n            question = document.getElementById('question_input').value;\r\n            \r\n            ['company', 'request', 'name','zipcode','address','phone','fax','email','question']\r\n            .forEach(function(item){\r\n                setText(item, eval(item))\r\n            })\r\n            if ( checkWindowSP() ) \r\n                $('.table-preview').css('margin-top', $('.fixed').height())\r\n        },\r\n        submitCallback = function () {\r\n            \r\n            $(\".form-submit .fa\").addClass(\"fa-spinner fa-spin\");\r\n            $.ajax({\r\n                url: \"mail.php\",\r\n                method: \"POST\",\r\n                data: {\r\n                    contact_form: true,\r\n                    company,\r\n                    request,\r\n                    name,\r\n                    zipcode,\r\n                    address,\r\n                    phone,\r\n                    fax,\r\n                    email,\r\n                    question\r\n                },\r\n                success: function success(res) {\r\n                    $(\".form-submit .fa\").removeClass(\"fa-spinner fa-spin\");\r\n                    $(\".form-submit .fa\").addClass(\"fa-check\");\r\n                    $('.step2').removeClass('step-show');\r\n                    $('.step3').addClass('step-show');\r\n                    document.getElementById(\"contact--form\").reset();\r\n                },\r\n                error: function error(xhr, status, err) {\r\n                    $(\".form-submit .fa\").removeClass(\"fa-spinner fa-spin\");\r\n                    $(\".form-submit .fa\").addClass(\"fa-exclamation\");\r\n                    $('.step2').removeClass('step-show');\r\n                    $('.step3').addClass('step-show');\r\n                    $('.contact-complete-message').html('Something wrong!')\r\n                }\r\n            });\r\n        };\r\n    \r\n    //\r\n    $('.step2, .step3').removeClass('step-show');\r\n    //get address from postal-code\r\n    $('.get-zipcode').click(function (e) {\r\n        e.preventDefault();\r\n        code = $('#zipcode').val(),\r\n            Postal_code.get(code, function (address) {\r\n                // console.log(address)\r\n                addressResponse = address.prefecture + ' ' + address.city + ' '+ address.area + ' ' + address.street;\r\n                // addressResponse = addressResponse.replace(/,\\s*$/, \"\"); // remove last comma\r\n                Address.val(addressResponse);\r\n            });\r\n    })\r\n    $(\"#contact--form\").validate({\r\n        focusInvalid: true,\r\n        ignore: '',\r\n        rules: {\r\n            //key is name of input\r\n            request: \"required\",\r\n            name: \"required\",\r\n            phone: {\r\n                required: true,\r\n                number: true\r\n            },\r\n            fax:{\r\n                number: true\r\n            },\r\n            email: {\r\n                required: true,\r\n                email: true,\r\n                maxlength: 255\r\n            },\r\n            re_email: {\r\n                required: true,\r\n                equalTo: \"#email\"\r\n            },\r\n            question: {\r\n                required: true,\r\n                minlength: 2\r\n            }\r\n        },\r\n        errorPlacement: function (error, element) {\r\n            return;\r\n        },\r\n        highlight: function (element, errorClass, validClass) {\r\n            $(element).addClass(\"has-error\");\r\n        },\r\n        unhighlight: function (element, errorClass, validClass) {\r\n            $(element).removeClass(\"has-error\")\r\n        },\r\n        submitHandler: function () {\r\n            $(\".form-submit .fa\").attr('class', 'fa');\r\n            $('.step-overlay').addClass('show');\r\n            checkWindowSP() ? disableBodyScroll(targetElement) : '';\r\n            setPreview();\r\n            var formScrolltop = $('.contact-table').offset().top;\r\n            scrollToX(formScrolltop);\r\n            $('.step2').addClass('step-show');\r\n        }\r\n    });\r\n\r\n    //handle event\r\n    $('.form-back, .form-end').click(function(){\r\n        $('.step-overlay').removeClass('show');\r\n        $('.step2, .step3').removeClass('step-show');\r\n        enableBodyScroll(targetElement);\r\n        $('.table-preview tr').addClass('hidden');\r\n    })\r\n    $('.form-submit').click(function(){\r\n        submitCallback();\r\n    })\r\n    \r\n\r\n})\r\n","$(window).on('load', function () {\r\n    //go-top button\r\n    $(\"#go-top, .go-top\").click(function () {\r\n        $(\"html, body\").animate({\r\n            scrollTop: 0\r\n        }, \"slow\");\r\n        return false;\r\n    });\r\n\r\n    //goto #id\r\n    // eg:   <a href=\"#example\" class=\"go-to\">go to</a>\r\n    $(\"a.go-to[href^='#']\").click(function (e) {\r\n        e.preventDefault();\r\n        $('#menu').removeClass('is-active');\r\n\r\n        var target = $($(this).attr('href'));\r\n        if (target.length) {\r\n            var fixedHeight = $('.fixed').height() || 0;\r\n            var pos = target.offset().top - fixedHeight;\r\n            $(\"html, body\").animate({\r\n                scrollTop: pos\r\n            }, \"slow\");\r\n        }\r\n    });\r\n})\r\n","\r\n//add maxlength attr to input[number]\r\n$(function () {\r\n    $(\"input[type='number'][maxlength]\").on('keyup keydown keypress blur change input', function (e) {\r\n        if (e.keyCode === 8 || e.keyCode === 9) {\r\n            return true\r\n        }\r\n        return this.value.length < +this.attributes.maxlength.value;\r\n    });\r\n})\r\n","//==== js-tab ====//\r\n// .js-tab\r\n//     ul.js-tabnav\r\n//         a[href=\"#tab1\"]\r\n//         a[href=\"#tab2\"]\r\n//     .js-tab-content\r\n//         #tab1.tab-panel.fade.in\r\n//         #tab2.tab-panel.fade\r\n$(function () {\r\n\r\n    $('.js-tab').each(function () {\r\n        var _this = $(this);\r\n        var nav = _this.find('.js-tabnav');\r\n        var handleClick = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click';\r\n        $(nav).on(handleClick, \"a[href^='#']\", function (e) {\r\n\r\n            e.preventDefault();\r\n            if ($(this).parent().hasClass('active')) {\r\n                return;\r\n            }\r\n            $(nav).find('.active').removeClass('active');\r\n            $(this).parent().addClass('active');\r\n\r\n\r\n            var target = $($(this).attr('href'));\r\n            target.siblings().removeClass('in');\r\n            setTimeout(function () {\r\n                target.siblings().removeClass('active');\r\n            }, 100);\r\n            target.addClass('active');\r\n            setTimeout(function () {\r\n                target.addClass('in');\r\n            }, 100);\r\n        })\r\n    })\r\n})","//mobile nav button\r\n$(document).on('click', '.nav-toggle', function () {\r\n    $('#menu').toggleClass('is-active');\r\n})","//----sticky-header\r\n$(function () {\r\n    if ($('.sticky-header').length) {\r\n        var _this = $('.sticky-header');\r\n        var afterFixed = $('.js-after-fixed');\r\n        // _this.after(afterFixed);\r\n        if (afterFixed) {\r\n            afterFixed.css('padding-top', $('.fixed').height());\r\n        }\r\n\r\n        // var stickyPos = _this.offset().top;\r\n        // $(window).scroll(function () {\r\n        //     if (window.innerWidth > 992) {\r\n        //         if ($(window).scrollTop() >= stickyPos) {\r\n        //             _this.addClass('fixed');\r\n        //             $('.after-fixed').css('padding-top', $('.fixed').height());\r\n        //         } else {\r\n        //             _this.removeClass('fixed');\r\n        //             $('.after-fixed').css('padding-top', '0px');\r\n        //         }\r\n        //     } else {\r\n        //         _this.removeClass('fixed');\r\n        //         $('.after-fixed').css('padding-top', '0px');\r\n        //     }\r\n        // })\r\n    }\r\n})","//re turn number like: 123-1234-1234\r\nexport function numberFormat(number, slice = 3, sepatate = '-') {\r\n    var arr = [],\r\n        temp = number.split('').reverse();\r\n    temp.forEach(function (el, i) {\r\n        (i + 1) % slice == 0 && i != 0 ? arr.push(el) && arr.push(sepatate) : arr.push(el)\r\n    })\r\n    return arr.reverse().join('');\r\n}\r\n\r\nexport function scrollToX(scrollTo, animate = true, clearFixedHeight = true) {\r\n    var pos = clearFixedHeight ?\r\n        scrollTo - $('.fixed').height() :\r\n        scrollTo;\r\n    var time = animate ? 'slow' : 10;\r\n    $(\"html, body\").animate({\r\n        scrollTop: pos\r\n    }, time);\r\n}\r\n\r\nexport function checkWindowSP() {\r\n    if (window.innerWidth < 768) {\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\nexport function debounce(func, wait) {\r\n    var timeout;\r\n\r\n    return function () {\r\n        var context = this,\r\n            args = arguments;\r\n\r\n        var executeFunction = function () {\r\n            func.apply(context, args);\r\n        };\r\n\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(executeFunction, wait);\r\n    };\r\n};","import { checkWindowSP, debounce } from \"../helper/helper\";\r\n$(function () {\r\n    const owlCarousel = require('owl.carousel2');\r\n    var owl = $('.slider-case');\r\n    \r\n    function slideInit() {\r\n        owl.on('initialized.owl.carousel changed.owl.carousel resized.owl.carousel', function(e) {\r\n            $(e.target).toggleClass('hide-owl-next', e.item.index >= e.item.count - e.page.size);\r\n            $(e.target).toggleClass('hide-owl-prev', e.item.index == 0);\r\n        });\r\n        owl.owlCarousel({\r\n            items: 1,\r\n            responsive: {\r\n                768: {\r\n                    items: 2\r\n                },\r\n            },\r\n            loop: false,\r\n            rewind: true,\r\n            autoplay: false,\r\n            autoplayTimeout: 2000,\r\n            autoplayHoverPause: false,\r\n            smartSpeed: 500, //slide speed smooth\r\n            margin: 1,\r\n            // stagePadding: 50,\r\n            // autoWidth: true,\r\n            dots: false,\r\n            nav: true,\r\n            navText: ['<i class=\"fa fa-angle-left\"><i/>', '<i class=\"fa fa-angle-right\"><i/>'],\r\n            center: false\r\n        });\r\n    }\r\n    if (checkWindowSP()) {\r\n        slideInit()\r\n    }\r\n    $(window).on('resize', debounce(function(){\r\n        if (checkWindowSP()) {\r\n            slideInit();\r\n        } else{\r\n            owl.owlCarousel('destroy');\r\n            console.log('dstroy')\r\n        }\r\n    }, 200))\r\n});","/*!\r\n * jQuery Validation Plugin v1.17.0\r\n *\r\n * https://jqueryvalidation.org/\r\n *\r\n * Copyright (c) 2017 Jörn Zaefferer\r\n * Released under the MIT license\r\n */\r\n(function (factory) {\r\n\tif (typeof define === \"function\" && define.amd) {\r\n\t\tdefine([\"jquery\"], factory);\r\n\t} else if (typeof module === \"object\" && module.exports) {\r\n\t\tmodule.exports = factory(require(\"jquery\"));\r\n\t} else {\r\n\t\tfactory(jQuery);\r\n\t}\r\n}(function ($) {\r\n\r\n\t$.extend($.fn, {\r\n\r\n\t\t// https://jqueryvalidation.org/validate/\r\n\t\tvalidate: function (options) {\r\n\r\n\t\t\t// If nothing is selected, return nothing; can't chain anyway\r\n\t\t\tif (!this.length) {\r\n\t\t\t\tif (options && options.debug && window.console) {\r\n\t\t\t\t\tconsole.warn(\"Nothing selected, can't validate, returning nothing.\");\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if a validator for this form was already created\r\n\t\t\tvar validator = $.data(this[0], \"validator\");\r\n\t\t\tif (validator) {\r\n\t\t\t\treturn validator;\r\n\t\t\t}\r\n\r\n\t\t\t// Add novalidate tag if HTML5.\r\n\t\t\tthis.attr(\"novalidate\", \"novalidate\");\r\n\r\n\t\t\tvalidator = new $.validator(options, this[0]);\r\n\t\t\t$.data(this[0], \"validator\", validator);\r\n\r\n\t\t\tif (validator.settings.onsubmit) {\r\n\r\n\t\t\t\tthis.on(\"click.validate\", \":submit\", function (event) {\r\n\r\n\t\t\t\t\t// Track the used submit button to properly handle scripted\r\n\t\t\t\t\t// submits later.\r\n\t\t\t\t\tvalidator.submitButton = event.currentTarget;\r\n\r\n\t\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\r\n\t\t\t\t\tif ($(this).hasClass(\"cancel\")) {\r\n\t\t\t\t\t\tvalidator.cancelSubmit = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\r\n\t\t\t\t\tif ($(this).attr(\"formnovalidate\") !== undefined) {\r\n\t\t\t\t\t\tvalidator.cancelSubmit = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Validate the form on submit\r\n\t\t\t\tthis.on(\"submit.validate\", function (event) {\r\n\t\t\t\t\tif (validator.settings.debug) {\r\n\r\n\t\t\t\t\t\t// Prevent form submit to be able to see console output\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction handle() {\r\n\t\t\t\t\t\tvar hidden, result;\r\n\r\n\t\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\r\n\t\t\t\t\t\t// The hidden input is inserted in two cases:\r\n\t\t\t\t\t\t//   - A user defined a `submitHandler`\r\n\t\t\t\t\t\t//   - There was a pending request due to `remote` method and `stopRequest()`\r\n\t\t\t\t\t\t//     was called to submit the form in case it's valid\r\n\t\t\t\t\t\tif (validator.submitButton && (validator.settings.submitHandler || validator.formSubmitted)) {\r\n\t\t\t\t\t\t\thidden = $(\"<input type='hidden'/>\")\r\n\t\t\t\t\t\t\t\t.attr(\"name\", validator.submitButton.name)\r\n\t\t\t\t\t\t\t\t.val($(validator.submitButton).val())\r\n\t\t\t\t\t\t\t\t.appendTo(validator.currentForm);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (validator.settings.submitHandler) {\r\n\t\t\t\t\t\t\tresult = validator.settings.submitHandler.call(validator, validator.currentForm, event);\r\n\t\t\t\t\t\t\tif (hidden) {\r\n\r\n\t\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\r\n\t\t\t\t\t\t\t\thidden.remove();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (result !== undefined) {\r\n\t\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\r\n\t\t\t\t\tif (validator.cancelSubmit) {\r\n\t\t\t\t\t\tvalidator.cancelSubmit = false;\r\n\t\t\t\t\t\treturn handle();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (validator.form()) {\r\n\t\t\t\t\t\tif (validator.pendingRequest) {\r\n\t\t\t\t\t\t\tvalidator.formSubmitted = true;\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn handle();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvalidator.focusInvalid();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn validator;\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/valid/\r\n\t\tvalid: function () {\r\n\t\t\tvar valid, validator, errorList;\r\n\r\n\t\t\tif ($(this[0]).is(\"form\")) {\r\n\t\t\t\tvalid = this.validate().form();\r\n\t\t\t} else {\r\n\t\t\t\terrorList = [];\r\n\t\t\t\tvalid = true;\r\n\t\t\t\tvalidator = $(this[0].form).validate();\r\n\t\t\t\tthis.each(function () {\r\n\t\t\t\t\tvalid = validator.element(this) && valid;\r\n\t\t\t\t\tif (!valid) {\r\n\t\t\t\t\t\terrorList = errorList.concat(validator.errorList);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tvalidator.errorList = errorList;\r\n\t\t\t}\r\n\t\t\treturn valid;\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/rules/\r\n\t\trules: function (command, argument) {\r\n\t\t\tvar element = this[0],\r\n\t\t\t\tsettings, staticRules, existingRules, data, param, filtered;\r\n\r\n\t\t\t// If nothing is selected, return empty object; can't chain anyway\r\n\t\t\tif (element == null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!element.form && element.hasAttribute(\"contenteditable\")) {\r\n\t\t\t\telement.form = this.closest(\"form\")[0];\r\n\t\t\t\telement.name = this.attr(\"name\");\r\n\t\t\t}\r\n\r\n\t\t\tif (element.form == null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (command) {\r\n\t\t\t\tsettings = $.data(element.form, \"validator\").settings;\r\n\t\t\t\tstaticRules = settings.rules;\r\n\t\t\t\texistingRules = $.validator.staticRules(element);\r\n\t\t\t\tswitch (command) {\r\n\t\t\t\t\tcase \"add\":\r\n\t\t\t\t\t\t$.extend(existingRules, $.validator.normalizeRule(argument));\r\n\r\n\t\t\t\t\t\t// Remove messages from rules, but allow them to be set separately\r\n\t\t\t\t\t\tdelete existingRules.messages;\r\n\t\t\t\t\t\tstaticRules[element.name] = existingRules;\r\n\t\t\t\t\t\tif (argument.messages) {\r\n\t\t\t\t\t\t\tsettings.messages[element.name] = $.extend(settings.messages[element.name], argument.messages);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"remove\":\r\n\t\t\t\t\t\tif (!argument) {\r\n\t\t\t\t\t\t\tdelete staticRules[element.name];\r\n\t\t\t\t\t\t\treturn existingRules;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfiltered = {};\r\n\t\t\t\t\t\t$.each(argument.split(/\\s/), function (index, method) {\r\n\t\t\t\t\t\t\tfiltered[method] = existingRules[method];\r\n\t\t\t\t\t\t\tdelete existingRules[method];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn filtered;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdata = $.validator.normalizeRules(\r\n\t\t\t\t$.extend({},\r\n\t\t\t\t\t$.validator.classRules(element),\r\n\t\t\t\t\t$.validator.attributeRules(element),\r\n\t\t\t\t\t$.validator.dataRules(element),\r\n\t\t\t\t\t$.validator.staticRules(element)\r\n\t\t\t\t), element);\r\n\r\n\t\t\t// Make sure required is at front\r\n\t\t\tif (data.required) {\r\n\t\t\t\tparam = data.required;\r\n\t\t\t\tdelete data.required;\r\n\t\t\t\tdata = $.extend({\r\n\t\t\t\t\trequired: param\r\n\t\t\t\t}, data);\r\n\t\t\t}\r\n\r\n\t\t\t// Make sure remote is at back\r\n\t\t\tif (data.remote) {\r\n\t\t\t\tparam = data.remote;\r\n\t\t\t\tdelete data.remote;\r\n\t\t\t\tdata = $.extend(data, {\r\n\t\t\t\t\tremote: param\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t}\r\n\t});\r\n\r\n\t// Custom selectors\r\n\t$.extend($.expr.pseudos || $.expr[\":\"], { // '|| $.expr[ \":\" ]' here enables backwards compatibility to jQuery 1.7. Can be removed when dropping jQ 1.7.x support\r\n\r\n\t\t// https://jqueryvalidation.org/blank-selector/\r\n\t\tblank: function (a) {\r\n\t\t\treturn !$.trim(\"\" + $(a).val());\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/filled-selector/\r\n\t\tfilled: function (a) {\r\n\t\t\tvar val = $(a).val();\r\n\t\t\treturn val !== null && !!$.trim(\"\" + val);\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/unchecked-selector/\r\n\t\tunchecked: function (a) {\r\n\t\t\treturn !$(a).prop(\"checked\");\r\n\t\t}\r\n\t});\r\n\r\n\t// Constructor for validator\r\n\t$.validator = function (options, form) {\r\n\t\tthis.settings = $.extend(true, {}, $.validator.defaults, options);\r\n\t\tthis.currentForm = form;\r\n\t\tthis.init();\r\n\t};\r\n\r\n\t// https://jqueryvalidation.org/jQuery.validator.format/\r\n\t$.validator.format = function (source, params) {\r\n\t\tif (arguments.length === 1) {\r\n\t\t\treturn function () {\r\n\t\t\t\tvar args = $.makeArray(arguments);\r\n\t\t\t\targs.unshift(source);\r\n\t\t\t\treturn $.validator.format.apply(this, args);\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (params === undefined) {\r\n\t\t\treturn source;\r\n\t\t}\r\n\t\tif (arguments.length > 2 && params.constructor !== Array) {\r\n\t\t\tparams = $.makeArray(arguments).slice(1);\r\n\t\t}\r\n\t\tif (params.constructor !== Array) {\r\n\t\t\tparams = [params];\r\n\t\t}\r\n\t\t$.each(params, function (i, n) {\r\n\t\t\tsource = source.replace(new RegExp(\"\\\\{\" + i + \"\\\\}\", \"g\"), function () {\r\n\t\t\t\treturn n;\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn source;\r\n\t};\r\n\r\n\t$.extend($.validator, {\r\n\r\n\t\tdefaults: {\r\n\t\t\tmessages: {},\r\n\t\t\tgroups: {},\r\n\t\t\trules: {},\r\n\t\t\terrorClass: \"error\",\r\n\t\t\tpendingClass: \"pending\",\r\n\t\t\tvalidClass: \"valid\",\r\n\t\t\terrorElement: \"label\",\r\n\t\t\tfocusCleanup: false,\r\n\t\t\tfocusInvalid: true,\r\n\t\t\terrorContainer: $([]),\r\n\t\t\terrorLabelContainer: $([]),\r\n\t\t\tonsubmit: true,\r\n\t\t\tignore: \":hidden\",\r\n\t\t\tignoreTitle: false,\r\n\t\t\tonfocusin: function (element) {\r\n\t\t\t\tthis.lastActive = element;\r\n\r\n\t\t\t\t// Hide error label and remove error class on focus if enabled\r\n\t\t\t\tif (this.settings.focusCleanup) {\r\n\t\t\t\t\tif (this.settings.unhighlight) {\r\n\t\t\t\t\t\tthis.settings.unhighlight.call(this, element, this.settings.errorClass, this.settings.validClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.hideThese(this.errorsFor(element));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonfocusout: function (element) {\r\n\t\t\t\tif (!this.checkable(element) && (element.name in this.submitted || !this.optional(element))) {\r\n\t\t\t\t\tthis.element(element);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonkeyup: function (element, event) {\r\n\r\n\t\t\t\t// Avoid revalidate the field when pressing one of the following keys\r\n\t\t\t\t// Shift       => 16\r\n\t\t\t\t// Ctrl        => 17\r\n\t\t\t\t// Alt         => 18\r\n\t\t\t\t// Caps lock   => 20\r\n\t\t\t\t// End         => 35\r\n\t\t\t\t// Home        => 36\r\n\t\t\t\t// Left arrow  => 37\r\n\t\t\t\t// Up arrow    => 38\r\n\t\t\t\t// Right arrow => 39\r\n\t\t\t\t// Down arrow  => 40\r\n\t\t\t\t// Insert      => 45\r\n\t\t\t\t// Num lock    => 144\r\n\t\t\t\t// AltGr key   => 225\r\n\t\t\t\tvar excludedKeys = [\r\n\t\t\t\t\t16, 17, 18, 20, 35, 36, 37,\r\n\t\t\t\t\t38, 39, 40, 45, 144, 225\r\n\t\t\t\t];\r\n\r\n\t\t\t\tif (event.which === 9 && this.elementValue(element) === \"\" || $.inArray(event.keyCode, excludedKeys) !== -1) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else if (element.name in this.submitted || element.name in this.invalid) {\r\n\t\t\t\t\tthis.element(element);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonclick: function (element) {\r\n\r\n\t\t\t\t// Click on selects, radiobuttons and checkboxes\r\n\t\t\t\tif (element.name in this.submitted) {\r\n\t\t\t\t\tthis.element(element);\r\n\r\n\t\t\t\t\t// Or option elements, check parent select in that case\r\n\t\t\t\t} else if (element.parentNode.name in this.submitted) {\r\n\t\t\t\t\tthis.element(element.parentNode);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thighlight: function (element, errorClass, validClass) {\r\n\t\t\t\tif (element.type === \"radio\") {\r\n\t\t\t\t\tthis.findByName(element.name).addClass(errorClass).removeClass(validClass);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(element).addClass(errorClass).removeClass(validClass);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tunhighlight: function (element, errorClass, validClass) {\r\n\t\t\t\tif (element.type === \"radio\") {\r\n\t\t\t\t\tthis.findByName(element.name).removeClass(errorClass).addClass(validClass);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(element).removeClass(errorClass).addClass(validClass);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/jQuery.validator.setDefaults/\r\n\t\tsetDefaults: function (settings) {\r\n\t\t\t$.extend($.validator.defaults, settings);\r\n\t\t},\r\n\r\n\t\tmessages: {\r\n\t\t\trequired: \"This field is required.\",\r\n\t\t\tremote: \"Please fix this field.\",\r\n\t\t\temail: \"Please enter a valid email address.\",\r\n\t\t\turl: \"Please enter a valid URL.\",\r\n\t\t\tdate: \"Please enter a valid date.\",\r\n\t\t\tdateISO: \"Please enter a valid date (ISO).\",\r\n\t\t\tnumber: \"Please enter a valid number.\",\r\n\t\t\tdigits: \"Please enter only digits.\",\r\n\t\t\tequalTo: \"Please enter the same value again.\",\r\n\t\t\tmaxlength: $.validator.format(\"Please enter no more than {0} characters.\"),\r\n\t\t\tminlength: $.validator.format(\"Please enter at least {0} characters.\"),\r\n\t\t\trangelength: $.validator.format(\"Please enter a value between {0} and {1} characters long.\"),\r\n\t\t\trange: $.validator.format(\"Please enter a value between {0} and {1}.\"),\r\n\t\t\tmax: $.validator.format(\"Please enter a value less than or equal to {0}.\"),\r\n\t\t\tmin: $.validator.format(\"Please enter a value greater than or equal to {0}.\"),\r\n\t\t\tstep: $.validator.format(\"Please enter a multiple of {0}.\")\r\n\t\t},\r\n\r\n\t\tautoCreateRanges: false,\r\n\r\n\t\tprototype: {\r\n\r\n\t\t\tinit: function () {\r\n\t\t\t\tthis.labelContainer = $(this.settings.errorLabelContainer);\r\n\t\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $(this.currentForm);\r\n\t\t\t\tthis.containers = $(this.settings.errorContainer).add(this.settings.errorLabelContainer);\r\n\t\t\t\tthis.submitted = {};\r\n\t\t\t\tthis.valueCache = {};\r\n\t\t\t\tthis.pendingRequest = 0;\r\n\t\t\t\tthis.pending = {};\r\n\t\t\t\tthis.invalid = {};\r\n\t\t\t\tthis.reset();\r\n\r\n\t\t\t\tvar groups = (this.groups = {}),\r\n\t\t\t\t\trules;\r\n\t\t\t\t$.each(this.settings.groups, function (key, value) {\r\n\t\t\t\t\tif (typeof value === \"string\") {\r\n\t\t\t\t\t\tvalue = value.split(/\\s/);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.each(value, function (index, name) {\r\n\t\t\t\t\t\tgroups[name] = key;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\trules = this.settings.rules;\r\n\t\t\t\t$.each(rules, function (key, value) {\r\n\t\t\t\t\trules[key] = $.validator.normalizeRule(value);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tfunction delegate(event) {\r\n\r\n\t\t\t\t\t// Set form expando on contenteditable\r\n\t\t\t\t\tif (!this.form && this.hasAttribute(\"contenteditable\")) {\r\n\t\t\t\t\t\tthis.form = $(this).closest(\"form\")[0];\r\n\t\t\t\t\t\tthis.name = $(this).attr(\"name\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar validator = $.data(this.form, \"validator\"),\r\n\t\t\t\t\t\teventType = \"on\" + event.type.replace(/^validate/, \"\"),\r\n\t\t\t\t\t\tsettings = validator.settings;\r\n\t\t\t\t\tif (settings[eventType] && !$(this).is(settings.ignore)) {\r\n\t\t\t\t\t\tsettings[eventType].call(validator, this, event);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(this.currentForm)\r\n\t\t\t\t\t.on(\"focusin.validate focusout.validate keyup.validate\",\r\n\t\t\t\t\t\t\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" +\r\n\t\t\t\t\t\t\"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" +\r\n\t\t\t\t\t\t\"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" +\r\n\t\t\t\t\t\t\"[type='radio'], [type='checkbox'], [contenteditable], [type='button']\", delegate)\r\n\r\n\t\t\t\t\t// Support: Chrome, oldIE\r\n\t\t\t\t\t// \"select\" is provided as event.target when clicking a option\r\n\t\t\t\t\t.on(\"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate);\r\n\r\n\t\t\t\tif (this.settings.invalidHandler) {\r\n\t\t\t\t\t$(this.currentForm).on(\"invalid-form.validate\", this.settings.invalidHandler);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/Validator.form/\r\n\t\t\tform: function () {\r\n\t\t\t\tthis.checkForm();\r\n\t\t\t\t$.extend(this.submitted, this.errorMap);\r\n\t\t\t\tthis.invalid = $.extend({}, this.errorMap);\r\n\t\t\t\tif (!this.valid()) {\r\n\t\t\t\t\t$(this.currentForm).triggerHandler(\"invalid-form\", [this]);\r\n\t\t\t\t}\r\n\t\t\t\tthis.showErrors();\r\n\t\t\t\treturn this.valid();\r\n\t\t\t},\r\n\r\n\t\t\tcheckForm: function () {\r\n\t\t\t\tthis.prepareForm();\r\n\t\t\t\tfor (var i = 0, elements = (this.currentElements = this.elements()); elements[i]; i++) {\r\n\t\t\t\t\tthis.check(elements[i]);\r\n\t\t\t\t}\r\n\t\t\t\treturn this.valid();\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/Validator.element/\r\n\t\t\telement: function (element) {\r\n\t\t\t\tvar cleanElement = this.clean(element),\r\n\t\t\t\t\tcheckElement = this.validationTargetFor(cleanElement),\r\n\t\t\t\t\tv = this,\r\n\t\t\t\t\tresult = true,\r\n\t\t\t\t\trs, group;\r\n\r\n\t\t\t\tif (checkElement === undefined) {\r\n\t\t\t\t\tdelete this.invalid[cleanElement.name];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.prepareElement(checkElement);\r\n\t\t\t\t\tthis.currentElements = $(checkElement);\r\n\r\n\t\t\t\t\t// If this element is grouped, then validate all group elements already\r\n\t\t\t\t\t// containing a value\r\n\t\t\t\t\tgroup = this.groups[checkElement.name];\r\n\t\t\t\t\tif (group) {\r\n\t\t\t\t\t\t$.each(this.groups, function (name, testgroup) {\r\n\t\t\t\t\t\t\tif (testgroup === group && name !== checkElement.name) {\r\n\t\t\t\t\t\t\t\tcleanElement = v.validationTargetFor(v.clean(v.findByName(name)));\r\n\t\t\t\t\t\t\t\tif (cleanElement && cleanElement.name in v.invalid) {\r\n\t\t\t\t\t\t\t\t\tv.currentElements.push(cleanElement);\r\n\t\t\t\t\t\t\t\t\tresult = v.check(cleanElement) && result;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\trs = this.check(checkElement) !== false;\r\n\t\t\t\t\tresult = result && rs;\r\n\t\t\t\t\tif (rs) {\r\n\t\t\t\t\t\tthis.invalid[checkElement.name] = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.invalid[checkElement.name] = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!this.numberOfInvalids()) {\r\n\r\n\t\t\t\t\t\t// Hide error containers on last error\r\n\t\t\t\t\t\tthis.toHide = this.toHide.add(this.containers);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.showErrors();\r\n\r\n\t\t\t\t\t// Add aria-invalid status for screen readers\r\n\t\t\t\t\t$(element).attr(\"aria-invalid\", !rs);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/Validator.showErrors/\r\n\t\t\tshowErrors: function (errors) {\r\n\t\t\t\tif (errors) {\r\n\t\t\t\t\tvar validator = this;\r\n\r\n\t\t\t\t\t// Add items to error list and map\r\n\t\t\t\t\t$.extend(this.errorMap, errors);\r\n\t\t\t\t\tthis.errorList = $.map(this.errorMap, function (message, name) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tmessage: message,\r\n\t\t\t\t\t\t\telement: validator.findByName(name)[0]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Remove items from success list\r\n\t\t\t\t\tthis.successList = $.grep(this.successList, function (element) {\r\n\t\t\t\t\t\treturn !(element.name in errors);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (this.settings.showErrors) {\r\n\t\t\t\t\tthis.settings.showErrors.call(this, this.errorMap, this.errorList);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.defaultShowErrors();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/Validator.resetForm/\r\n\t\t\tresetForm: function () {\r\n\t\t\t\tif ($.fn.resetForm) {\r\n\t\t\t\t\t$(this.currentForm).resetForm();\r\n\t\t\t\t}\r\n\t\t\t\tthis.invalid = {};\r\n\t\t\t\tthis.submitted = {};\r\n\t\t\t\tthis.prepareForm();\r\n\t\t\t\tthis.hideErrors();\r\n\t\t\t\tvar elements = this.elements()\r\n\t\t\t\t\t.removeData(\"previousValue\")\r\n\t\t\t\t\t.removeAttr(\"aria-invalid\");\r\n\r\n\t\t\t\tthis.resetElements(elements);\r\n\t\t\t},\r\n\r\n\t\t\tresetElements: function (elements) {\r\n\t\t\t\tvar i;\r\n\r\n\t\t\t\tif (this.settings.unhighlight) {\r\n\t\t\t\t\tfor (i = 0; elements[i]; i++) {\r\n\t\t\t\t\t\tthis.settings.unhighlight.call(this, elements[i],\r\n\t\t\t\t\t\t\tthis.settings.errorClass, \"\");\r\n\t\t\t\t\t\tthis.findByName(elements[i].name).removeClass(this.settings.validClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\telements\r\n\t\t\t\t\t\t.removeClass(this.settings.errorClass)\r\n\t\t\t\t\t\t.removeClass(this.settings.validClass);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tnumberOfInvalids: function () {\r\n\t\t\t\treturn this.objectLength(this.invalid);\r\n\t\t\t},\r\n\r\n\t\t\tobjectLength: function (obj) {\r\n\t\t\t\t/* jshint unused: false */\r\n\t\t\t\tvar count = 0,\r\n\t\t\t\t\ti;\r\n\t\t\t\tfor (i in obj) {\r\n\r\n\t\t\t\t\t// This check allows counting elements with empty error\r\n\t\t\t\t\t// message as invalid elements\r\n\t\t\t\t\tif (obj[i] !== undefined && obj[i] !== null && obj[i] !== false) {\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn count;\r\n\t\t\t},\r\n\r\n\t\t\thideErrors: function () {\r\n\t\t\t\tthis.hideThese(this.toHide);\r\n\t\t\t},\r\n\r\n\t\t\thideThese: function (errors) {\r\n\t\t\t\terrors.not(this.containers).text(\"\");\r\n\t\t\t\tthis.addWrapper(errors).hide();\r\n\t\t\t},\r\n\r\n\t\t\tvalid: function () {\r\n\t\t\t\treturn this.size() === 0;\r\n\t\t\t},\r\n\r\n\t\t\tsize: function () {\r\n\t\t\t\treturn this.errorList.length;\r\n\t\t\t},\r\n\r\n\t\t\tfocusInvalid: function () {\r\n\t\t\t\tif (this.settings.focusInvalid) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t$(this.findLastActive() || this.errorList.length && this.errorList[0].element || [])\r\n\t\t\t\t\t\t\t.filter(\":visible\")\r\n\t\t\t\t\t\t\t.focus()\r\n\r\n\t\t\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\r\n\t\t\t\t\t\t\t.trigger(\"focusin\");\r\n\t\t\t\t\t} catch (e) {\r\n\r\n\t\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tfindLastActive: function () {\r\n\t\t\t\tvar lastActive = this.lastActive;\r\n\t\t\t\treturn lastActive && $.grep(this.errorList, function (n) {\r\n\t\t\t\t\treturn n.element.name === lastActive.name;\r\n\t\t\t\t}).length === 1 && lastActive;\r\n\t\t\t},\r\n\r\n\t\t\telements: function () {\r\n\t\t\t\tvar validator = this,\r\n\t\t\t\t\trulesCache = {};\r\n\r\n\t\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\r\n\t\t\t\treturn $(this.currentForm)\r\n\t\t\t\t\t.find(\"input, select, textarea, [contenteditable]\")\r\n\t\t\t\t\t.not(\":submit, :reset, :image, :disabled\")\r\n\t\t\t\t\t.not(this.settings.ignore)\r\n\t\t\t\t\t.filter(function () {\r\n\t\t\t\t\t\tvar name = this.name || $(this).attr(\"name\"); // For contenteditable\r\n\t\t\t\t\t\tif (!name && validator.settings.debug && window.console) {\r\n\t\t\t\t\t\t\tconsole.error(\"%o has no name assigned\", this);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Set form expando on contenteditable\r\n\t\t\t\t\t\tif (this.hasAttribute(\"contenteditable\")) {\r\n\t\t\t\t\t\t\tthis.form = $(this).closest(\"form\")[0];\r\n\t\t\t\t\t\t\tthis.name = name;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Select only the first element for each name, and only those with rules specified\r\n\t\t\t\t\t\tif (name in rulesCache || !validator.objectLength($(this).rules())) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\trulesCache[name] = true;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tclean: function (selector) {\r\n\t\t\t\treturn $(selector)[0];\r\n\t\t\t},\r\n\r\n\t\t\terrors: function () {\r\n\t\t\t\tvar errorClass = this.settings.errorClass.split(\" \").join(\".\");\r\n\t\t\t\treturn $(this.settings.errorElement + \".\" + errorClass, this.errorContext);\r\n\t\t\t},\r\n\r\n\t\t\tresetInternals: function () {\r\n\t\t\t\tthis.successList = [];\r\n\t\t\t\tthis.errorList = [];\r\n\t\t\t\tthis.errorMap = {};\r\n\t\t\t\tthis.toShow = $([]);\r\n\t\t\t\tthis.toHide = $([]);\r\n\t\t\t},\r\n\r\n\t\t\treset: function () {\r\n\t\t\t\tthis.resetInternals();\r\n\t\t\t\tthis.currentElements = $([]);\r\n\t\t\t},\r\n\r\n\t\t\tprepareForm: function () {\r\n\t\t\t\tthis.reset();\r\n\t\t\t\tthis.toHide = this.errors().add(this.containers);\r\n\t\t\t},\r\n\r\n\t\t\tprepareElement: function (element) {\r\n\t\t\t\tthis.reset();\r\n\t\t\t\tthis.toHide = this.errorsFor(element);\r\n\t\t\t},\r\n\r\n\t\t\telementValue: function (element) {\r\n\t\t\t\tvar $element = $(element),\r\n\t\t\t\t\ttype = element.type,\r\n\t\t\t\t\tval, idx;\r\n\r\n\t\t\t\tif (type === \"radio\" || type === \"checkbox\") {\r\n\t\t\t\t\treturn this.findByName(element.name).filter(\":checked\").val();\r\n\t\t\t\t} else if (type === \"number\" && typeof element.validity !== \"undefined\") {\r\n\t\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (element.hasAttribute(\"contenteditable\")) {\r\n\t\t\t\t\tval = $element.text();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tval = $element.val();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (type === \"file\") {\r\n\r\n\t\t\t\t\t// Modern browser (chrome & safari)\r\n\t\t\t\t\tif (val.substr(0, 12) === \"C:\\\\fakepath\\\\\") {\r\n\t\t\t\t\t\treturn val.substr(12);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Legacy browsers\r\n\t\t\t\t\t// Unix-based path\r\n\t\t\t\t\tidx = val.lastIndexOf(\"/\");\r\n\t\t\t\t\tif (idx >= 0) {\r\n\t\t\t\t\t\treturn val.substr(idx + 1);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Windows-based path\r\n\t\t\t\t\tidx = val.lastIndexOf(\"\\\\\");\r\n\t\t\t\t\tif (idx >= 0) {\r\n\t\t\t\t\t\treturn val.substr(idx + 1);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Just the file name\r\n\t\t\t\t\treturn val;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof val === \"string\") {\r\n\t\t\t\t\treturn val.replace(/\\r/g, \"\");\r\n\t\t\t\t}\r\n\t\t\t\treturn val;\r\n\t\t\t},\r\n\r\n\t\t\tcheck: function (element) {\r\n\t\t\t\telement = this.validationTargetFor(this.clean(element));\r\n\r\n\t\t\t\tvar rules = $(element).rules(),\r\n\t\t\t\t\trulesCount = $.map(rules, function (n, i) {\r\n\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t}).length,\r\n\t\t\t\t\tdependencyMismatch = false,\r\n\t\t\t\t\tval = this.elementValue(element),\r\n\t\t\t\t\tresult, method, rule, normalizer;\r\n\r\n\t\t\t\t// Prioritize the local normalizer defined for this element over the global one\r\n\t\t\t\t// if the former exists, otherwise user the global one in case it exists.\r\n\t\t\t\tif (typeof rules.normalizer === \"function\") {\r\n\t\t\t\t\tnormalizer = rules.normalizer;\r\n\t\t\t\t} else if (typeof this.settings.normalizer === \"function\") {\r\n\t\t\t\t\tnormalizer = this.settings.normalizer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If normalizer is defined, then call it to retreive the changed value instead\r\n\t\t\t\t// of using the real one.\r\n\t\t\t\t// Note that `this` in the normalizer is `element`.\r\n\t\t\t\tif (normalizer) {\r\n\t\t\t\t\tval = normalizer.call(element, val);\r\n\r\n\t\t\t\t\tif (typeof val !== \"string\") {\r\n\t\t\t\t\t\tthrow new TypeError(\"The normalizer should return a string value.\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Delete the normalizer from rules to avoid treating it as a pre-defined method.\r\n\t\t\t\t\tdelete rules.normalizer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (method in rules) {\r\n\t\t\t\t\trule = {\r\n\t\t\t\t\t\tmethod: method,\r\n\t\t\t\t\t\tparameters: rules[method]\r\n\t\t\t\t\t};\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tresult = $.validator.methods[method].call(this, val, element, rule.parameters);\r\n\r\n\t\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\r\n\t\t\t\t\t\t// don't mark it as valid when there are no other rules\r\n\t\t\t\t\t\tif (result === \"dependency-mismatch\" && rulesCount === 1) {\r\n\t\t\t\t\t\t\tdependencyMismatch = true;\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdependencyMismatch = false;\r\n\r\n\t\t\t\t\t\tif (result === \"pending\") {\r\n\t\t\t\t\t\t\tthis.toHide = this.toHide.not(this.errorsFor(element));\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!result) {\r\n\t\t\t\t\t\t\tthis.formatAndAdd(element, rule);\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tif (this.settings.debug && window.console) {\r\n\t\t\t\t\t\t\tconsole.log(\"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (e instanceof TypeError) {\r\n\t\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthrow e;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (dependencyMismatch) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.objectLength(rules)) {\r\n\t\t\t\t\tthis.successList.push(element);\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\r\n\t\t\t// Return the custom message for the given element and validation method\r\n\t\t\t// specified in the element's HTML5 data attribute\r\n\t\t\t// return the generic message if present and no method specific message is present\r\n\t\t\tcustomDataMessage: function (element, method) {\r\n\t\t\t\treturn $(element).data(\"msg\" + method.charAt(0).toUpperCase() +\r\n\t\t\t\t\tmethod.substring(1).toLowerCase()) || $(element).data(\"msg\");\r\n\t\t\t},\r\n\r\n\t\t\t// Return the custom message for the given element name and validation method\r\n\t\t\tcustomMessage: function (name, method) {\r\n\t\t\t\tvar m = this.settings.messages[name];\r\n\t\t\t\treturn m && (m.constructor === String ? m : m[method]);\r\n\t\t\t},\r\n\r\n\t\t\t// Return the first defined argument, allowing empty strings\r\n\t\t\tfindDefined: function () {\r\n\t\t\t\tfor (var i = 0; i < arguments.length; i++) {\r\n\t\t\t\t\tif (arguments[i] !== undefined) {\r\n\t\t\t\t\t\treturn arguments[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn undefined;\r\n\t\t\t},\r\n\r\n\t\t\t// The second parameter 'rule' used to be a string, and extended to an object literal\r\n\t\t\t// of the following form:\r\n\t\t\t// rule = {\r\n\t\t\t//     method: \"method name\",\r\n\t\t\t//     parameters: \"the given method parameters\"\r\n\t\t\t// }\r\n\t\t\t//\r\n\t\t\t// The old behavior still supported, kept to maintain backward compatibility with\r\n\t\t\t// old code, and will be removed in the next major release.\r\n\t\t\tdefaultMessage: function (element, rule) {\r\n\t\t\t\tif (typeof rule === \"string\") {\r\n\t\t\t\t\trule = {\r\n\t\t\t\t\t\tmethod: rule\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar message = this.findDefined(\r\n\t\t\t\t\t\tthis.customMessage(element.name, rule.method),\r\n\t\t\t\t\t\tthis.customDataMessage(element, rule.method),\r\n\r\n\t\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\r\n\t\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined,\r\n\t\t\t\t\t\t$.validator.messages[rule.method],\r\n\t\t\t\t\t\t\"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\ttheregex = /\\$?\\{(\\d+)\\}/g;\r\n\t\t\t\tif (typeof message === \"function\") {\r\n\t\t\t\t\tmessage = message.call(this, rule.parameters, element);\r\n\t\t\t\t} else if (theregex.test(message)) {\r\n\t\t\t\t\tmessage = $.validator.format(message.replace(theregex, \"{$1}\"), rule.parameters);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn message;\r\n\t\t\t},\r\n\r\n\t\t\tformatAndAdd: function (element, rule) {\r\n\t\t\t\tvar message = this.defaultMessage(element, rule);\r\n\r\n\t\t\t\tthis.errorList.push({\r\n\t\t\t\t\tmessage: message,\r\n\t\t\t\t\telement: element,\r\n\t\t\t\t\tmethod: rule.method\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.errorMap[element.name] = message;\r\n\t\t\t\tthis.submitted[element.name] = message;\r\n\t\t\t},\r\n\r\n\t\t\taddWrapper: function (toToggle) {\r\n\t\t\t\tif (this.settings.wrapper) {\r\n\t\t\t\t\ttoToggle = toToggle.add(toToggle.parent(this.settings.wrapper));\r\n\t\t\t\t}\r\n\t\t\t\treturn toToggle;\r\n\t\t\t},\r\n\r\n\t\t\tdefaultShowErrors: function () {\r\n\t\t\t\tvar i, elements, error;\r\n\t\t\t\tfor (i = 0; this.errorList[i]; i++) {\r\n\t\t\t\t\terror = this.errorList[i];\r\n\t\t\t\t\tif (this.settings.highlight) {\r\n\t\t\t\t\t\tthis.settings.highlight.call(this, error.element, this.settings.errorClass, this.settings.validClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.showLabel(error.element, error.message);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.errorList.length) {\r\n\t\t\t\t\tthis.toShow = this.toShow.add(this.containers);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.settings.success) {\r\n\t\t\t\t\tfor (i = 0; this.successList[i]; i++) {\r\n\t\t\t\t\t\tthis.showLabel(this.successList[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (this.settings.unhighlight) {\r\n\t\t\t\t\tfor (i = 0, elements = this.validElements(); elements[i]; i++) {\r\n\t\t\t\t\t\tthis.settings.unhighlight.call(this, elements[i], this.settings.errorClass, this.settings.validClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.toHide = this.toHide.not(this.toShow);\r\n\t\t\t\tthis.hideErrors();\r\n\t\t\t\tthis.addWrapper(this.toShow).show();\r\n\t\t\t},\r\n\r\n\t\t\tvalidElements: function () {\r\n\t\t\t\treturn this.currentElements.not(this.invalidElements());\r\n\t\t\t},\r\n\r\n\t\t\tinvalidElements: function () {\r\n\t\t\t\treturn $(this.errorList).map(function () {\r\n\t\t\t\t\treturn this.element;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tshowLabel: function (element, message) {\r\n\t\t\t\tvar place, group, errorID, v,\r\n\t\t\t\t\terror = this.errorsFor(element),\r\n\t\t\t\t\telementID = this.idOrName(element),\r\n\t\t\t\t\tdescribedBy = $(element).attr(\"aria-describedby\");\r\n\r\n\t\t\t\tif (error.length) {\r\n\r\n\t\t\t\t\t// Refresh error/success class\r\n\t\t\t\t\terror.removeClass(this.settings.validClass).addClass(this.settings.errorClass);\r\n\r\n\t\t\t\t\t// Replace message on existing label\r\n\t\t\t\t\terror.html(message);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Create error element\r\n\t\t\t\t\terror = $(\"<\" + this.settings.errorElement + \">\")\r\n\t\t\t\t\t\t.attr(\"id\", elementID + \"-error\")\r\n\t\t\t\t\t\t.addClass(this.settings.errorClass)\r\n\t\t\t\t\t\t.html(message || \"\");\r\n\r\n\t\t\t\t\t// Maintain reference to the element to be placed into the DOM\r\n\t\t\t\t\tplace = error;\r\n\t\t\t\t\tif (this.settings.wrapper) {\r\n\r\n\t\t\t\t\t\t// Make sure the element is visible, even in IE\r\n\t\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\r\n\t\t\t\t\t\tplace = error.hide().show().wrap(\"<\" + this.settings.wrapper + \"/>\").parent();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.labelContainer.length) {\r\n\t\t\t\t\t\tthis.labelContainer.append(place);\r\n\t\t\t\t\t} else if (this.settings.errorPlacement) {\r\n\t\t\t\t\t\tthis.settings.errorPlacement.call(this, place, $(element));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tplace.insertAfter(element);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Link error back to the element\r\n\t\t\t\t\tif (error.is(\"label\")) {\r\n\r\n\t\t\t\t\t\t// If the error is a label, then associate using 'for'\r\n\t\t\t\t\t\terror.attr(\"for\", elementID);\r\n\r\n\t\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\r\n\t\t\t\t\t\t// to explicitly apply aria-describedby\r\n\t\t\t\t\t} else if (error.parents(\"label[for='\" + this.escapeCssMeta(elementID) + \"']\").length === 0) {\r\n\t\t\t\t\t\terrorID = error.attr(\"id\");\r\n\r\n\t\t\t\t\t\t// Respect existing non-error aria-describedby\r\n\t\t\t\t\t\tif (!describedBy) {\r\n\t\t\t\t\t\t\tdescribedBy = errorID;\r\n\t\t\t\t\t\t} else if (!describedBy.match(new RegExp(\"\\\\b\" + this.escapeCssMeta(errorID) + \"\\\\b\"))) {\r\n\r\n\t\t\t\t\t\t\t// Add to end of list if not already present\r\n\t\t\t\t\t\t\tdescribedBy += \" \" + errorID;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(element).attr(\"aria-describedby\", describedBy);\r\n\r\n\t\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\r\n\t\t\t\t\t\tgroup = this.groups[element.name];\r\n\t\t\t\t\t\tif (group) {\r\n\t\t\t\t\t\t\tv = this;\r\n\t\t\t\t\t\t\t$.each(v.groups, function (name, testgroup) {\r\n\t\t\t\t\t\t\t\tif (testgroup === group) {\r\n\t\t\t\t\t\t\t\t\t$(\"[name='\" + v.escapeCssMeta(name) + \"']\", v.currentForm)\r\n\t\t\t\t\t\t\t\t\t\t.attr(\"aria-describedby\", error.attr(\"id\"));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!message && this.settings.success) {\r\n\t\t\t\t\terror.text(\"\");\r\n\t\t\t\t\tif (typeof this.settings.success === \"string\") {\r\n\t\t\t\t\t\terror.addClass(this.settings.success);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.settings.success(error, element);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.toShow = this.toShow.add(error);\r\n\t\t\t},\r\n\r\n\t\t\terrorsFor: function (element) {\r\n\t\t\t\tvar name = this.escapeCssMeta(this.idOrName(element)),\r\n\t\t\t\t\tdescriber = $(element).attr(\"aria-describedby\"),\r\n\t\t\t\t\tselector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\r\n\r\n\t\t\t\t// 'aria-describedby' should directly reference the error element\r\n\t\t\t\tif (describer) {\r\n\t\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta(describer)\r\n\t\t\t\t\t\t.replace(/\\s+/g, \", #\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this\r\n\t\t\t\t\t.errors()\r\n\t\t\t\t\t.filter(selector);\r\n\t\t\t},\r\n\r\n\t\t\t// See https://api.jquery.com/category/selectors/, for CSS\r\n\t\t\t// meta-characters that should be escaped in order to be used with JQuery\r\n\t\t\t// as a literal part of a name/id or any selector.\r\n\t\t\tescapeCssMeta: function (string) {\r\n\t\t\t\treturn string.replace(/([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\");\r\n\t\t\t},\r\n\r\n\t\t\tidOrName: function (element) {\r\n\t\t\t\treturn this.groups[element.name] || (this.checkable(element) ? element.name : element.id || element.name);\r\n\t\t\t},\r\n\r\n\t\t\tvalidationTargetFor: function (element) {\r\n\r\n\t\t\t\t// If radio/checkbox, validate first element in group instead\r\n\t\t\t\tif (this.checkable(element)) {\r\n\t\t\t\t\telement = this.findByName(element.name);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Always apply ignore filter\r\n\t\t\t\treturn $(element).not(this.settings.ignore)[0];\r\n\t\t\t},\r\n\r\n\t\t\tcheckable: function (element) {\r\n\t\t\t\treturn (/radio|checkbox/i).test(element.type);\r\n\t\t\t},\r\n\r\n\t\t\tfindByName: function (name) {\r\n\t\t\t\treturn $(this.currentForm).find(\"[name='\" + this.escapeCssMeta(name) + \"']\");\r\n\t\t\t},\r\n\r\n\t\t\tgetLength: function (value, element) {\r\n\t\t\t\tswitch (element.nodeName.toLowerCase()) {\r\n\t\t\t\t\tcase \"select\":\r\n\t\t\t\t\t\treturn $(\"option:selected\", element).length;\r\n\t\t\t\t\tcase \"input\":\r\n\t\t\t\t\t\tif (this.checkable(element)) {\r\n\t\t\t\t\t\t\treturn this.findByName(element.name).filter(\":checked\").length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn value.length;\r\n\t\t\t},\r\n\r\n\t\t\tdepend: function (param, element) {\r\n\t\t\t\treturn this.dependTypes[typeof param] ? this.dependTypes[typeof param](param, element) : true;\r\n\t\t\t},\r\n\r\n\t\t\tdependTypes: {\r\n\t\t\t\t\"boolean\": function (param) {\r\n\t\t\t\t\treturn param;\r\n\t\t\t\t},\r\n\t\t\t\t\"string\": function (param, element) {\r\n\t\t\t\t\treturn !!$(param, element.form).length;\r\n\t\t\t\t},\r\n\t\t\t\t\"function\": function (param, element) {\r\n\t\t\t\t\treturn param(element);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\toptional: function (element) {\r\n\t\t\t\tvar val = this.elementValue(element);\r\n\t\t\t\treturn !$.validator.methods.required.call(this, val, element) && \"dependency-mismatch\";\r\n\t\t\t},\r\n\r\n\t\t\tstartRequest: function (element) {\r\n\t\t\t\tif (!this.pending[element.name]) {\r\n\t\t\t\t\tthis.pendingRequest++;\r\n\t\t\t\t\t$(element).addClass(this.settings.pendingClass);\r\n\t\t\t\t\tthis.pending[element.name] = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tstopRequest: function (element, valid) {\r\n\t\t\t\tthis.pendingRequest--;\r\n\r\n\t\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\r\n\t\t\t\tif (this.pendingRequest < 0) {\r\n\t\t\t\t\tthis.pendingRequest = 0;\r\n\t\t\t\t}\r\n\t\t\t\tdelete this.pending[element.name];\r\n\t\t\t\t$(element).removeClass(this.settings.pendingClass);\r\n\t\t\t\tif (valid && this.pendingRequest === 0 && this.formSubmitted && this.form()) {\r\n\t\t\t\t\t$(this.currentForm).submit();\r\n\r\n\t\t\t\t\t// Remove the hidden input that was used as a replacement for the\r\n\t\t\t\t\t// missing submit button. The hidden input is added by `handle()`\r\n\t\t\t\t\t// to ensure that the value of the used submit button is passed on\r\n\t\t\t\t\t// for scripted submits triggered by this method\r\n\t\t\t\t\tif (this.submitButton) {\r\n\t\t\t\t\t\t$(\"input:hidden[name='\" + this.submitButton.name + \"']\", this.currentForm).remove();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.formSubmitted = false;\r\n\t\t\t\t} else if (!valid && this.pendingRequest === 0 && this.formSubmitted) {\r\n\t\t\t\t\t$(this.currentForm).triggerHandler(\"invalid-form\", [this]);\r\n\t\t\t\t\tthis.formSubmitted = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tpreviousValue: function (element, method) {\r\n\t\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\r\n\r\n\t\t\t\treturn $.data(element, \"previousValue\") || $.data(element, \"previousValue\", {\r\n\t\t\t\t\told: null,\r\n\t\t\t\t\tvalid: true,\r\n\t\t\t\t\tmessage: this.defaultMessage(element, {\r\n\t\t\t\t\t\tmethod: method\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// Cleans up all forms and elements, removes validator-specific events\r\n\t\t\tdestroy: function () {\r\n\t\t\t\tthis.resetForm();\r\n\r\n\t\t\t\t$(this.currentForm)\r\n\t\t\t\t\t.off(\".validate\")\r\n\t\t\t\t\t.removeData(\"validator\")\r\n\t\t\t\t\t.find(\".validate-equalTo-blur\")\r\n\t\t\t\t\t.off(\".validate-equalTo\")\r\n\t\t\t\t\t.removeClass(\"validate-equalTo-blur\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tclassRuleSettings: {\r\n\t\t\trequired: {\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t\temail: {\r\n\t\t\t\temail: true\r\n\t\t\t},\r\n\t\t\turl: {\r\n\t\t\t\turl: true\r\n\t\t\t},\r\n\t\t\tdate: {\r\n\t\t\t\tdate: true\r\n\t\t\t},\r\n\t\t\tdateISO: {\r\n\t\t\t\tdateISO: true\r\n\t\t\t},\r\n\t\t\tnumber: {\r\n\t\t\t\tnumber: true\r\n\t\t\t},\r\n\t\t\tdigits: {\r\n\t\t\t\tdigits: true\r\n\t\t\t},\r\n\t\t\tcreditcard: {\r\n\t\t\t\tcreditcard: true\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\taddClassRules: function (className, rules) {\r\n\t\t\tif (className.constructor === String) {\r\n\t\t\t\tthis.classRuleSettings[className] = rules;\r\n\t\t\t} else {\r\n\t\t\t\t$.extend(this.classRuleSettings, className);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclassRules: function (element) {\r\n\t\t\tvar rules = {},\r\n\t\t\t\tclasses = $(element).attr(\"class\");\r\n\r\n\t\t\tif (classes) {\r\n\t\t\t\t$.each(classes.split(\" \"), function () {\r\n\t\t\t\t\tif (this in $.validator.classRuleSettings) {\r\n\t\t\t\t\t\t$.extend(rules, $.validator.classRuleSettings[this]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn rules;\r\n\t\t},\r\n\r\n\t\tnormalizeAttributeRule: function (rules, type, method, value) {\r\n\r\n\t\t\t// Convert the value to a number for number inputs, and for text for backwards compability\r\n\t\t\t// allows type=\"date\" and others to be compared as strings\r\n\t\t\tif (/min|max|step/.test(method) && (type === null || /number|range|text/.test(type))) {\r\n\t\t\t\tvalue = Number(value);\r\n\r\n\t\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\r\n\t\t\t\tif (isNaN(value)) {\r\n\t\t\t\t\tvalue = undefined;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (value || value === 0) {\r\n\t\t\t\trules[method] = value;\r\n\t\t\t} else if (type === method && type !== \"range\") {\r\n\r\n\t\t\t\t// Exception: the jquery validate 'range' method\r\n\t\t\t\t// does not test for the html5 'range' type\r\n\t\t\t\trules[method] = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tattributeRules: function (element) {\r\n\t\t\tvar rules = {},\r\n\t\t\t\t$element = $(element),\r\n\t\t\t\ttype = element.getAttribute(\"type\"),\r\n\t\t\t\tmethod, value;\r\n\r\n\t\t\tfor (method in $.validator.methods) {\r\n\r\n\t\t\t\t// Support for <input required> in both html5 and older browsers\r\n\t\t\t\tif (method === \"required\") {\r\n\t\t\t\t\tvalue = element.getAttribute(method);\r\n\r\n\t\t\t\t\t// Some browsers return an empty string for the required attribute\r\n\t\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\r\n\t\t\t\t\tif (value === \"\") {\r\n\t\t\t\t\t\tvalue = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Force non-HTML5 browsers to return bool\r\n\t\t\t\t\tvalue = !!value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = $element.attr(method);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.normalizeAttributeRule(rules, type, method, value);\r\n\t\t\t}\r\n\r\n\t\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\r\n\t\t\tif (rules.maxlength && /-1|2147483647|524288/.test(rules.maxlength)) {\r\n\t\t\t\tdelete rules.maxlength;\r\n\t\t\t}\r\n\r\n\t\t\treturn rules;\r\n\t\t},\r\n\r\n\t\tdataRules: function (element) {\r\n\t\t\tvar rules = {},\r\n\t\t\t\t$element = $(element),\r\n\t\t\t\ttype = element.getAttribute(\"type\"),\r\n\t\t\t\tmethod, value;\r\n\r\n\t\t\tfor (method in $.validator.methods) {\r\n\t\t\t\tvalue = $element.data(\"rule\" + method.charAt(0).toUpperCase() + method.substring(1).toLowerCase());\r\n\t\t\t\tthis.normalizeAttributeRule(rules, type, method, value);\r\n\t\t\t}\r\n\t\t\treturn rules;\r\n\t\t},\r\n\r\n\t\tstaticRules: function (element) {\r\n\t\t\tvar rules = {},\r\n\t\t\t\tvalidator = $.data(element.form, \"validator\");\r\n\r\n\t\t\tif (validator.settings.rules) {\r\n\t\t\t\trules = $.validator.normalizeRule(validator.settings.rules[element.name]) || {};\r\n\t\t\t}\r\n\t\t\treturn rules;\r\n\t\t},\r\n\r\n\t\tnormalizeRules: function (rules, element) {\r\n\r\n\t\t\t// Handle dependency check\r\n\t\t\t$.each(rules, function (prop, val) {\r\n\r\n\t\t\t\t// Ignore rule when param is explicitly false, eg. required:false\r\n\t\t\t\tif (val === false) {\r\n\t\t\t\t\tdelete rules[prop];\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (val.param || val.depends) {\r\n\t\t\t\t\tvar keepRule = true;\r\n\t\t\t\t\tswitch (typeof val.depends) {\r\n\t\t\t\t\t\tcase \"string\":\r\n\t\t\t\t\t\t\tkeepRule = !!$(val.depends, element.form).length;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"function\":\r\n\t\t\t\t\t\t\tkeepRule = val.depends.call(element, element);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (keepRule) {\r\n\t\t\t\t\t\trules[prop] = val.param !== undefined ? val.param : true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$.data(element.form, \"validator\").resetElements($(element));\r\n\t\t\t\t\t\tdelete rules[prop];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Evaluate parameters\r\n\t\t\t$.each(rules, function (rule, parameter) {\r\n\t\t\t\trules[rule] = $.isFunction(parameter) && rule !== \"normalizer\" ? parameter(element) : parameter;\r\n\t\t\t});\r\n\r\n\t\t\t// Clean number parameters\r\n\t\t\t$.each([\"minlength\", \"maxlength\"], function () {\r\n\t\t\t\tif (rules[this]) {\r\n\t\t\t\t\trules[this] = Number(rules[this]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$.each([\"rangelength\", \"range\"], function () {\r\n\t\t\t\tvar parts;\r\n\t\t\t\tif (rules[this]) {\r\n\t\t\t\t\tif ($.isArray(rules[this])) {\r\n\t\t\t\t\t\trules[this] = [Number(rules[this][0]), Number(rules[this][1])];\r\n\t\t\t\t\t} else if (typeof rules[this] === \"string\") {\r\n\t\t\t\t\t\tparts = rules[this].replace(/[\\[\\]]/g, \"\").split(/[\\s,]+/);\r\n\t\t\t\t\t\trules[this] = [Number(parts[0]), Number(parts[1])];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif ($.validator.autoCreateRanges) {\r\n\r\n\t\t\t\t// Auto-create ranges\r\n\t\t\t\tif (rules.min != null && rules.max != null) {\r\n\t\t\t\t\trules.range = [rules.min, rules.max];\r\n\t\t\t\t\tdelete rules.min;\r\n\t\t\t\t\tdelete rules.max;\r\n\t\t\t\t}\r\n\t\t\t\tif (rules.minlength != null && rules.maxlength != null) {\r\n\t\t\t\t\trules.rangelength = [rules.minlength, rules.maxlength];\r\n\t\t\t\t\tdelete rules.minlength;\r\n\t\t\t\t\tdelete rules.maxlength;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn rules;\r\n\t\t},\r\n\r\n\t\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\r\n\t\tnormalizeRule: function (data) {\r\n\t\t\tif (typeof data === \"string\") {\r\n\t\t\t\tvar transformed = {};\r\n\t\t\t\t$.each(data.split(/\\s/), function () {\r\n\t\t\t\t\ttransformed[this] = true;\r\n\t\t\t\t});\r\n\t\t\t\tdata = transformed;\r\n\t\t\t}\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/jQuery.validator.addMethod/\r\n\t\taddMethod: function (name, method, message) {\r\n\t\t\t$.validator.methods[name] = method;\r\n\t\t\t$.validator.messages[name] = message !== undefined ? message : $.validator.messages[name];\r\n\t\t\tif (method.length < 3) {\r\n\t\t\t\t$.validator.addClassRules(name, $.validator.normalizeRule(name));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// https://jqueryvalidation.org/jQuery.validator.methods/\r\n\t\tmethods: {\r\n\r\n\t\t\t// https://jqueryvalidation.org/required-method/\r\n\t\t\trequired: function (value, element, param) {\r\n\r\n\t\t\t\t// Check if dependency is met\r\n\t\t\t\tif (!this.depend(param, element)) {\r\n\t\t\t\t\treturn \"dependency-mismatch\";\r\n\t\t\t\t}\r\n\t\t\t\tif (element.nodeName.toLowerCase() === \"select\") {\r\n\r\n\t\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\r\n\t\t\t\t\tvar val = $(element).val();\r\n\t\t\t\t\treturn val && val.length > 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.checkable(element)) {\r\n\t\t\t\t\treturn this.getLength(value, element) > 0;\r\n\t\t\t\t}\r\n\t\t\t\treturn value.length > 0;\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/email-method/\r\n\t\t\temail: function (value, element) {\r\n\r\n\t\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\r\n\t\t\t\t// Retrieved 2014-01-14\r\n\t\t\t\t// If you have a problem with this implementation, report a bug against the above spec\r\n\t\t\t\t// Or use custom methods to implement your own email validation\r\n\t\t\t\treturn this.optional(element) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value);\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/url-method/\r\n\t\t\turl: function (value, element) {\r\n\r\n\t\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\r\n\t\t\t\t// https://gist.github.com/dperini/729294\r\n\t\t\t\t// see also https://mathiasbynens.be/demo/url-regex\r\n\t\t\t\t// modified to allow protocol-relative URLs\r\n\t\t\t\treturn this.optional(element) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test(value);\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/date-method/\r\n\t\t\tdate: function (value, element) {\r\n\t\t\t\treturn this.optional(element) || !/Invalid|NaN/.test(new Date(value).toString());\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/dateISO-method/\r\n\t\t\tdateISO: function (value, element) {\r\n\t\t\t\treturn this.optional(element) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/number-method/\r\n\t\t\tnumber: function (value, element) {\r\n\t\t\t\treturn this.optional(element) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(value);\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/digits-method/\r\n\t\t\tdigits: function (value, element) {\r\n\t\t\t\treturn this.optional(element) || /^\\d+$/.test(value);\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/minlength-method/\r\n\t\t\tminlength: function (value, element, param) {\r\n\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\r\n\t\t\t\treturn this.optional(element) || length >= param;\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/maxlength-method/\r\n\t\t\tmaxlength: function (value, element, param) {\r\n\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\r\n\t\t\t\treturn this.optional(element) || length <= param;\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/rangelength-method/\r\n\t\t\trangelength: function (value, element, param) {\r\n\t\t\t\tvar length = $.isArray(value) ? value.length : this.getLength(value, element);\r\n\t\t\t\treturn this.optional(element) || (length >= param[0] && length <= param[1]);\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/min-method/\r\n\t\t\tmin: function (value, element, param) {\r\n\t\t\t\treturn this.optional(element) || value >= param;\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/max-method/\r\n\t\t\tmax: function (value, element, param) {\r\n\t\t\t\treturn this.optional(element) || value <= param;\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/range-method/\r\n\t\t\trange: function (value, element, param) {\r\n\t\t\t\treturn this.optional(element) || (value >= param[0] && value <= param[1]);\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/step-method/\r\n\t\t\tstep: function (value, element, param) {\r\n\t\t\t\tvar type = $(element).attr(\"type\"),\r\n\t\t\t\t\terrorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\r\n\t\t\t\t\tsupportedTypes = [\"text\", \"number\", \"range\"],\r\n\t\t\t\t\tre = new RegExp(\"\\\\b\" + type + \"\\\\b\"),\r\n\t\t\t\t\tnotSupported = type && !re.test(supportedTypes.join()),\r\n\t\t\t\t\tdecimalPlaces = function (num) {\r\n\t\t\t\t\t\tvar match = (\"\" + num).match(/(?:\\.(\\d+))?$/);\r\n\t\t\t\t\t\tif (!match) {\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Number of digits right of decimal point.\r\n\t\t\t\t\t\treturn match[1] ? match[1].length : 0;\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoInt = function (num) {\r\n\t\t\t\t\t\treturn Math.round(num * Math.pow(10, decimals));\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvalid = true,\r\n\t\t\t\t\tdecimals;\r\n\r\n\t\t\t\t// Works only for text, number and range input types\r\n\t\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\r\n\t\t\t\tif (notSupported) {\r\n\t\t\t\t\tthrow new Error(errorMessage);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdecimals = decimalPlaces(param);\r\n\r\n\t\t\t\t// Value can't have too many decimals\r\n\t\t\t\tif (decimalPlaces(value) > decimals || toInt(value) % toInt(param) !== 0) {\r\n\t\t\t\t\tvalid = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this.optional(element) || valid;\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/equalTo-method/\r\n\t\t\tequalTo: function (value, element, param) {\r\n\r\n\t\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\r\n\t\t\t\tvar target = $(param);\r\n\t\t\t\tif (this.settings.onfocusout && target.not(\".validate-equalTo-blur\").length) {\r\n\t\t\t\t\ttarget.addClass(\"validate-equalTo-blur\").on(\"blur.validate-equalTo\", function () {\r\n\t\t\t\t\t\t$(element).valid();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn value === target.val();\r\n\t\t\t},\r\n\r\n\t\t\t// https://jqueryvalidation.org/remote-method/\r\n\t\t\tremote: function (value, element, param, method) {\r\n\t\t\t\tif (this.optional(element)) {\r\n\t\t\t\t\treturn \"dependency-mismatch\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\r\n\r\n\t\t\t\tvar previous = this.previousValue(element, method),\r\n\t\t\t\t\tvalidator, data, optionDataString;\r\n\r\n\t\t\t\tif (!this.settings.messages[element.name]) {\r\n\t\t\t\t\tthis.settings.messages[element.name] = {};\r\n\t\t\t\t}\r\n\t\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[element.name][method];\r\n\t\t\t\tthis.settings.messages[element.name][method] = previous.message;\r\n\r\n\t\t\t\tparam = typeof param === \"string\" && {\r\n\t\t\t\t\turl: param\r\n\t\t\t\t} || param;\r\n\t\t\t\toptionDataString = $.param($.extend({\r\n\t\t\t\t\tdata: value\r\n\t\t\t\t}, param.data));\r\n\t\t\t\tif (previous.old === optionDataString) {\r\n\t\t\t\t\treturn previous.valid;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tprevious.old = optionDataString;\r\n\t\t\t\tvalidator = this;\r\n\t\t\t\tthis.startRequest(element);\r\n\t\t\t\tdata = {};\r\n\t\t\t\tdata[element.name] = value;\r\n\t\t\t\t$.ajax($.extend(true, {\r\n\t\t\t\t\tmode: \"abort\",\r\n\t\t\t\t\tport: \"validate\" + element.name,\r\n\t\t\t\t\tdataType: \"json\",\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tcontext: validator.currentForm,\r\n\t\t\t\t\tsuccess: function (response) {\r\n\t\t\t\t\t\tvar valid = response === true || response === \"true\",\r\n\t\t\t\t\t\t\terrors, message, submitted;\r\n\r\n\t\t\t\t\t\tvalidator.settings.messages[element.name][method] = previous.originalMessage;\r\n\t\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\t\tsubmitted = validator.formSubmitted;\r\n\t\t\t\t\t\t\tvalidator.resetInternals();\r\n\t\t\t\t\t\t\tvalidator.toHide = validator.errorsFor(element);\r\n\t\t\t\t\t\t\tvalidator.formSubmitted = submitted;\r\n\t\t\t\t\t\t\tvalidator.successList.push(element);\r\n\t\t\t\t\t\t\tvalidator.invalid[element.name] = false;\r\n\t\t\t\t\t\t\tvalidator.showErrors();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\terrors = {};\r\n\t\t\t\t\t\t\tmessage = response || validator.defaultMessage(element, {\r\n\t\t\t\t\t\t\t\tmethod: method,\r\n\t\t\t\t\t\t\t\tparameters: value\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\terrors[element.name] = previous.message = message;\r\n\t\t\t\t\t\t\tvalidator.invalid[element.name] = true;\r\n\t\t\t\t\t\t\tvalidator.showErrors(errors);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tprevious.valid = valid;\r\n\t\t\t\t\t\tvalidator.stopRequest(element, valid);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, param));\r\n\t\t\t\treturn \"pending\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t// Ajax mode: abort\r\n\t// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\r\n\t// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\r\n\r\n\tvar pendingRequests = {},\r\n\t\tajax;\r\n\r\n\t// Use a prefilter if available (1.5+)\r\n\tif ($.ajaxPrefilter) {\r\n\t\t$.ajaxPrefilter(function (settings, _, xhr) {\r\n\t\t\tvar port = settings.port;\r\n\t\t\tif (settings.mode === \"abort\") {\r\n\t\t\t\tif (pendingRequests[port]) {\r\n\t\t\t\t\tpendingRequests[port].abort();\r\n\t\t\t\t}\r\n\t\t\t\tpendingRequests[port] = xhr;\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\r\n\t\t// Proxy ajax\r\n\t\tajax = $.ajax;\r\n\t\t$.ajax = function (settings) {\r\n\t\t\tvar mode = (\"mode\" in settings ? settings : $.ajaxSettings).mode,\r\n\t\t\t\tport = (\"port\" in settings ? settings : $.ajaxSettings).port;\r\n\t\t\tif (mode === \"abort\") {\r\n\t\t\t\tif (pendingRequests[port]) {\r\n\t\t\t\t\tpendingRequests[port].abort();\r\n\t\t\t\t}\r\n\t\t\t\tpendingRequests[port] = ajax.apply(this, arguments);\r\n\t\t\t\treturn pendingRequests[port];\r\n\t\t\t}\r\n\t\t\treturn ajax.apply(this, arguments);\r\n\t\t};\r\n\t}\r\n\treturn $;\r\n}));"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYm9keS1zY3JvbGwtbG9jay9saWIvYm9keVNjcm9sbExvY2subWluLmpzIiwibm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9kZWJ1Zy5qcyIsIm5vZGVfbW9kdWxlcy9qYXBhbi1wb3N0YWwtY29kZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9qc29ucC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9vd2wuY2Fyb3VzZWwyL2Rpc3Qvb3dsLmNhcm91c2VsLmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsInNyYy9qcy9jb21tb24vQ29sbGFwc2UuanMiLCJzcmMvanMvY29tbW9uL0N1c3RvbVNlbGVjdC5qcyIsInNyYy9qcy9jb21tb24vRm9ybUhvbWUuanMiLCJzcmMvanMvY29tbW9uL0dvdG9JZC5qcyIsInNyYy9qcy9jb21tb24vSHRtbEZlYXR1cmUuanMiLCJzcmMvanMvY29tbW9uL0pzVGFiLmpzIiwic3JjL2pzL2NvbW1vbi9Nb2JpbGVNZW51LmpzIiwic3JjL2pzL2NvbW1vbi9TdGlja3lIZWFkZXIuanMiLCJzcmMvanMvaGVscGVyL2hlbHBlci5qcyIsInNyYy9qcy9tb2R1bGVzL3NsaWRlci5qcyIsInNyYy9qcy92ZW5kb3IvanF1ZXJ5LnZhbGlkYXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTs7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDekxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6c0dBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUEsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFUOztBQUNBLElBQUEsQ0FBQyxDQUFDLElBQUYsR0FBUyxVQUFVLFFBQVYsRUFBb0I7QUFDNUIsVUFBSSxJQUFJLEdBQUcsQ0FBQyxVQUFVLFFBQVYsR0FBcUIsUUFBckIsR0FBZ0MsQ0FBQyxDQUFDLFlBQW5DLEVBQWlELElBQTVEO0FBQUEsVUFDQyxJQUFJLEdBQUcsQ0FBQyxVQUFVLFFBQVYsR0FBcUIsUUFBckIsR0FBZ0MsQ0FBQyxDQUFDLFlBQW5DLEVBQWlELElBRHpEOztBQUVBLFVBQUksSUFBSSxLQUFLLE9BQWIsRUFBc0I7QUFDckIsWUFBSSxlQUFlLENBQUMsSUFBRCxDQUFuQixFQUEyQjtBQUMxQixVQUFBLGVBQWUsQ0FBQyxJQUFELENBQWYsQ0FBc0IsS0FBdEI7QUFDQTs7QUFDRCxRQUFBLGVBQWUsQ0FBQyxJQUFELENBQWYsR0FBd0IsSUFBSSxDQUFDLEtBQUwsQ0FBVyxJQUFYLEVBQWlCLFNBQWpCLENBQXhCO0FBQ0EsZUFBTyxlQUFlLENBQUMsSUFBRCxDQUF0QjtBQUNBOztBQUNELGFBQU8sSUFBSSxDQUFDLEtBQUwsQ0FBVyxJQUFYLEVBQWlCLFNBQWpCLENBQVA7QUFDQSxLQVhEO0FBWUE7O0FBQ0QsU0FBTyxDQUFQO0FBQ0EsQ0ExbERBLENBQUQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIhZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtcImV4cG9ydHNcIl0sdCk7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cyl0KGV4cG9ydHMpO2Vsc2V7dmFyIG89e307dChvKSxlLmJvZHlTY3JvbGxMb2NrPW99fSh0aGlzLGZ1bmN0aW9uKGV4cG9ydHMpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAsbz1BcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0Kyspb1t0XT1lW3RdO3JldHVybiBvfXJldHVybiBBcnJheS5mcm9tKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBsPSExO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe3ZhciBlPXtnZXQgcGFzc2l2ZSgpe2w9ITB9fTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RQYXNzaXZlXCIsbnVsbCxlKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRlc3RQYXNzaXZlXCIsbnVsbCxlKX12YXIgZD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtJiYvaVAoYWR8aG9uZXxvZCkvLnRlc3Qod2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSksYz1bXSx1PSExLGE9LTEscz12b2lkIDAsdj12b2lkIDAsZj1mdW5jdGlvbih0KXtyZXR1cm4gYy5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiEoIWUub3B0aW9ucy5hbGxvd1RvdWNoTW92ZXx8IWUub3B0aW9ucy5hbGxvd1RvdWNoTW92ZSh0KSl9KX0sbT1mdW5jdGlvbihlKXt2YXIgdD1lfHx3aW5kb3cuZXZlbnQ7cmV0dXJuISFmKHQudGFyZ2V0KXx8KDE8dC50b3VjaGVzLmxlbmd0aHx8KHQucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKSwhMSkpfSxvPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3ZvaWQgMCE9PXYmJihkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodD12LHY9dm9pZCAwKSx2b2lkIDAhPT1zJiYoZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1zLHM9dm9pZCAwKX0pfTtleHBvcnRzLmRpc2FibGVCb2R5U2Nyb2xsPWZ1bmN0aW9uKGksZSl7aWYoZCl7aWYoIWkpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcImRpc2FibGVCb2R5U2Nyb2xsIHVuc3VjY2Vzc2Z1bCAtIHRhcmdldEVsZW1lbnQgbXVzdCBiZSBwcm92aWRlZCB3aGVuIGNhbGxpbmcgZGlzYWJsZUJvZHlTY3JvbGwgb24gSU9TIGRldmljZXMuXCIpO2lmKGkmJiFjLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFyZ2V0RWxlbWVudD09PWl9KSl7dmFyIHQ9e3RhcmdldEVsZW1lbnQ6aSxvcHRpb25zOmV8fHt9fTtjPVtdLmNvbmNhdChyKGMpLFt0XSksaS5vbnRvdWNoc3RhcnQ9ZnVuY3Rpb24oZSl7MT09PWUudGFyZ2V0VG91Y2hlcy5sZW5ndGgmJihhPWUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRZKX0saS5vbnRvdWNobW92ZT1mdW5jdGlvbihlKXt2YXIgdCxvLG4scjsxPT09ZS50YXJnZXRUb3VjaGVzLmxlbmd0aCYmKG89aSxyPSh0PWUpLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WS1hLCFmKHQudGFyZ2V0KSYmKG8mJjA9PT1vLnNjcm9sbFRvcCYmMDxyP20odCk6KG49bykmJm4uc2Nyb2xsSGVpZ2h0LW4uc2Nyb2xsVG9wPD1uLmNsaWVudEhlaWdodCYmcjwwP20odCk6dC5zdG9wUHJvcGFnYXRpb24oKSkpfSx1fHwoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLG0sbD97cGFzc2l2ZTohMX06dm9pZCAwKSx1PSEwKX19ZWxzZXtuPWUsc2V0VGltZW91dChmdW5jdGlvbigpe2lmKHZvaWQgMD09PXYpe3ZhciBlPSEhbiYmITA9PT1uLnJlc2VydmVTY3JvbGxCYXJHYXAsdD13aW5kb3cuaW5uZXJXaWR0aC1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7ZSYmMDx0JiYodj1kb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCxkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodD10K1wicHhcIil9dm9pZCAwPT09cyYmKHM9ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyxkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIpfSk7dmFyIG89e3RhcmdldEVsZW1lbnQ6aSxvcHRpb25zOmV8fHt9fTtjPVtdLmNvbmNhdChyKGMpLFtvXSl9dmFyIG59LGV4cG9ydHMuY2xlYXJBbGxCb2R5U2Nyb2xsTG9ja3M9ZnVuY3Rpb24oKXtkPyhjLmZvckVhY2goZnVuY3Rpb24oZSl7ZS50YXJnZXRFbGVtZW50Lm9udG91Y2hzdGFydD1udWxsLGUudGFyZ2V0RWxlbWVudC5vbnRvdWNobW92ZT1udWxsfSksdSYmKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixtLGw/e3Bhc3NpdmU6ITF9OnZvaWQgMCksdT0hMSksYz1bXSxhPS0xKToobygpLGM9W10pfSxleHBvcnRzLmVuYWJsZUJvZHlTY3JvbGw9ZnVuY3Rpb24odCl7aWYoZCl7aWYoIXQpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcImVuYWJsZUJvZHlTY3JvbGwgdW5zdWNjZXNzZnVsIC0gdGFyZ2V0RWxlbWVudCBtdXN0IGJlIHByb3ZpZGVkIHdoZW4gY2FsbGluZyBlbmFibGVCb2R5U2Nyb2xsIG9uIElPUyBkZXZpY2VzLlwiKTt0Lm9udG91Y2hzdGFydD1udWxsLHQub250b3VjaG1vdmU9bnVsbCxjPWMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRhcmdldEVsZW1lbnQhPT10fSksdSYmMD09PWMubGVuZ3RoJiYoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLG0sbD97cGFzc2l2ZTohMX06dm9pZCAwKSx1PSExKX1lbHNlIDE9PT1jLmxlbmd0aCYmY1swXS50YXJnZXRFbGVtZW50PT09dD8obygpLGM9W10pOmM9Yy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFyZ2V0RWxlbWVudCE9PXR9KX19KTtcbiIsIi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2RlYnVnJyk7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZVxuICAgICAgICAgICAgICAgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgICA/IGNocm9tZS5zdG9yYWdlLmxvY2FsXG4gICAgICAgICAgICAgICAgICA6IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJ2xpZ2h0c2VhZ3JlZW4nLFxuICAnZm9yZXN0Z3JlZW4nLFxuICAnZ29sZGVucm9kJyxcbiAgJ2RvZGdlcmJsdWUnLFxuICAnZGFya29yY2hpZCcsXG4gICdjcmltc29uJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2VcbiAgLy8gZXhwbGljaXRseVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gaXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcbiAgcmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG4gICAgLy8gaXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG4gICAgLy8gaXMgZmlyZWZveCA+PSB2MzE/XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpIHx8XG4gICAgLy8gZG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24odikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVyci5tZXNzYWdlO1xuICB9XG59O1xuXG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIHZhciB1c2VDb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblxuICBhcmdzWzBdID0gKHVzZUNvbG9ycyA/ICclYycgOiAnJylcbiAgICArIHRoaXMubmFtZXNwYWNlXG4gICAgKyAodXNlQ29sb3JzID8gJyAlYycgOiAnICcpXG4gICAgKyBhcmdzWzBdXG4gICAgKyAodXNlQ29sb3JzID8gJyVjICcgOiAnICcpXG4gICAgKyAnKycgKyBleHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgaWYgKCF1c2VDb2xvcnMpIHJldHVybjtcblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpXG5cbiAgLy8gdGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcbiAgLy8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3RDID0gMDtcbiAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgaWYgKCclJScgPT09IG1hdGNoKSByZXR1cm47XG4gICAgaW5kZXgrKztcbiAgICBpZiAoJyVjJyA9PT0gbWF0Y2gpIHtcbiAgICAgIC8vIHdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgIGxhc3RDID0gaW5kZXg7XG4gICAgfVxuICB9KTtcblxuICBhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbG9nKCkge1xuICAvLyB0aGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gJ29iamVjdCcgPT09IHR5cGVvZiBjb25zb2xlXG4gICAgJiYgY29uc29sZS5sb2dcbiAgICAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZywgY29uc29sZSwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG51bGwgPT0gbmFtZXNwYWNlcykge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZyA9IG5hbWVzcGFjZXM7XG4gICAgfVxuICB9IGNhdGNoKGUpIHt9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZztcbiAgfSBjYXRjaChlKSB7fVxuXG4gIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcbiAgaWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogRW5hYmxlIG5hbWVzcGFjZXMgbGlzdGVkIGluIGBsb2NhbFN0b3JhZ2UuZGVidWdgIGluaXRpYWxseS5cbiAqL1xuXG5leHBvcnRzLmVuYWJsZShsb2FkKCkpO1xuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZSkge31cbn1cbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnWydkZWZhdWx0J10gPSBjcmVhdGVEZWJ1ZztcbmV4cG9ydHMuY29lcmNlID0gY29lcmNlO1xuZXhwb3J0cy5kaXNhYmxlID0gZGlzYWJsZTtcbmV4cG9ydHMuZW5hYmxlID0gZW5hYmxlO1xuZXhwb3J0cy5lbmFibGVkID0gZW5hYmxlZDtcbmV4cG9ydHMuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXG4vKipcbiAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuICovXG5cbmV4cG9ydHMubmFtZXMgPSBbXTtcbmV4cG9ydHMuc2tpcHMgPSBbXTtcblxuLyoqXG4gKiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG4gKlxuICogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycyA9IHt9O1xuXG4vKipcbiAqIFByZXZpb3VzIGxvZyB0aW1lc3RhbXAuXG4gKi9cblxudmFyIHByZXZUaW1lO1xuXG4vKipcbiAqIFNlbGVjdCBhIGNvbG9yLlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG4gIHZhciBoYXNoID0gMCwgaTtcblxuICBmb3IgKGkgaW4gbmFtZXNwYWNlKSB7XG4gICAgaGFzaCAgPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gIH1cblxuICByZXR1cm4gZXhwb3J0cy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBleHBvcnRzLmNvbG9ycy5sZW5ndGhdO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblxuICBmdW5jdGlvbiBkZWJ1ZygpIHtcbiAgICAvLyBkaXNhYmxlZD9cbiAgICBpZiAoIWRlYnVnLmVuYWJsZWQpIHJldHVybjtcblxuICAgIHZhciBzZWxmID0gZGVidWc7XG5cbiAgICAvLyBzZXQgYGRpZmZgIHRpbWVzdGFtcFxuICAgIHZhciBjdXJyID0gK25ldyBEYXRlKCk7XG4gICAgdmFyIG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcbiAgICBzZWxmLmRpZmYgPSBtcztcbiAgICBzZWxmLnByZXYgPSBwcmV2VGltZTtcbiAgICBzZWxmLmN1cnIgPSBjdXJyO1xuICAgIHByZXZUaW1lID0gY3VycjtcblxuICAgIC8vIHR1cm4gdGhlIGBhcmd1bWVudHNgIGludG8gYSBwcm9wZXIgQXJyYXlcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgYXJnc1swXSA9IGV4cG9ydHMuY29lcmNlKGFyZ3NbMF0pO1xuXG4gICAgaWYgKCdzdHJpbmcnICE9PSB0eXBlb2YgYXJnc1swXSkge1xuICAgICAgLy8gYW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cbiAgICAgIGFyZ3MudW5zaGlmdCgnJU8nKTtcbiAgICB9XG5cbiAgICAvLyBhcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgYXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIGZ1bmN0aW9uKG1hdGNoLCBmb3JtYXQpIHtcbiAgICAgIC8vIGlmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcbiAgICAgIGlmIChtYXRjaCA9PT0gJyUlJykgcmV0dXJuIG1hdGNoO1xuICAgICAgaW5kZXgrKztcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBleHBvcnRzLmZvcm1hdHRlcnNbZm9ybWF0XTtcbiAgICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgZm9ybWF0dGVyKSB7XG4gICAgICAgIHZhciB2YWwgPSBhcmdzW2luZGV4XTtcbiAgICAgICAgbWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG4gICAgICAgIC8vIG5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcbiAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgLy8gYXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcbiAgICBleHBvcnRzLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuICAgIHZhciBsb2dGbiA9IGRlYnVnLmxvZyB8fCBleHBvcnRzLmxvZyB8fCBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO1xuICAgIGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICB9XG5cbiAgZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICBkZWJ1Zy5lbmFibGVkID0gZXhwb3J0cy5lbmFibGVkKG5hbWVzcGFjZSk7XG4gIGRlYnVnLnVzZUNvbG9ycyA9IGV4cG9ydHMudXNlQ29sb3JzKCk7XG4gIGRlYnVnLmNvbG9yID0gc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcblxuICAvLyBlbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGV4cG9ydHMuaW5pdCkge1xuICAgIGV4cG9ydHMuaW5pdChkZWJ1Zyk7XG4gIH1cblxuICByZXR1cm4gZGVidWc7XG59XG5cbi8qKlxuICogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuICogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuICBleHBvcnRzLnNhdmUobmFtZXNwYWNlcyk7XG5cbiAgZXhwb3J0cy5uYW1lcyA9IFtdO1xuICBleHBvcnRzLnNraXBzID0gW107XG5cbiAgdmFyIHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcbiAgdmFyIGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKCFzcGxpdFtpXSkgY29udGludWU7IC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzXG4gICAgbmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG4gICAgaWYgKG5hbWVzcGFjZXNbMF0gPT09ICctJykge1xuICAgICAgZXhwb3J0cy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcy5zdWJzdHIoMSkgKyAnJCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgZXhwb3J0cy5lbmFibGUoJycpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG4gIHZhciBpLCBsZW47XG4gIGZvciAoaSA9IDAsIGxlbiA9IGV4cG9ydHMuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoZXhwb3J0cy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGZvciAoaSA9IDAsIGxlbiA9IGV4cG9ydHMubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoZXhwb3J0cy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENvZXJjZSBgdmFsYC5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSB2YWxcbiAqIEByZXR1cm4ge01peGVkfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuICBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG4gIHJldHVybiB2YWw7XG59XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICpcbiAgICBhamF4emlwMy5qcyAtLS0tIEFqYXhaaXAzIOmDteS+v+eVquWPt+KGkuS9j+aJgOWkieaPm+ODqeOCpOODluODqeODqlxuXG4gICAgQ29weXJpZ2h0IChjKSAyMDE1IE1JWlVOTyBIaXJva2lcbiAgICBodHRwOi8vZ2l0aHViLmNvbS9tenAvamFwYW4tcG9zdGFsLWNvZGVcblxuICAgIENvcHlyaWdodCAoYykgMjAwOC0yMDE1IE5pbmtpZ3VtaSBDby4sTHRkLlxuICAgIGh0dHA6Ly9hamF4emlwMy5naXRodWIuaW8vXG5cbiAgICBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwNyBLYXdhc2FraSBZdXN1a2UgPHUtc3VrZSBbYXRdIGthd2EubmV0PlxuICAgIGh0dHA6Ly93d3cua2F3YS5uZXQvd29ya3MvYWpheC9BamF4WmlwMi9BamF4WmlwMi5odG1sXG5cbiAgICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICAgIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gICAgZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0XG4gICAgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsXG4gICAgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAgICBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAgICBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZ1xuICAgIGNvbmRpdGlvbnM6XG5cbiAgICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICAgIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAgICBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVNcbiAgICBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICAgIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUXG4gICAgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksXG4gICAgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gICAgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUlxuICAgIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG52YXIganNvbnAgPSByZXF1aXJlKCdqc29ucCcpXG5cbkpTT05EQVRBID0gJ2h0dHBzOi8veXViaW5iYW5nby5naXRodWIuaW8veXViaW5iYW5nby1kYXRhL2RhdGEnO1xuQ0FDSEUgPSBbXTtcblxuXG5QUkVGTUFQID0gW1xuICAgIG51bGwsICAgICAgICfljJfmtbfpgZMnLCAgICfpnZLmo67nnIwnLCAgICflsqnmiYvnnIwnLCAgICflrq7ln47nnIwnLFxuICAgICfnp4vnlLDnnIwnLCAgICflsbHlvaLnnIwnLCAgICfnpo/ls7bnnIwnLCAgICfojKjln47nnIwnLCAgICfmoIPmnKjnnIwnLFxuICAgICfnvqTppqznnIwnLCAgICfln7znjonnnIwnLCAgICfljYPokYnnnIwnLCAgICfmnbHkuqzpg70nLCAgICfnpZ7lpYjlt53nnIwnLFxuICAgICfmlrDmvZ/nnIwnLCAgICflr4zlsbHnnIwnLCAgICfnn7Plt53nnIwnLCAgICfnpo/kupXnnIwnLCAgICflsbHmoqjnnIwnLFxuICAgICfplbfph47nnIwnLCAgICflspDpmJznnIwnLCAgICfpnZnlsqHnnIwnLCAgICfmhJvnn6XnnIwnLCAgICfkuInph43nnIwnLFxuICAgICfmu4vos4DnnIwnLCAgICfkuqzpg73lupwnLCAgICflpKfpmKrlupwnLCAgICflhbXluqvnnIwnLCAgICflpYjoia/nnIwnLFxuICAgICflkozmrYzlsbHnnIwnLCAn6bOl5Y+W55yMJywgICAn5bO25qC555yMJywgICAn5bKh5bGx55yMJywgICAn5bqD5bO255yMJyxcbiAgICAn5bGx5Y+j55yMJywgICAn5b6z5bO255yMJywgICAn6aaZ5bed55yMJywgICAn5oSb5aqb55yMJywgICAn6auY55+l55yMJyxcbiAgICAn56aP5bKh55yMJywgICAn5L2Q6LOA55yMJywgICAn6ZW35bSO55yMJywgICAn54aK5pys55yMJywgICAn5aSn5YiG55yMJyxcbiAgICAn5a6u5bSO55yMJywgICAn6bm/5YWQ5bO255yMJywgJ+aylue4hOecjCdcbl07XG5cblxuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbiAoemlwX2NvZGUsIGNhbGxiYWNrKSB7XG4gICAgLy8g6YO15L6/55Wq5Y+344KS5pWw5a2X44Gu44G/N+ahgeWPluOCiuWHuuOBmVxuICAgIC8vICAgIHZhciB6aXBvcHRpbWl6ZSA9IGZ1bmN0aW9uKEFqYXhaaXAzLmZ6aXAxLCBBamF4WmlwMy5memlwMil7XG4gIHZhciB2emlwID0gemlwX2NvZGU7XG4gIGlmICghdnppcCkgcmV0dXJuO1xuXG4gIC8vIGV4dHJhY3QgbnVtYmVyIG9ubHlcbiAgdmFyIG56aXAgPSAnJztcbiAgZm9yKCB2YXIgaT0wOyAgaTwgdnppcC5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgY2hyID0gdnppcC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmICggY2hyIDwgNDggKSBjb250aW51ZTtcbiAgICBpZiAoIGNociA+IDU3ICkgY29udGludWU7XG4gICAgbnppcCArPSB2emlwLmNoYXJBdChpKTtcbiAgfVxuICBpZiAobnppcC5sZW5ndGggPCA3ICkgcmV0dXJuO1xuXG4gIC8vIGZldGNoIGZyb20gY2FjaGUgZGF0YSB1c2luZyB1cHBlciAzIGRpZ2l0XG4gIHZhciB6aXAzID0gbnppcC5zdWJzdHIoMCwzKTtcbiAgdmFyIGRhdGEgPSBDQUNIRVt6aXAzXTtcbiAgaWYgKGRhdGEpIHJldHVybiBwYXJzZShuemlwLCBkYXRhLCBjYWxsYmFjayk7XG5cbiAgLy8gZmV0Y2ggYnkganNvbnBcbiAgZmV0Y2hSZW1vdGUobnppcCwgY2FsbGJhY2spO1xufTtcblxudmFyIHBhcnNlID0gZnVuY3Rpb24obnppcCwgZGF0YSwgY2FsbGJhY2spe1xuICB2YXIgYXJyYXkgPSBkYXRhW256aXBdO1xuICAvLyBPcGVyYSDjg5DjgrDlr77nrZbvvJoweDAwODAwMDAwIOOCkui2heOBiOOCi+a3u+Wtl+OBryArMHhmZjAwMDAwMCDjgZXjgozjgabjgZfjgb7jgYZcbiAgdmFyIG9wZXJhID0gKG56aXAtMCsweGZmMDAwMDAwKStcIlwiO1xuICBpZiAoICEgYXJyYXkgJiYgZGF0YVtvcGVyYV0gKSBhcnJheSA9IGRhdGFbb3BlcmFdO1xuICBpZiAoICEgYXJyYXkgKSByZXR1cm47XG4gIHZhciBwcmVmX2lkID0gYXJyYXlbMF07ICAgICAgICAgICAgICAgICAvLyDpg73pgZPlupznnIxJRFxuICBpZiAoICEgcHJlZl9pZCApIHJldHVybjtcbiAgdmFyIGpwcmVmID0gUFJFRk1BUFtwcmVmX2lkXTsgIC8vIOmDvemBk+W6nOecjOWQjVxuICBpZiAoICEganByZWYgKSByZXR1cm47XG4gIHZhciBqY2l0eSA9IGFycmF5WzFdO1xuICBpZiAoICEgamNpdHkgKSBqY2l0eSA9ICcnOyAgICAgICAgICAgICAgLy8g5biC5Yy655S65p2R5ZCNXG4gIHZhciBqYXJlYSA9IGFycmF5WzJdO1xuICBpZiAoICEgamFyZWEgKSBqYXJlYSA9ICcnOyAgICAgICAgICAgICAgLy8g55S65Z+f5ZCNXG4gIHZhciBqc3RydCA9IGFycmF5WzNdO1xuICBpZiAoICEganN0cnQgKSBqc3RydCA9ICcnOyAgICAgICAgICAgICAgLy8g55Wq5ZywXG4gIGNhbGxiYWNrKHtcbiAgICAncHJlZmVjdHVyZSc6IGpwcmVmLFxuICAgICdjaXR5JzogamNpdHksXG4gICAgJ2FyZWEnOiBqYXJlYSxcbiAgICAnc3RyZWV0JzoganN0cnRcbiAgfSk7XG59O1xuXG5mZXRjaFJlbW90ZSA9IGZ1bmN0aW9uIChuemlwLCBjYWxsYmFjaykge1xuICB2YXIgemlwMyA9IG56aXAuc3Vic3RyKDAsMyk7XG4gIHZhciB1cmwgPSBKU09OREFUQSsnLycremlwMysnLmpzJztcbiAganNvbnAodXJsLCB7IG5hbWU6ICckeXViaW4nfSwgZnVuY3Rpb24oZXJyb3IsIGRhdGEpIHtcbiAgICBpZiAoIWVycm9yKSB7XG4gICAgICBDQUNIRVt6aXAzXSA9IGRhdGE7XG4gICAgICBwYXJzZShuemlwLCBkYXRhLCBjYWxsYmFjayk7XG4gICAgfVxuICB9KTtcbn07XG4iLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXNcbiAqL1xuXG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdqc29ucCcpO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0ganNvbnA7XG5cbi8qKlxuICogQ2FsbGJhY2sgaW5kZXguXG4gKi9cblxudmFyIGNvdW50ID0gMDtcblxuLyoqXG4gKiBOb29wIGZ1bmN0aW9uLlxuICovXG5cbmZ1bmN0aW9uIG5vb3AoKXt9XG5cbi8qKlxuICogSlNPTlAgaGFuZGxlclxuICpcbiAqIE9wdGlvbnM6XG4gKiAgLSBwYXJhbSB7U3RyaW5nfSBxcyBwYXJhbWV0ZXIgKGBjYWxsYmFja2ApXG4gKiAgLSBwcmVmaXgge1N0cmluZ30gcXMgcGFyYW1ldGVyIChgX19qcGApXG4gKiAgLSBuYW1lIHtTdHJpbmd9IHFzIHBhcmFtZXRlciAoYHByZWZpeGAgKyBpbmNyKVxuICogIC0gdGltZW91dCB7TnVtYmVyfSBob3cgbG9uZyBhZnRlciBhIHRpbWVvdXQgZXJyb3IgaXMgZW1pdHRlZCAoYDYwMDAwYClcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge09iamVjdHxGdW5jdGlvbn0gb3B0aW9uYWwgb3B0aW9ucyAvIGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25hbCBjYWxsYmFja1xuICovXG5cbmZ1bmN0aW9uIGpzb25wKHVybCwgb3B0cywgZm4pe1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2Ygb3B0cykge1xuICAgIGZuID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKCFvcHRzKSBvcHRzID0ge307XG5cbiAgdmFyIHByZWZpeCA9IG9wdHMucHJlZml4IHx8ICdfX2pwJztcblxuICAvLyB1c2UgdGhlIGNhbGxiYWNrIG5hbWUgdGhhdCB3YXMgcGFzc2VkIGlmIG9uZSB3YXMgcHJvdmlkZWQuXG4gIC8vIG90aGVyd2lzZSBnZW5lcmF0ZSBhIHVuaXF1ZSBuYW1lIGJ5IGluY3JlbWVudGluZyBvdXIgY291bnRlci5cbiAgdmFyIGlkID0gb3B0cy5uYW1lIHx8IChwcmVmaXggKyAoY291bnQrKykpO1xuXG4gIHZhciBwYXJhbSA9IG9wdHMucGFyYW0gfHwgJ2NhbGxiYWNrJztcbiAgdmFyIHRpbWVvdXQgPSBudWxsICE9IG9wdHMudGltZW91dCA/IG9wdHMudGltZW91dCA6IDYwMDAwO1xuICB2YXIgZW5jID0gZW5jb2RlVVJJQ29tcG9uZW50O1xuICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdIHx8IGRvY3VtZW50LmhlYWQ7XG4gIHZhciBzY3JpcHQ7XG4gIHZhciB0aW1lcjtcblxuXG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICBpZiAoZm4pIGZuKG5ldyBFcnJvcignVGltZW91dCcpKTtcbiAgICB9LCB0aW1lb3V0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFudXAoKXtcbiAgICBpZiAoc2NyaXB0LnBhcmVudE5vZGUpIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgd2luZG93W2lkXSA9IG5vb3A7XG4gICAgaWYgKHRpbWVyKSBjbGVhclRpbWVvdXQodGltZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCl7XG4gICAgaWYgKHdpbmRvd1tpZF0pIHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICB9XG4gIH1cblxuICB3aW5kb3dbaWRdID0gZnVuY3Rpb24oZGF0YSl7XG4gICAgZGVidWcoJ2pzb25wIGdvdCcsIGRhdGEpO1xuICAgIGNsZWFudXAoKTtcbiAgICBpZiAoZm4pIGZuKG51bGwsIGRhdGEpO1xuICB9O1xuXG4gIC8vIGFkZCBxcyBjb21wb25lbnRcbiAgdXJsICs9ICh+dXJsLmluZGV4T2YoJz8nKSA/ICcmJyA6ICc/JykgKyBwYXJhbSArICc9JyArIGVuYyhpZCk7XG4gIHVybCA9IHVybC5yZXBsYWNlKCc/JicsICc/Jyk7XG5cbiAgZGVidWcoJ2pzb25wIHJlcSBcIiVzXCInLCB1cmwpO1xuXG4gIC8vIGNyZWF0ZSBzY3JpcHRcbiAgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC5zcmMgPSB1cmw7XG4gIHRhcmdldC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzY3JpcHQsIHRhcmdldCk7XG5cbiAgcmV0dXJuIGNhbmNlbDtcbn1cbiIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbCkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigoPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIGlmIChtcyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtcyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICByZXR1cm4gcGx1cmFsKG1zLCBkLCAnZGF5JykgfHxcbiAgICBwbHVyYWwobXMsIGgsICdob3VyJykgfHxcbiAgICBwbHVyYWwobXMsIG0sICdtaW51dGUnKSB8fFxuICAgIHBsdXJhbChtcywgcywgJ3NlY29uZCcpIHx8XG4gICAgbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG4sIG5hbWUpIHtcbiAgaWYgKG1zIDwgbikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobXMgPCBuICogMS41KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobXMgLyBuKSArICcgJyArIG5hbWU7XG4gIH1cbiAgcmV0dXJuIE1hdGguY2VpbChtcyAvIG4pICsgJyAnICsgbmFtZSArICdzJztcbn1cbiIsIi8qKlxuICogT3dsIENhcm91c2VsIHYyLjIuMVxuICogQ29weXJpZ2h0IDIwMTMtMjAxNyBTYXVyYWJoIFNoYXJtYVxuICogTGljZW5zZWQgdW5kZXIgICgpXG4gKi9cbi8qKlxuICogT3dsIGNhcm91c2VsXG4gKiBAdmVyc2lvbiAyLjEuNlxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcbiAqIEBhdXRob3IgU2F1cmFiaCBTaGFybWFcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICogQHRvZG8gTGF6eSBMb2FkIEljb25cbiAqIEB0b2RvIHByZXZlbnQgYW5pbWF0aW9uZW5kIGJ1YmxpbmdcbiAqIEB0b2RvIGl0ZW1zU2NhbGVVcFxuICogQHRvZG8gVGVzdCBaZXB0b1xuICogQHRvZG8gc3RhZ2VQYWRkaW5nIGNhbGN1bGF0ZSB3cm9uZyBhY3RpdmUgY2xhc3Nlc1xuICovXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgY2Fyb3VzZWwuXG5cdCAqIEBjbGFzcyBUaGUgT3dsIENhcm91c2VsLlxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8alF1ZXJ5fSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gY3JlYXRlIHRoZSBjYXJvdXNlbCBmb3IuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uc1xuXHQgKi9cblx0ZnVuY3Rpb24gT3dsKGVsZW1lbnQsIG9wdGlvbnMpIHtcblxuXHRcdC8qKlxuXHRcdCAqIEN1cnJlbnQgc2V0dGluZ3MgZm9yIHRoZSBjYXJvdXNlbC5cblx0XHQgKiBAcHVibGljXG5cdFx0ICovXG5cdFx0dGhpcy5zZXR0aW5ncyA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBDdXJyZW50IG9wdGlvbnMgc2V0IGJ5IHRoZSBjYWxsZXIgaW5jbHVkaW5nIGRlZmF1bHRzLlxuXHRcdCAqIEBwdWJsaWNcblx0XHQgKi9cblx0XHR0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgT3dsLkRlZmF1bHRzLCBvcHRpb25zKTtcblxuXHRcdC8qKlxuXHRcdCAqIFBsdWdpbiBlbGVtZW50LlxuXHRcdCAqIEBwdWJsaWNcblx0XHQgKi9cblx0XHR0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcblxuXHRcdC8qKlxuXHRcdCAqIFByb3hpZWQgZXZlbnQgaGFuZGxlcnMuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX2hhbmRsZXJzID0ge307XG5cblx0XHQvKipcblx0XHQgKiBSZWZlcmVuY2VzIHRvIHRoZSBydW5uaW5nIHBsdWdpbnMgb2YgdGhpcyBjYXJvdXNlbC5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fcGx1Z2lucyA9IHt9O1xuXG5cdFx0LyoqXG5cdFx0ICogQ3VycmVudGx5IHN1cHByZXNzZWQgZXZlbnRzIHRvIHByZXZlbnQgdGhlbSBmcm9tIGJlZWluZyByZXRyaWdnZXJlZC5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fc3VwcmVzcyA9IHt9O1xuXG5cdFx0LyoqXG5cdFx0ICogQWJzb2x1dGUgY3VycmVudCBwb3NpdGlvbi5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fY3VycmVudCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBBbmltYXRpb24gc3BlZWQgaW4gbWlsbGlzZWNvbmRzLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9zcGVlZCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBDb29yZGluYXRlcyBvZiBhbGwgaXRlbXMgaW4gcGl4ZWwuXG5cdFx0ICogQHRvZG8gVGhlIG5hbWUgb2YgdGhpcyBtZW1iZXIgaXMgbWlzc2xlYWRpbmcuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX2Nvb3JkaW5hdGVzID0gW107XG5cblx0XHQvKipcblx0XHQgKiBDdXJyZW50IGJyZWFrcG9pbnQuXG5cdFx0ICogQHRvZG8gUmVhbCBtZWRpYSBxdWVyaWVzIHdvdWxkIGJlIG5pY2UuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX2JyZWFrcG9pbnQgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogQ3VycmVudCB3aWR0aCBvZiB0aGUgcGx1Z2luIGVsZW1lbnQuXG5cdFx0ICovXG5cdFx0dGhpcy5fd2lkdGggPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogQWxsIHJlYWwgaXRlbXMuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX2l0ZW1zID0gW107XG5cblx0XHQvKipcblx0XHQgKiBBbGwgY2xvbmVkIGl0ZW1zLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9jbG9uZXMgPSBbXTtcblxuXHRcdC8qKlxuXHRcdCAqIE1lcmdlIHZhbHVlcyBvZiBhbGwgaXRlbXMuXG5cdFx0ICogQHRvZG8gTWF5YmUgdGhpcyBjb3VsZCBiZSBwYXJ0IG9mIGEgcGx1Z2luLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9tZXJnZXJzID0gW107XG5cblx0XHQvKipcblx0XHQgKiBXaWR0aHMgb2YgYWxsIGl0ZW1zLlxuXHRcdCAqL1xuXHRcdHRoaXMuX3dpZHRocyA9IFtdO1xuXG5cdFx0LyoqXG5cdFx0ICogSW52YWxpZGF0ZWQgcGFydHMgd2l0aGluIHRoZSB1cGRhdGUgcHJvY2Vzcy5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5faW52YWxpZGF0ZWQgPSB7fTtcblxuXHRcdC8qKlxuXHRcdCAqIE9yZGVyZWQgbGlzdCBvZiB3b3JrZXJzIGZvciB0aGUgdXBkYXRlIHByb2Nlc3MuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX3BpcGUgPSBbXTtcblxuXHRcdC8qKlxuXHRcdCAqIEN1cnJlbnQgc3RhdGUgaW5mb3JtYXRpb24gZm9yIHRoZSBkcmFnIG9wZXJhdGlvbi5cblx0XHQgKiBAdG9kbyAjMjYxXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX2RyYWcgPSB7XG5cdFx0XHR0aW1lOiBudWxsLFxuXHRcdFx0dGFyZ2V0OiBudWxsLFxuXHRcdFx0cG9pbnRlcjogbnVsbCxcblx0XHRcdHN0YWdlOiB7XG5cdFx0XHRcdHN0YXJ0OiBudWxsLFxuXHRcdFx0XHRjdXJyZW50OiBudWxsXG5cdFx0XHR9LFxuXHRcdFx0ZGlyZWN0aW9uOiBudWxsXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEN1cnJlbnQgc3RhdGUgaW5mb3JtYXRpb24gYW5kIHRoZWlyIHRhZ3MuXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fc3RhdGVzID0ge1xuXHRcdFx0Y3VycmVudDoge30sXG5cdFx0XHR0YWdzOiB7XG5cdFx0XHRcdCdpbml0aWFsaXppbmcnOiBbICdidXN5JyBdLFxuXHRcdFx0XHQnYW5pbWF0aW5nJzogWyAnYnVzeScgXSxcblx0XHRcdFx0J2RyYWdnaW5nJzogWyAnaW50ZXJhY3RpbmcnIF1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0JC5lYWNoKFsgJ29uUmVzaXplJywgJ29uVGhyb3R0bGVkUmVzaXplJyBdLCAkLnByb3h5KGZ1bmN0aW9uKGksIGhhbmRsZXIpIHtcblx0XHRcdHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdID0gJC5wcm94eSh0aGlzW2hhbmRsZXJdLCB0aGlzKTtcblx0XHR9LCB0aGlzKSk7XG5cblx0XHQkLmVhY2goT3dsLlBsdWdpbnMsICQucHJveHkoZnVuY3Rpb24oa2V5LCBwbHVnaW4pIHtcblx0XHRcdHRoaXMuX3BsdWdpbnNba2V5LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpXVxuXHRcdFx0XHQ9IG5ldyBwbHVnaW4odGhpcyk7XG5cdFx0fSwgdGhpcykpO1xuXG5cdFx0JC5lYWNoKE93bC5Xb3JrZXJzLCAkLnByb3h5KGZ1bmN0aW9uKHByaW9yaXR5LCB3b3JrZXIpIHtcblx0XHRcdHRoaXMuX3BpcGUucHVzaCh7XG5cdFx0XHRcdCdmaWx0ZXInOiB3b3JrZXIuZmlsdGVyLFxuXHRcdFx0XHQncnVuJzogJC5wcm94eSh3b3JrZXIucnVuLCB0aGlzKVxuXHRcdFx0fSk7XG5cdFx0fSwgdGhpcykpO1xuXG5cdFx0dGhpcy5zZXR1cCgpO1xuXHRcdHRoaXMuaW5pdGlhbGl6ZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlZmF1bHQgb3B0aW9ucyBmb3IgdGhlIGNhcm91c2VsLlxuXHQgKiBAcHVibGljXG5cdCAqL1xuXHRPd2wuRGVmYXVsdHMgPSB7XG5cdFx0aXRlbXM6IDMsXG5cdFx0bG9vcDogZmFsc2UsXG5cdFx0Y2VudGVyOiBmYWxzZSxcblx0XHRyZXdpbmQ6IGZhbHNlLFxuXG5cdFx0bW91c2VEcmFnOiB0cnVlLFxuXHRcdHRvdWNoRHJhZzogdHJ1ZSxcblx0XHRwdWxsRHJhZzogdHJ1ZSxcblx0XHRmcmVlRHJhZzogZmFsc2UsXG5cblx0XHRtYXJnaW46IDAsXG5cdFx0c3RhZ2VQYWRkaW5nOiAwLFxuXG5cdFx0bWVyZ2U6IGZhbHNlLFxuXHRcdG1lcmdlRml0OiB0cnVlLFxuXHRcdGF1dG9XaWR0aDogZmFsc2UsXG5cblx0XHRzdGFydFBvc2l0aW9uOiAwLFxuXHRcdHJ0bDogZmFsc2UsXG5cblx0XHRzbWFydFNwZWVkOiAyNTAsXG5cdFx0Zmx1aWRTcGVlZDogZmFsc2UsXG5cdFx0ZHJhZ0VuZFNwZWVkOiBmYWxzZSxcblxuXHRcdHJlc3BvbnNpdmU6IHt9LFxuXHRcdHJlc3BvbnNpdmVSZWZyZXNoUmF0ZTogMjAwLFxuXHRcdHJlc3BvbnNpdmVCYXNlRWxlbWVudDogd2luZG93LFxuXG5cdFx0ZmFsbGJhY2tFYXNpbmc6ICdzd2luZycsXG5cblx0XHRpbmZvOiBmYWxzZSxcblxuXHRcdG5lc3RlZEl0ZW1TZWxlY3RvcjogZmFsc2UsXG5cdFx0aXRlbUVsZW1lbnQ6ICdkaXYnLFxuXHRcdHN0YWdlRWxlbWVudDogJ2RpdicsXG5cblx0XHRyZWZyZXNoQ2xhc3M6ICdvd2wtcmVmcmVzaCcsXG5cdFx0bG9hZGVkQ2xhc3M6ICdvd2wtbG9hZGVkJyxcblx0XHRsb2FkaW5nQ2xhc3M6ICdvd2wtbG9hZGluZycsXG5cdFx0cnRsQ2xhc3M6ICdvd2wtcnRsJyxcblx0XHRyZXNwb25zaXZlQ2xhc3M6ICdvd2wtcmVzcG9uc2l2ZScsXG5cdFx0ZHJhZ0NsYXNzOiAnb3dsLWRyYWcnLFxuXHRcdGl0ZW1DbGFzczogJ293bC1pdGVtJyxcblx0XHRzdGFnZUNsYXNzOiAnb3dsLXN0YWdlJyxcblx0XHRzdGFnZU91dGVyQ2xhc3M6ICdvd2wtc3RhZ2Utb3V0ZXInLFxuXHRcdGdyYWJDbGFzczogJ293bC1ncmFiJ1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBFbnVtZXJhdGlvbiBmb3Igd2lkdGguXG5cdCAqIEBwdWJsaWNcblx0ICogQHJlYWRvbmx5XG5cdCAqIEBlbnVtIHtTdHJpbmd9XG5cdCAqL1xuXHRPd2wuV2lkdGggPSB7XG5cdFx0RGVmYXVsdDogJ2RlZmF1bHQnLFxuXHRcdElubmVyOiAnaW5uZXInLFxuXHRcdE91dGVyOiAnb3V0ZXInXG5cdH07XG5cblx0LyoqXG5cdCAqIEVudW1lcmF0aW9uIGZvciB0eXBlcy5cblx0ICogQHB1YmxpY1xuXHQgKiBAcmVhZG9ubHlcblx0ICogQGVudW0ge1N0cmluZ31cblx0ICovXG5cdE93bC5UeXBlID0ge1xuXHRcdEV2ZW50OiAnZXZlbnQnLFxuXHRcdFN0YXRlOiAnc3RhdGUnXG5cdH07XG5cblx0LyoqXG5cdCAqIENvbnRhaW5zIGFsbCByZWdpc3RlcmVkIHBsdWdpbnMuXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdE93bC5QbHVnaW5zID0ge307XG5cblx0LyoqXG5cdCAqIExpc3Qgb2Ygd29ya2VycyBpbnZvbHZlZCBpbiB0aGUgdXBkYXRlIHByb2Nlc3MuXG5cdCAqL1xuXHRPd2wuV29ya2VycyA9IFsge1xuXHRcdGZpbHRlcjogWyAnd2lkdGgnLCAnc2V0dGluZ3MnIF0sXG5cdFx0cnVuOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuX3dpZHRoID0gdGhpcy4kZWxlbWVudC53aWR0aCgpO1xuXHRcdH1cblx0fSwge1xuXHRcdGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXG5cdFx0cnVuOiBmdW5jdGlvbihjYWNoZSkge1xuXHRcdFx0Y2FjaGUuY3VycmVudCA9IHRoaXMuX2l0ZW1zICYmIHRoaXMuX2l0ZW1zW3RoaXMucmVsYXRpdmUodGhpcy5fY3VycmVudCldO1xuXHRcdH1cblx0fSwge1xuXHRcdGZpbHRlcjogWyAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXG5cdFx0cnVuOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuY2xvbmVkJykucmVtb3ZlKCk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0ZmlsdGVyOiBbICd3aWR0aCcsICdpdGVtcycsICdzZXR0aW5ncycgXSxcblx0XHRydW46IGZ1bmN0aW9uKGNhY2hlKSB7XG5cdFx0XHR2YXIgbWFyZ2luID0gdGhpcy5zZXR0aW5ncy5tYXJnaW4gfHwgJycsXG5cdFx0XHRcdGdyaWQgPSAhdGhpcy5zZXR0aW5ncy5hdXRvV2lkdGgsXG5cdFx0XHRcdHJ0bCA9IHRoaXMuc2V0dGluZ3MucnRsLFxuXHRcdFx0XHRjc3MgPSB7XG5cdFx0XHRcdFx0J3dpZHRoJzogJ2F1dG8nLFxuXHRcdFx0XHRcdCdtYXJnaW4tbGVmdCc6IHJ0bCA/IG1hcmdpbiA6ICcnLFxuXHRcdFx0XHRcdCdtYXJnaW4tcmlnaHQnOiBydGwgPyAnJyA6IG1hcmdpblxuXHRcdFx0XHR9O1xuXG5cdFx0XHQhZ3JpZCAmJiB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmNzcyhjc3MpO1xuXG5cdFx0XHRjYWNoZS5jc3MgPSBjc3M7XG5cdFx0fVxuXHR9LCB7XG5cdFx0ZmlsdGVyOiBbICd3aWR0aCcsICdpdGVtcycsICdzZXR0aW5ncycgXSxcblx0XHRydW46IGZ1bmN0aW9uKGNhY2hlKSB7XG5cdFx0XHR2YXIgd2lkdGggPSAodGhpcy53aWR0aCgpIC8gdGhpcy5zZXR0aW5ncy5pdGVtcykudG9GaXhlZCgzKSAtIHRoaXMuc2V0dGluZ3MubWFyZ2luLFxuXHRcdFx0XHRtZXJnZSA9IG51bGwsXG5cdFx0XHRcdGl0ZXJhdG9yID0gdGhpcy5faXRlbXMubGVuZ3RoLFxuXHRcdFx0XHRncmlkID0gIXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLFxuXHRcdFx0XHR3aWR0aHMgPSBbXTtcblxuXHRcdFx0Y2FjaGUuaXRlbXMgPSB7XG5cdFx0XHRcdG1lcmdlOiBmYWxzZSxcblx0XHRcdFx0d2lkdGg6IHdpZHRoXG5cdFx0XHR9O1xuXG5cdFx0XHR3aGlsZSAoaXRlcmF0b3ItLSkge1xuXHRcdFx0XHRtZXJnZSA9IHRoaXMuX21lcmdlcnNbaXRlcmF0b3JdO1xuXHRcdFx0XHRtZXJnZSA9IHRoaXMuc2V0dGluZ3MubWVyZ2VGaXQgJiYgTWF0aC5taW4obWVyZ2UsIHRoaXMuc2V0dGluZ3MuaXRlbXMpIHx8IG1lcmdlO1xuXG5cdFx0XHRcdGNhY2hlLml0ZW1zLm1lcmdlID0gbWVyZ2UgPiAxIHx8IGNhY2hlLml0ZW1zLm1lcmdlO1xuXG5cdFx0XHRcdHdpZHRoc1tpdGVyYXRvcl0gPSAhZ3JpZCA/IHRoaXMuX2l0ZW1zW2l0ZXJhdG9yXS53aWR0aCgpIDogd2lkdGggKiBtZXJnZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fd2lkdGhzID0gd2lkdGhzO1xuXHRcdH1cblx0fSwge1xuXHRcdGZpbHRlcjogWyAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXG5cdFx0cnVuOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjbG9uZXMgPSBbXSxcblx0XHRcdFx0aXRlbXMgPSB0aGlzLl9pdGVtcyxcblx0XHRcdFx0c2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzLFxuXHRcdFx0XHQvLyBUT0RPOiBTaG91bGQgYmUgY29tcHV0ZWQgZnJvbSBudW1iZXIgb2YgbWluIHdpZHRoIGl0ZW1zIGluIHN0YWdlXG5cdFx0XHRcdHZpZXcgPSBNYXRoLm1heChzZXR0aW5ncy5pdGVtcyAqIDIsIDQpLFxuXHRcdFx0XHRzaXplID0gTWF0aC5jZWlsKGl0ZW1zLmxlbmd0aCAvIDIpICogMixcblx0XHRcdFx0cmVwZWF0ID0gc2V0dGluZ3MubG9vcCAmJiBpdGVtcy5sZW5ndGggPyBzZXR0aW5ncy5yZXdpbmQgPyB2aWV3IDogTWF0aC5tYXgodmlldywgc2l6ZSkgOiAwLFxuXHRcdFx0XHRhcHBlbmQgPSAnJyxcblx0XHRcdFx0cHJlcGVuZCA9ICcnO1xuXG5cdFx0XHRyZXBlYXQgLz0gMjtcblxuXHRcdFx0d2hpbGUgKHJlcGVhdC0tKSB7XG5cdFx0XHRcdC8vIFN3aXRjaCB0byBvbmx5IHVzaW5nIGFwcGVuZGVkIGNsb25lc1xuXHRcdFx0XHRjbG9uZXMucHVzaCh0aGlzLm5vcm1hbGl6ZShjbG9uZXMubGVuZ3RoIC8gMiwgdHJ1ZSkpO1xuXHRcdFx0XHQkKGl0ZW1zW2Nsb25lc1tjbG9uZXMubGVuZ3RoIC0gMV1dWzBdKS5jbG9uZSh0cnVlKS5hZGRDbGFzcygnY2xvbmVkJykuYXBwZW5kVG8odGhpcy4kc3RhZ2UpO1xuXHRcdFx0XHRjbG9uZXMucHVzaCh0aGlzLm5vcm1hbGl6ZShpdGVtcy5sZW5ndGggLSAxIC0gKGNsb25lcy5sZW5ndGggLSAxKSAvIDIsIHRydWUpKTtcblx0XHRcdFx0JChpdGVtc1tjbG9uZXNbY2xvbmVzLmxlbmd0aCAtIDFdXVswXSkuY2xvbmUodHJ1ZSkuYWRkQ2xhc3MoJ2Nsb25lZCcpLnByZXBlbmRUbyh0aGlzLiRzdGFnZSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX2Nsb25lcyA9IGNsb25lcztcblxuXHRcdH1cblx0fSwge1xuXHRcdGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXG5cdFx0cnVuOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBydGwgPSB0aGlzLnNldHRpbmdzLnJ0bCA/IDEgOiAtMSxcblx0XHRcdFx0c2l6ZSA9IHRoaXMuX2Nsb25lcy5sZW5ndGggKyB0aGlzLl9pdGVtcy5sZW5ndGgsXG5cdFx0XHRcdGl0ZXJhdG9yID0gLTEsXG5cdFx0XHRcdHByZXZpb3VzID0gMCxcblx0XHRcdFx0Y3VycmVudCA9IDAsXG5cdFx0XHRcdGNvb3JkaW5hdGVzID0gW107XG5cblx0XHRcdHdoaWxlICgrK2l0ZXJhdG9yIDwgc2l6ZSkge1xuXHRcdFx0XHRwcmV2aW91cyA9IGNvb3JkaW5hdGVzW2l0ZXJhdG9yIC0gMV0gfHwgMDtcblx0XHRcdFx0Y3VycmVudCA9IHRoaXMuX3dpZHRoc1t0aGlzLnJlbGF0aXZlKGl0ZXJhdG9yKV0gKyB0aGlzLnNldHRpbmdzLm1hcmdpbjtcblx0XHRcdFx0Y29vcmRpbmF0ZXMucHVzaChwcmV2aW91cyArIGN1cnJlbnQgKiBydGwpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9jb29yZGluYXRlcyA9IGNvb3JkaW5hdGVzO1xuXHRcdH1cblx0fSwge1xuXHRcdGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXG5cdFx0cnVuOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwYWRkaW5nID0gdGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcsXG5cdFx0XHRcdGNvb3JkaW5hdGVzID0gdGhpcy5fY29vcmRpbmF0ZXMsXG5cdFx0XHRcdGNzcyA9IHtcblx0XHRcdFx0XHQnd2lkdGgnOiBNYXRoLmNlaWwoTWF0aC5hYnMoY29vcmRpbmF0ZXNbY29vcmRpbmF0ZXMubGVuZ3RoIC0gMV0pKSArIHBhZGRpbmcgKiAyLFxuXHRcdFx0XHRcdCdwYWRkaW5nLWxlZnQnOiBwYWRkaW5nIHx8ICcnLFxuXHRcdFx0XHRcdCdwYWRkaW5nLXJpZ2h0JzogcGFkZGluZyB8fCAnJ1xuXHRcdFx0XHR9O1xuXG5cdFx0XHR0aGlzLiRzdGFnZS5jc3MoY3NzKTtcblx0XHR9XG5cdH0sIHtcblx0XHRmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxuXHRcdHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcblx0XHRcdHZhciBpdGVyYXRvciA9IHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aCxcblx0XHRcdFx0Z3JpZCA9ICF0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCxcblx0XHRcdFx0aXRlbXMgPSB0aGlzLiRzdGFnZS5jaGlsZHJlbigpO1xuXG5cdFx0XHRpZiAoZ3JpZCAmJiBjYWNoZS5pdGVtcy5tZXJnZSkge1xuXHRcdFx0XHR3aGlsZSAoaXRlcmF0b3ItLSkge1xuXHRcdFx0XHRcdGNhY2hlLmNzcy53aWR0aCA9IHRoaXMuX3dpZHRoc1t0aGlzLnJlbGF0aXZlKGl0ZXJhdG9yKV07XG5cdFx0XHRcdFx0aXRlbXMuZXEoaXRlcmF0b3IpLmNzcyhjYWNoZS5jc3MpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGdyaWQpIHtcblx0XHRcdFx0Y2FjaGUuY3NzLndpZHRoID0gY2FjaGUuaXRlbXMud2lkdGg7XG5cdFx0XHRcdGl0ZW1zLmNzcyhjYWNoZS5jc3MpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwge1xuXHRcdGZpbHRlcjogWyAnaXRlbXMnIF0sXG5cdFx0cnVuOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aCA8IDEgJiYgdGhpcy4kc3RhZ2UucmVtb3ZlQXR0cignc3R5bGUnKTtcblx0XHR9XG5cdH0sIHtcblx0XHRmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxuXHRcdHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcblx0XHRcdGNhY2hlLmN1cnJlbnQgPSBjYWNoZS5jdXJyZW50ID8gdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5pbmRleChjYWNoZS5jdXJyZW50KSA6IDA7XG5cdFx0XHRjYWNoZS5jdXJyZW50ID0gTWF0aC5tYXgodGhpcy5taW5pbXVtKCksIE1hdGgubWluKHRoaXMubWF4aW11bSgpLCBjYWNoZS5jdXJyZW50KSk7XG5cdFx0XHR0aGlzLnJlc2V0KGNhY2hlLmN1cnJlbnQpO1xuXHRcdH1cblx0fSwge1xuXHRcdGZpbHRlcjogWyAncG9zaXRpb24nIF0sXG5cdFx0cnVuOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuYW5pbWF0ZSh0aGlzLmNvb3JkaW5hdGVzKHRoaXMuX2N1cnJlbnQpKTtcblx0XHR9XG5cdH0sIHtcblx0XHRmaWx0ZXI6IFsgJ3dpZHRoJywgJ3Bvc2l0aW9uJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxuXHRcdHJ1bjogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcnRsID0gdGhpcy5zZXR0aW5ncy5ydGwgPyAxIDogLTEsXG5cdFx0XHRcdHBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyAqIDIsXG5cdFx0XHRcdGJlZ2luID0gdGhpcy5jb29yZGluYXRlcyh0aGlzLmN1cnJlbnQoKSkgKyBwYWRkaW5nLFxuXHRcdFx0XHRlbmQgPSBiZWdpbiArIHRoaXMud2lkdGgoKSAqIHJ0bCxcblx0XHRcdFx0aW5uZXIsIG91dGVyLCBtYXRjaGVzID0gW10sIGksIG47XG5cblx0XHRcdGZvciAoaSA9IDAsIG4gPSB0aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0aW5uZXIgPSB0aGlzLl9jb29yZGluYXRlc1tpIC0gMV0gfHwgMDtcblx0XHRcdFx0b3V0ZXIgPSBNYXRoLmFicyh0aGlzLl9jb29yZGluYXRlc1tpXSkgKyBwYWRkaW5nICogcnRsO1xuXG5cdFx0XHRcdGlmICgodGhpcy5vcChpbm5lciwgJzw9JywgYmVnaW4pICYmICh0aGlzLm9wKGlubmVyLCAnPicsIGVuZCkpKVxuXHRcdFx0XHRcdHx8ICh0aGlzLm9wKG91dGVyLCAnPCcsIGJlZ2luKSAmJiB0aGlzLm9wKG91dGVyLCAnPicsIGVuZCkpKSB7XG5cdFx0XHRcdFx0bWF0Y2hlcy5wdXNoKGkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0dGhpcy4kc3RhZ2UuY2hpbGRyZW4oJzplcSgnICsgbWF0Y2hlcy5qb2luKCcpLCA6ZXEoJykgKyAnKScpLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuY2VudGVyKSB7XG5cdFx0XHRcdHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuY2VudGVyJykucmVtb3ZlQ2xhc3MoJ2NlbnRlcicpO1xuXHRcdFx0XHR0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmVxKHRoaXMuY3VycmVudCgpKS5hZGRDbGFzcygnY2VudGVyJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IF07XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBjYXJvdXNlbC5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5lbnRlcignaW5pdGlhbGl6aW5nJyk7XG5cdFx0dGhpcy50cmlnZ2VyKCdpbml0aWFsaXplJyk7XG5cblx0XHR0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKHRoaXMuc2V0dGluZ3MucnRsQ2xhc3MsIHRoaXMuc2V0dGluZ3MucnRsKTtcblxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCAmJiAhdGhpcy5pcygncHJlLWxvYWRpbmcnKSkge1xuXHRcdFx0dmFyIGltZ3MsIG5lc3RlZFNlbGVjdG9yLCB3aWR0aDtcblx0XHRcdGltZ3MgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2ltZycpO1xuXHRcdFx0bmVzdGVkU2VsZWN0b3IgPSB0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvciA/ICcuJyArIHRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yIDogdW5kZWZpbmVkO1xuXHRcdFx0d2lkdGggPSB0aGlzLiRlbGVtZW50LmNoaWxkcmVuKG5lc3RlZFNlbGVjdG9yKS53aWR0aCgpO1xuXG5cdFx0XHRpZiAoaW1ncy5sZW5ndGggJiYgd2lkdGggPD0gMCkge1xuXHRcdFx0XHR0aGlzLnByZWxvYWRBdXRvV2lkdGhJbWFnZXMoaW1ncyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGluZ0NsYXNzKTtcblxuXHRcdC8vIGNyZWF0ZSBzdGFnZVxuXHRcdHRoaXMuJHN0YWdlID0gJCgnPCcgKyB0aGlzLnNldHRpbmdzLnN0YWdlRWxlbWVudCArICcgY2xhc3M9XCInICsgdGhpcy5zZXR0aW5ncy5zdGFnZUNsYXNzICsgJ1wiLz4nKVxuXHRcdFx0LndyYXAoJzxkaXYgY2xhc3M9XCInICsgdGhpcy5zZXR0aW5ncy5zdGFnZU91dGVyQ2xhc3MgKyAnXCIvPicpO1xuXG5cdFx0Ly8gYXBwZW5kIHN0YWdlXG5cdFx0dGhpcy4kZWxlbWVudC5hcHBlbmQodGhpcy4kc3RhZ2UucGFyZW50KCkpO1xuXG5cdFx0Ly8gYXBwZW5kIGNvbnRlbnRcblx0XHR0aGlzLnJlcGxhY2UodGhpcy4kZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLiRzdGFnZS5wYXJlbnQoKSkpO1xuXG5cdFx0Ly8gY2hlY2sgdmlzaWJpbGl0eVxuXHRcdGlmICh0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSB7XG5cdFx0XHQvLyB1cGRhdGUgdmlld1xuXHRcdFx0dGhpcy5yZWZyZXNoKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGludmFsaWRhdGUgd2lkdGhcblx0XHRcdHRoaXMuaW52YWxpZGF0ZSgnd2lkdGgnKTtcblx0XHR9XG5cblx0XHR0aGlzLiRlbGVtZW50XG5cdFx0XHQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRpbmdDbGFzcylcblx0XHRcdC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGVkQ2xhc3MpO1xuXG5cdFx0Ly8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnNcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnRIYW5kbGVycygpO1xuXG5cdFx0dGhpcy5sZWF2ZSgnaW5pdGlhbGl6aW5nJyk7XG5cdFx0dGhpcy50cmlnZ2VyKCdpbml0aWFsaXplZCcpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXR1cHMgdGhlIGN1cnJlbnQgc2V0dGluZ3MuXG5cdCAqIEB0b2RvIFJlbW92ZSByZXNwb25zaXZlIGNsYXNzZXMuIFdoeSBzaG91bGQgYWRhcHRpdmUgZGVzaWducyBiZSBicm91Z2h0IGludG8gSUU4P1xuXHQgKiBAdG9kbyBTdXBwb3J0IGZvciBtZWRpYSBxdWVyaWVzIGJ5IHVzaW5nIGBtYXRjaE1lZGlhYCB3b3VsZCBiZSBuaWNlLlxuXHQgKiBAcHVibGljXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHZpZXdwb3J0ID0gdGhpcy52aWV3cG9ydCgpLFxuXHRcdFx0b3ZlcndyaXRlcyA9IHRoaXMub3B0aW9ucy5yZXNwb25zaXZlLFxuXHRcdFx0bWF0Y2ggPSAtMSxcblx0XHRcdHNldHRpbmdzID0gbnVsbDtcblxuXHRcdGlmICghb3ZlcndyaXRlcykge1xuXHRcdFx0c2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JC5lYWNoKG92ZXJ3cml0ZXMsIGZ1bmN0aW9uKGJyZWFrcG9pbnQpIHtcblx0XHRcdFx0aWYgKGJyZWFrcG9pbnQgPD0gdmlld3BvcnQgJiYgYnJlYWtwb2ludCA+IG1hdGNoKSB7XG5cdFx0XHRcdFx0bWF0Y2ggPSBOdW1iZXIoYnJlYWtwb2ludCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG92ZXJ3cml0ZXNbbWF0Y2hdKTtcblx0XHRcdGlmICh0eXBlb2Ygc2V0dGluZ3Muc3RhZ2VQYWRkaW5nID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHNldHRpbmdzLnN0YWdlUGFkZGluZyA9IHNldHRpbmdzLnN0YWdlUGFkZGluZygpO1xuXHRcdFx0fVxuXHRcdFx0ZGVsZXRlIHNldHRpbmdzLnJlc3BvbnNpdmU7XG5cblx0XHRcdC8vIHJlc3BvbnNpdmUgY2xhc3Ncblx0XHRcdGlmIChzZXR0aW5ncy5yZXNwb25zaXZlQ2xhc3MpIHtcblx0XHRcdFx0dGhpcy4kZWxlbWVudC5hdHRyKCdjbGFzcycsXG5cdFx0XHRcdFx0dGhpcy4kZWxlbWVudC5hdHRyKCdjbGFzcycpLnJlcGxhY2UobmV3IFJlZ0V4cCgnKCcgKyB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUNsYXNzICsgJy0pXFxcXFMrXFxcXHMnLCAnZycpLCAnJDEnICsgbWF0Y2gpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy50cmlnZ2VyKCdjaGFuZ2UnLCB7IHByb3BlcnR5OiB7IG5hbWU6ICdzZXR0aW5ncycsIHZhbHVlOiBzZXR0aW5ncyB9IH0pO1xuXHRcdHRoaXMuX2JyZWFrcG9pbnQgPSBtYXRjaDtcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG5cdFx0dGhpcy5pbnZhbGlkYXRlKCdzZXR0aW5ncycpO1xuXHRcdHRoaXMudHJpZ2dlcignY2hhbmdlZCcsIHsgcHJvcGVydHk6IHsgbmFtZTogJ3NldHRpbmdzJywgdmFsdWU6IHRoaXMuc2V0dGluZ3MgfSB9KTtcblx0fTtcblxuXHQvKipcblx0ICogVXBkYXRlcyBvcHRpb24gbG9naWMgaWYgbmVjZXNzZXJ5LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLm9wdGlvbnNMb2dpYyA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICh0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCkge1xuXHRcdFx0dGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcgPSBmYWxzZTtcblx0XHRcdHRoaXMuc2V0dGluZ3MubWVyZ2UgPSBmYWxzZTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFByZXBhcmVzIGFuIGl0ZW0gYmVmb3JlIGFkZC5cblx0ICogQHRvZG8gUmVuYW1lIGV2ZW50IHBhcmFtZXRlciBgY29udGVudGAgdG8gYGl0ZW1gLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm5zIHtqUXVlcnl8SFRNTEVsZW1lbnR9IC0gVGhlIGl0ZW0gY29udGFpbmVyLlxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5wcmVwYXJlID0gZnVuY3Rpb24oaXRlbSkge1xuXHRcdHZhciBldmVudCA9IHRoaXMudHJpZ2dlcigncHJlcGFyZScsIHsgY29udGVudDogaXRlbSB9KTtcblxuXHRcdGlmICghZXZlbnQuZGF0YSkge1xuXHRcdFx0ZXZlbnQuZGF0YSA9ICQoJzwnICsgdGhpcy5zZXR0aW5ncy5pdGVtRWxlbWVudCArICcvPicpXG5cdFx0XHRcdC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaXRlbUNsYXNzKS5hcHBlbmQoaXRlbSlcblx0XHR9XG5cblx0XHR0aGlzLnRyaWdnZXIoJ3ByZXBhcmVkJywgeyBjb250ZW50OiBldmVudC5kYXRhIH0pO1xuXG5cdFx0cmV0dXJuIGV2ZW50LmRhdGE7XG5cdH07XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIHZpZXcuXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdE93bC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0biA9IHRoaXMuX3BpcGUubGVuZ3RoLFxuXHRcdFx0ZmlsdGVyID0gJC5wcm94eShmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzW3BdIH0sIHRoaXMuX2ludmFsaWRhdGVkKSxcblx0XHRcdGNhY2hlID0ge307XG5cblx0XHR3aGlsZSAoaSA8IG4pIHtcblx0XHRcdGlmICh0aGlzLl9pbnZhbGlkYXRlZC5hbGwgfHwgJC5ncmVwKHRoaXMuX3BpcGVbaV0uZmlsdGVyLCBmaWx0ZXIpLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0dGhpcy5fcGlwZVtpXS5ydW4oY2FjaGUpO1xuXHRcdFx0fVxuXHRcdFx0aSsrO1xuXHRcdH1cblxuXHRcdHRoaXMuX2ludmFsaWRhdGVkID0ge307XG5cblx0XHQhdGhpcy5pcygndmFsaWQnKSAmJiB0aGlzLmVudGVyKCd2YWxpZCcpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSB3aWR0aCBvZiB0aGUgdmlldy5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge093bC5XaWR0aH0gW2RpbWVuc2lvbj1Pd2wuV2lkdGguRGVmYXVsdF0gLSBUaGUgZGltZW5zaW9uIHRvIHJldHVybi5cblx0ICogQHJldHVybnMge051bWJlcn0gLSBUaGUgd2lkdGggb2YgdGhlIHZpZXcgaW4gcGl4ZWwuXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLndpZHRoID0gZnVuY3Rpb24oZGltZW5zaW9uKSB7XG5cdFx0ZGltZW5zaW9uID0gZGltZW5zaW9uIHx8IE93bC5XaWR0aC5EZWZhdWx0O1xuXHRcdHN3aXRjaCAoZGltZW5zaW9uKSB7XG5cdFx0XHRjYXNlIE93bC5XaWR0aC5Jbm5lcjpcblx0XHRcdGNhc2UgT3dsLldpZHRoLk91dGVyOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fd2lkdGg7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fd2lkdGggLSB0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyAqIDIgKyB0aGlzLnNldHRpbmdzLm1hcmdpbjtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlZnJlc2hlcyB0aGUgY2Fyb3VzZWwgcHJpbWFyaWx5IGZvciBhZGFwdGl2ZSBwdXJwb3Nlcy5cblx0ICogQHB1YmxpY1xuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5lbnRlcigncmVmcmVzaGluZycpO1xuXHRcdHRoaXMudHJpZ2dlcigncmVmcmVzaCcpO1xuXG5cdFx0dGhpcy5zZXR1cCgpO1xuXG5cdFx0dGhpcy5vcHRpb25zTG9naWMoKTtcblxuXHRcdHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnJlZnJlc2hDbGFzcyk7XG5cblx0XHR0aGlzLnVwZGF0ZSgpO1xuXG5cdFx0dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucmVmcmVzaENsYXNzKTtcblxuXHRcdHRoaXMubGVhdmUoJ3JlZnJlc2hpbmcnKTtcblx0XHR0aGlzLnRyaWdnZXIoJ3JlZnJlc2hlZCcpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDaGVja3Mgd2luZG93IGByZXNpemVgIGV2ZW50LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLm9uVGhyb3R0bGVkUmVzaXplID0gZnVuY3Rpb24oKSB7XG5cdFx0d2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVyKTtcblx0XHR0aGlzLnJlc2l6ZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5faGFuZGxlcnMub25SZXNpemUsIHRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZVJlZnJlc2hSYXRlKTtcblx0fTtcblxuXHQvKipcblx0ICogQ2hlY2tzIHdpbmRvdyBgcmVzaXplYCBldmVudC5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICghdGhpcy5faXRlbXMubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3dpZHRoID09PSB0aGlzLiRlbGVtZW50LndpZHRoKCkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR0aGlzLmVudGVyKCdyZXNpemluZycpO1xuXG5cdFx0aWYgKHRoaXMudHJpZ2dlcigncmVzaXplJykuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcblx0XHRcdHRoaXMubGVhdmUoJ3Jlc2l6aW5nJyk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dGhpcy5pbnZhbGlkYXRlKCd3aWR0aCcpO1xuXG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cblx0XHR0aGlzLmxlYXZlKCdyZXNpemluZycpO1xuXHRcdHRoaXMudHJpZ2dlcigncmVzaXplZCcpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZWdpc3RlcnMgZXZlbnQgaGFuZGxlcnMuXG5cdCAqIEB0b2RvIENoZWNrIGBtc1BvaW50ZXJFbmFibGVkYFxuXHQgKiBAdG9kbyAjMjYxXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdE93bC5wcm90b3R5cGUucmVnaXN0ZXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG5cdFx0XHR0aGlzLiRzdGFnZS5vbigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQgKyAnLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uVHJhbnNpdGlvbkVuZCwgdGhpcykpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnJlc3BvbnNpdmUgIT09IGZhbHNlKSB7XG5cdFx0XHR0aGlzLm9uKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZXJzLm9uVGhyb3R0bGVkUmVzaXplKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5zZXR0aW5ncy5tb3VzZURyYWcpIHtcblx0XHRcdHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmRyYWdDbGFzcyk7XG5cdFx0XHR0aGlzLiRzdGFnZS5vbignbW91c2Vkb3duLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ1N0YXJ0LCB0aGlzKSk7XG5cdFx0XHR0aGlzLiRzdGFnZS5vbignZHJhZ3N0YXJ0Lm93bC5jb3JlIHNlbGVjdHN0YXJ0Lm93bC5jb3JlJywgZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZSB9KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5zZXR0aW5ncy50b3VjaERyYWcpe1xuXHRcdFx0dGhpcy4kc3RhZ2Uub24oJ3RvdWNoc3RhcnQub3dsLmNvcmUnLCAkLnByb3h5KHRoaXMub25EcmFnU3RhcnQsIHRoaXMpKTtcblx0XHRcdHRoaXMuJHN0YWdlLm9uKCd0b3VjaGNhbmNlbC5vd2wuY29yZScsICQucHJveHkodGhpcy5vbkRyYWdFbmQsIHRoaXMpKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEhhbmRsZXMgYHRvdWNoc3RhcnRgIGFuZCBgbW91c2Vkb3duYCBldmVudHMuXG5cdCAqIEB0b2RvIEhvcml6b250YWwgc3dpcGUgdGhyZXNob2xkIGFzIG9wdGlvblxuXHQgKiBAdG9kbyAjMjYxXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5vbkRyYWdTdGFydCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIHN0YWdlID0gbnVsbDtcblxuXHRcdGlmIChldmVudC53aGljaCA9PT0gMykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICgkLnN1cHBvcnQudHJhbnNmb3JtKSB7XG5cdFx0XHRzdGFnZSA9IHRoaXMuJHN0YWdlLmNzcygndHJhbnNmb3JtJykucmVwbGFjZSgvLipcXCh8XFwpfCAvZywgJycpLnNwbGl0KCcsJyk7XG5cdFx0XHRzdGFnZSA9IHtcblx0XHRcdFx0eDogc3RhZ2Vbc3RhZ2UubGVuZ3RoID09PSAxNiA/IDEyIDogNF0sXG5cdFx0XHRcdHk6IHN0YWdlW3N0YWdlLmxlbmd0aCA9PT0gMTYgPyAxMyA6IDVdXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdGFnZSA9IHRoaXMuJHN0YWdlLnBvc2l0aW9uKCk7XG5cdFx0XHRzdGFnZSA9IHtcblx0XHRcdFx0eDogdGhpcy5zZXR0aW5ncy5ydGwgP1xuXHRcdFx0XHRcdHN0YWdlLmxlZnQgKyB0aGlzLiRzdGFnZS53aWR0aCgpIC0gdGhpcy53aWR0aCgpICsgdGhpcy5zZXR0aW5ncy5tYXJnaW4gOlxuXHRcdFx0XHRcdHN0YWdlLmxlZnQsXG5cdFx0XHRcdHk6IHN0YWdlLnRvcFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5pcygnYW5pbWF0aW5nJykpIHtcblx0XHRcdCQuc3VwcG9ydC50cmFuc2Zvcm0gPyB0aGlzLmFuaW1hdGUoc3RhZ2UueCkgOiB0aGlzLiRzdGFnZS5zdG9wKClcblx0XHRcdHRoaXMuaW52YWxpZGF0ZSgncG9zaXRpb24nKTtcblx0XHR9XG5cblx0XHR0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKHRoaXMub3B0aW9ucy5ncmFiQ2xhc3MsIGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nKTtcblxuXHRcdHRoaXMuc3BlZWQoMCk7XG5cblx0XHR0aGlzLl9kcmFnLnRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0XHR0aGlzLl9kcmFnLnRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcblx0XHR0aGlzLl9kcmFnLnN0YWdlLnN0YXJ0ID0gc3RhZ2U7XG5cdFx0dGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50ID0gc3RhZ2U7XG5cdFx0dGhpcy5fZHJhZy5wb2ludGVyID0gdGhpcy5wb2ludGVyKGV2ZW50KTtcblxuXHRcdCQoZG9jdW1lbnQpLm9uKCdtb3VzZXVwLm93bC5jb3JlIHRvdWNoZW5kLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ0VuZCwgdGhpcykpO1xuXG5cdFx0JChkb2N1bWVudCkub25lKCdtb3VzZW1vdmUub3dsLmNvcmUgdG91Y2htb3ZlLm93bC5jb3JlJywgJC5wcm94eShmdW5jdGlvbihldmVudCkge1xuXHRcdFx0dmFyIGRlbHRhID0gdGhpcy5kaWZmZXJlbmNlKHRoaXMuX2RyYWcucG9pbnRlciwgdGhpcy5wb2ludGVyKGV2ZW50KSk7XG5cblx0XHRcdCQoZG9jdW1lbnQpLm9uKCdtb3VzZW1vdmUub3dsLmNvcmUgdG91Y2htb3ZlLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ01vdmUsIHRoaXMpKTtcblxuXHRcdFx0aWYgKE1hdGguYWJzKGRlbHRhLngpIDwgTWF0aC5hYnMoZGVsdGEueSkgJiYgdGhpcy5pcygndmFsaWQnKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHRoaXMuZW50ZXIoJ2RyYWdnaW5nJyk7XG5cdFx0XHR0aGlzLnRyaWdnZXIoJ2RyYWcnKTtcblx0XHR9LCB0aGlzKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEhhbmRsZXMgdGhlIGB0b3VjaG1vdmVgIGFuZCBgbW91c2Vtb3ZlYCBldmVudHMuXG5cdCAqIEB0b2RvICMyNjFcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBldmVudCBhcmd1bWVudHMuXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLm9uRHJhZ01vdmUgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciBtaW5pbXVtID0gbnVsbCxcblx0XHRcdG1heGltdW0gPSBudWxsLFxuXHRcdFx0cHVsbCA9IG51bGwsXG5cdFx0XHRkZWx0YSA9IHRoaXMuZGlmZmVyZW5jZSh0aGlzLl9kcmFnLnBvaW50ZXIsIHRoaXMucG9pbnRlcihldmVudCkpLFxuXHRcdFx0c3RhZ2UgPSB0aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5zdGFnZS5zdGFydCwgZGVsdGEpO1xuXG5cdFx0aWYgKCF0aGlzLmlzKCdkcmFnZ2luZycpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmxvb3ApIHtcblx0XHRcdG1pbmltdW0gPSB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWluaW11bSgpKTtcblx0XHRcdG1heGltdW0gPSB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWF4aW11bSgpICsgMSkgLSBtaW5pbXVtO1xuXHRcdFx0c3RhZ2UueCA9ICgoKHN0YWdlLnggLSBtaW5pbXVtKSAlIG1heGltdW0gKyBtYXhpbXVtKSAlIG1heGltdW0pICsgbWluaW11bTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWluaW11bSA9IHRoaXMuc2V0dGluZ3MucnRsID8gdGhpcy5jb29yZGluYXRlcyh0aGlzLm1heGltdW0oKSkgOiB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWluaW11bSgpKTtcblx0XHRcdG1heGltdW0gPSB0aGlzLnNldHRpbmdzLnJ0bCA/IHRoaXMuY29vcmRpbmF0ZXModGhpcy5taW5pbXVtKCkpIDogdGhpcy5jb29yZGluYXRlcyh0aGlzLm1heGltdW0oKSk7XG5cdFx0XHRwdWxsID0gdGhpcy5zZXR0aW5ncy5wdWxsRHJhZyA/IC0xICogZGVsdGEueCAvIDUgOiAwO1xuXHRcdFx0c3RhZ2UueCA9IE1hdGgubWF4KE1hdGgubWluKHN0YWdlLngsIG1pbmltdW0gKyBwdWxsKSwgbWF4aW11bSArIHB1bGwpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2RyYWcuc3RhZ2UuY3VycmVudCA9IHN0YWdlO1xuXG5cdFx0dGhpcy5hbmltYXRlKHN0YWdlLngpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBIYW5kbGVzIHRoZSBgdG91Y2hlbmRgIGFuZCBgbW91c2V1cGAgZXZlbnRzLlxuXHQgKiBAdG9kbyAjMjYxXG5cdCAqIEB0b2RvIFRocmVzaG9sZCBmb3IgY2xpY2sgZXZlbnRcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBldmVudCBhcmd1bWVudHMuXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLm9uRHJhZ0VuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIGRlbHRhID0gdGhpcy5kaWZmZXJlbmNlKHRoaXMuX2RyYWcucG9pbnRlciwgdGhpcy5wb2ludGVyKGV2ZW50KSksXG5cdFx0XHRzdGFnZSA9IHRoaXMuX2RyYWcuc3RhZ2UuY3VycmVudCxcblx0XHRcdGRpcmVjdGlvbiA9IGRlbHRhLnggPiAwIF4gdGhpcy5zZXR0aW5ncy5ydGwgPyAnbGVmdCcgOiAncmlnaHQnO1xuXG5cdFx0JChkb2N1bWVudCkub2ZmKCcub3dsLmNvcmUnKTtcblxuXHRcdHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmdyYWJDbGFzcyk7XG5cblx0XHRpZiAoZGVsdGEueCAhPT0gMCAmJiB0aGlzLmlzKCdkcmFnZ2luZycpIHx8ICF0aGlzLmlzKCd2YWxpZCcpKSB7XG5cdFx0XHR0aGlzLnNwZWVkKHRoaXMuc2V0dGluZ3MuZHJhZ0VuZFNwZWVkIHx8IHRoaXMuc2V0dGluZ3Muc21hcnRTcGVlZCk7XG5cdFx0XHR0aGlzLmN1cnJlbnQodGhpcy5jbG9zZXN0KHN0YWdlLngsIGRlbHRhLnggIT09IDAgPyBkaXJlY3Rpb24gOiB0aGlzLl9kcmFnLmRpcmVjdGlvbikpO1xuXHRcdFx0dGhpcy5pbnZhbGlkYXRlKCdwb3NpdGlvbicpO1xuXHRcdFx0dGhpcy51cGRhdGUoKTtcblxuXHRcdFx0dGhpcy5fZHJhZy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cblx0XHRcdGlmIChNYXRoLmFicyhkZWx0YS54KSA+IDMgfHwgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLl9kcmFnLnRpbWUgPiAzMDApIHtcblx0XHRcdFx0dGhpcy5fZHJhZy50YXJnZXQub25lKCdjbGljay5vd2wuY29yZScsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICghdGhpcy5pcygnZHJhZ2dpbmcnKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMubGVhdmUoJ2RyYWdnaW5nJyk7XG5cdFx0dGhpcy50cmlnZ2VyKCdkcmFnZ2VkJyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEdldHMgYWJzb2x1dGUgcG9zaXRpb24gb2YgdGhlIGNsb3Nlc3QgaXRlbSBmb3IgYSBjb29yZGluYXRlLlxuXHQgKiBAdG9kbyBTZXR0aW5nIGBmcmVlRHJhZ2AgbWFrZXMgYGNsb3Nlc3RgIG5vdCByZXVzYWJsZS4gU2VlICMxNjUuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvb3JkaW5hdGUgLSBUaGUgY29vcmRpbmF0ZSBpbiBwaXhlbC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvbiAtIFRoZSBkaXJlY3Rpb24gdG8gY2hlY2sgZm9yIHRoZSBjbG9zZXN0IGl0ZW0uIEV0aGVyIGBsZWZ0YCBvciBgcmlnaHRgLlxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjbG9zZXN0IGl0ZW0uXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLmNsb3Nlc3QgPSBmdW5jdGlvbihjb29yZGluYXRlLCBkaXJlY3Rpb24pIHtcblx0XHR2YXIgcG9zaXRpb24gPSAtMSxcblx0XHRcdHB1bGwgPSAzMCxcblx0XHRcdHdpZHRoID0gdGhpcy53aWR0aCgpLFxuXHRcdFx0Y29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzKCk7XG5cblx0XHRpZiAoIXRoaXMuc2V0dGluZ3MuZnJlZURyYWcpIHtcblx0XHRcdC8vIGNoZWNrIGNsb3Nlc3QgaXRlbVxuXHRcdFx0JC5lYWNoKGNvb3JkaW5hdGVzLCAkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuXHRcdFx0XHQvLyBvbiBhIGxlZnQgcHVsbCwgY2hlY2sgb24gY3VycmVudCBpbmRleFxuXHRcdFx0XHRpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcgJiYgY29vcmRpbmF0ZSA+IHZhbHVlIC0gcHVsbCAmJiBjb29yZGluYXRlIDwgdmFsdWUgKyBwdWxsKSB7XG5cdFx0XHRcdFx0cG9zaXRpb24gPSBpbmRleDtcblx0XHRcdFx0Ly8gb24gYSByaWdodCBwdWxsLCBjaGVjayBvbiBwcmV2aW91cyBpbmRleFxuXHRcdFx0XHQvLyB0byBkbyBzbywgc3VidHJhY3Qgd2lkdGggZnJvbSB2YWx1ZSBhbmQgc2V0IHBvc2l0aW9uID0gaW5kZXggKyAxXG5cdFx0XHRcdH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncmlnaHQnICYmIGNvb3JkaW5hdGUgPiB2YWx1ZSAtIHdpZHRoIC0gcHVsbCAmJiBjb29yZGluYXRlIDwgdmFsdWUgLSB3aWR0aCArIHB1bGwpIHtcblx0XHRcdFx0XHRwb3NpdGlvbiA9IGluZGV4ICsgMTtcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLm9wKGNvb3JkaW5hdGUsICc8JywgdmFsdWUpXG5cdFx0XHRcdFx0JiYgdGhpcy5vcChjb29yZGluYXRlLCAnPicsIGNvb3JkaW5hdGVzW2luZGV4ICsgMV0gfHwgdmFsdWUgLSB3aWR0aCkpIHtcblx0XHRcdFx0XHRwb3NpdGlvbiA9IGRpcmVjdGlvbiA9PT0gJ2xlZnQnID8gaW5kZXggKyAxIDogaW5kZXg7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHBvc2l0aW9uID09PSAtMTtcblx0XHRcdH0sIHRoaXMpKTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuc2V0dGluZ3MubG9vcCkge1xuXHRcdFx0Ly8gbm9uIGxvb3AgYm91bmRyaWVzXG5cdFx0XHRpZiAodGhpcy5vcChjb29yZGluYXRlLCAnPicsIGNvb3JkaW5hdGVzW3RoaXMubWluaW11bSgpXSkpIHtcblx0XHRcdFx0cG9zaXRpb24gPSBjb29yZGluYXRlID0gdGhpcy5taW5pbXVtKCk7XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMub3AoY29vcmRpbmF0ZSwgJzwnLCBjb29yZGluYXRlc1t0aGlzLm1heGltdW0oKV0pKSB7XG5cdFx0XHRcdHBvc2l0aW9uID0gY29vcmRpbmF0ZSA9IHRoaXMubWF4aW11bSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBwb3NpdGlvbjtcblx0fTtcblxuXHQvKipcblx0ICogQW5pbWF0ZXMgdGhlIHN0YWdlLlxuXHQgKiBAdG9kbyAjMjcwXG5cdCAqIEBwdWJsaWNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvb3JkaW5hdGUgLSBUaGUgY29vcmRpbmF0ZSBpbiBwaXhlbHMuXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbihjb29yZGluYXRlKSB7XG5cdFx0dmFyIGFuaW1hdGUgPSB0aGlzLnNwZWVkKCkgPiAwO1xuXG5cdFx0dGhpcy5pcygnYW5pbWF0aW5nJykgJiYgdGhpcy5vblRyYW5zaXRpb25FbmQoKTtcblxuXHRcdGlmIChhbmltYXRlKSB7XG5cdFx0XHR0aGlzLmVudGVyKCdhbmltYXRpbmcnKTtcblx0XHRcdHRoaXMudHJpZ2dlcigndHJhbnNsYXRlJyk7XG5cdFx0fVxuXG5cdFx0aWYgKCQuc3VwcG9ydC50cmFuc2Zvcm0zZCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbikge1xuXHRcdFx0dGhpcy4kc3RhZ2UuY3NzKHtcblx0XHRcdFx0dHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoJyArIGNvb3JkaW5hdGUgKyAncHgsMHB4LDBweCknLFxuXHRcdFx0XHR0cmFuc2l0aW9uOiAodGhpcy5zcGVlZCgpIC8gMTAwMCkgKyAncydcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAoYW5pbWF0ZSkge1xuXHRcdFx0dGhpcy4kc3RhZ2UuYW5pbWF0ZSh7XG5cdFx0XHRcdGxlZnQ6IGNvb3JkaW5hdGUgKyAncHgnXG5cdFx0XHR9LCB0aGlzLnNwZWVkKCksIHRoaXMuc2V0dGluZ3MuZmFsbGJhY2tFYXNpbmcsICQucHJveHkodGhpcy5vblRyYW5zaXRpb25FbmQsIHRoaXMpKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy4kc3RhZ2UuY3NzKHtcblx0XHRcdFx0bGVmdDogY29vcmRpbmF0ZSArICdweCdcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQ2hlY2tzIHdoZXRoZXIgdGhlIGNhcm91c2VsIGlzIGluIGEgc3BlY2lmaWMgc3RhdGUgb3Igbm90LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RhdGUgLSBUaGUgc3RhdGUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufSAtIFRoZSBmbGFnIHdoaWNoIGluZGljYXRlcyBpZiB0aGUgY2Fyb3VzZWwgaXMgYnVzeS5cblx0ICovXG5cdE93bC5wcm90b3R5cGUuaXMgPSBmdW5jdGlvbihzdGF0ZSkge1xuXHRcdHJldHVybiB0aGlzLl9zdGF0ZXMuY3VycmVudFtzdGF0ZV0gJiYgdGhpcy5fc3RhdGVzLmN1cnJlbnRbc3RhdGVdID4gMDtcblx0fTtcblxuXHQvKipcblx0ICogU2V0cyB0aGUgYWJzb2x1dGUgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbS5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uXSAtIFRoZSBuZXcgYWJzb2x1dGUgcG9zaXRpb24gb3Igbm90aGluZyB0byBsZWF2ZSBpdCB1bmNoYW5nZWQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0uXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLmN1cnJlbnQgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuXHRcdGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fY3VycmVudDtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5faXRlbXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHBvc2l0aW9uID0gdGhpcy5ub3JtYWxpemUocG9zaXRpb24pO1xuXG5cdFx0aWYgKHRoaXMuX2N1cnJlbnQgIT09IHBvc2l0aW9uKSB7XG5cdFx0XHR2YXIgZXZlbnQgPSB0aGlzLnRyaWdnZXIoJ2NoYW5nZScsIHsgcHJvcGVydHk6IHsgbmFtZTogJ3Bvc2l0aW9uJywgdmFsdWU6IHBvc2l0aW9uIH0gfSk7XG5cblx0XHRcdGlmIChldmVudC5kYXRhICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZShldmVudC5kYXRhKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fY3VycmVudCA9IHBvc2l0aW9uO1xuXG5cdFx0XHR0aGlzLmludmFsaWRhdGUoJ3Bvc2l0aW9uJyk7XG5cblx0XHRcdHRoaXMudHJpZ2dlcignY2hhbmdlZCcsIHsgcHJvcGVydHk6IHsgbmFtZTogJ3Bvc2l0aW9uJywgdmFsdWU6IHRoaXMuX2N1cnJlbnQgfSB9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5fY3VycmVudDtcblx0fTtcblxuXHQvKipcblx0ICogSW52YWxpZGF0ZXMgdGhlIGdpdmVuIHBhcnQgb2YgdGhlIHVwZGF0ZSByb3V0aW5lLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW3BhcnRdIC0gVGhlIHBhcnQgdG8gaW52YWxpZGF0ZS5cblx0ICogQHJldHVybnMge0FycmF5LjxTdHJpbmc+fSAtIFRoZSBpbnZhbGlkYXRlZCBwYXJ0cy5cblx0ICovXG5cdE93bC5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uKHBhcnQpIHtcblx0XHRpZiAoJC50eXBlKHBhcnQpID09PSAnc3RyaW5nJykge1xuXHRcdFx0dGhpcy5faW52YWxpZGF0ZWRbcGFydF0gPSB0cnVlO1xuXHRcdFx0dGhpcy5pcygndmFsaWQnKSAmJiB0aGlzLmxlYXZlKCd2YWxpZCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gJC5tYXAodGhpcy5faW52YWxpZGF0ZWQsIGZ1bmN0aW9uKHYsIGkpIHsgcmV0dXJuIGkgfSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlc2V0cyB0aGUgYWJzb2x1dGUgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbS5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gLSBUaGUgYWJzb2x1dGUgcG9zaXRpb24gb2YgdGhlIG5ldyBpdGVtLlxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG5cdFx0cG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbik7XG5cblx0XHRpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3NwZWVkID0gMDtcblx0XHR0aGlzLl9jdXJyZW50ID0gcG9zaXRpb247XG5cblx0XHR0aGlzLnN1cHByZXNzKFsgJ3RyYW5zbGF0ZScsICd0cmFuc2xhdGVkJyBdKTtcblxuXHRcdHRoaXMuYW5pbWF0ZSh0aGlzLmNvb3JkaW5hdGVzKHBvc2l0aW9uKSk7XG5cblx0XHR0aGlzLnJlbGVhc2UoWyAndHJhbnNsYXRlJywgJ3RyYW5zbGF0ZWQnIF0pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBOb3JtYWxpemVzIGFuIGFic29sdXRlIG9yIGEgcmVsYXRpdmUgcG9zaXRpb24gb2YgYW4gaXRlbS5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gLSBUaGUgYWJzb2x1dGUgb3IgcmVsYXRpdmUgcG9zaXRpb24gdG8gbm9ybWFsaXplLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZWxhdGl2ZT1mYWxzZV0gLSBXaGV0aGVyIHRoZSBnaXZlbiBwb3NpdGlvbiBpcyByZWxhdGl2ZSBvciBub3QuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIG5vcm1hbGl6ZWQgcG9zaXRpb24uXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHBvc2l0aW9uLCByZWxhdGl2ZSkge1xuXHRcdHZhciBuID0gdGhpcy5faXRlbXMubGVuZ3RoLFxuXHRcdFx0bSA9IHJlbGF0aXZlID8gMCA6IHRoaXMuX2Nsb25lcy5sZW5ndGg7XG5cblx0XHRpZiAoIXRoaXMuaXNOdW1lcmljKHBvc2l0aW9uKSB8fCBuIDwgMSkge1xuXHRcdFx0cG9zaXRpb24gPSB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIGlmIChwb3NpdGlvbiA8IDAgfHwgcG9zaXRpb24gPj0gbiArIG0pIHtcblx0XHRcdHBvc2l0aW9uID0gKChwb3NpdGlvbiAtIG0gLyAyKSAlIG4gKyBuKSAlIG4gKyBtIC8gMjtcblx0XHR9XG5cblx0XHRyZXR1cm4gcG9zaXRpb247XG5cdH07XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGFuIGFic29sdXRlIHBvc2l0aW9uIG9mIGFuIGl0ZW0gaW50byBhIHJlbGF0aXZlIG9uZS5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gLSBUaGUgYWJzb2x1dGUgcG9zaXRpb24gdG8gY29udmVydC5cblx0ICogQHJldHVybnMge051bWJlcn0gLSBUaGUgY29udmVydGVkIHBvc2l0aW9uLlxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5yZWxhdGl2ZSA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG5cdFx0cG9zaXRpb24gLT0gdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDI7XG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcblx0fTtcblxuXHQvKipcblx0ICogR2V0cyB0aGUgbWF4aW11bSBwb3NpdGlvbiBmb3IgdGhlIGN1cnJlbnQgaXRlbS5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZWxhdGl2ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHJldHVybiBhbiBhYnNvbHV0ZSBwb3NpdGlvbiBvciBhIHJlbGF0aXZlIHBvc2l0aW9uLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfVxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5tYXhpbXVtID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcblx0XHR2YXIgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzLFxuXHRcdFx0bWF4aW11bSA9IHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aCxcblx0XHRcdGl0ZXJhdG9yLFxuXHRcdFx0cmVjaXByb2NhbEl0ZW1zV2lkdGgsXG5cdFx0XHRlbGVtZW50V2lkdGg7XG5cblx0XHRpZiAoc2V0dGluZ3MubG9vcCkge1xuXHRcdFx0bWF4aW11bSA9IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyICsgdGhpcy5faXRlbXMubGVuZ3RoIC0gMTtcblx0XHR9IGVsc2UgaWYgKHNldHRpbmdzLmF1dG9XaWR0aCB8fCBzZXR0aW5ncy5tZXJnZSkge1xuXHRcdFx0aXRlcmF0b3IgPSB0aGlzLl9pdGVtcy5sZW5ndGg7XG5cdFx0XHRyZWNpcHJvY2FsSXRlbXNXaWR0aCA9IHRoaXMuX2l0ZW1zWy0taXRlcmF0b3JdLndpZHRoKCk7XG5cdFx0XHRlbGVtZW50V2lkdGggPSB0aGlzLiRlbGVtZW50LndpZHRoKCk7XG5cdFx0XHR3aGlsZSAoaXRlcmF0b3ItLSkge1xuXHRcdFx0XHRyZWNpcHJvY2FsSXRlbXNXaWR0aCArPSB0aGlzLl9pdGVtc1tpdGVyYXRvcl0ud2lkdGgoKSArIHRoaXMuc2V0dGluZ3MubWFyZ2luO1xuXHRcdFx0XHRpZiAocmVjaXByb2NhbEl0ZW1zV2lkdGggPiBlbGVtZW50V2lkdGgpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWF4aW11bSA9IGl0ZXJhdG9yICsgMTtcblx0XHR9IGVsc2UgaWYgKHNldHRpbmdzLmNlbnRlcikge1xuXHRcdFx0bWF4aW11bSA9IHRoaXMuX2l0ZW1zLmxlbmd0aCAtIDE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1heGltdW0gPSB0aGlzLl9pdGVtcy5sZW5ndGggLSBzZXR0aW5ncy5pdGVtcztcblx0XHR9XG5cblx0XHRpZiAocmVsYXRpdmUpIHtcblx0XHRcdG1heGltdW0gLT0gdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDI7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIE1hdGgubWF4KG1heGltdW0sIDApO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBtaW5pbXVtIHBvc2l0aW9uIGZvciB0aGUgY3VycmVudCBpdGVtLlxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbGF0aXZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gcmV0dXJuIGFuIGFic29sdXRlIHBvc2l0aW9uIG9yIGEgcmVsYXRpdmUgcG9zaXRpb24uXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9XG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLm1pbmltdW0gPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuXHRcdHJldHVybiByZWxhdGl2ZSA/IDAgOiB0aGlzLl9jbG9uZXMubGVuZ3RoIC8gMjtcblx0fTtcblxuXHQvKipcblx0ICogR2V0cyBhbiBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgcmVsYXRpdmUgcG9zaXRpb24uXG5cdCAqIEBwdWJsaWNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbl0gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXG5cdCAqIEByZXR1cm4ge2pRdWVyeXxBcnJheS48alF1ZXJ5Pn0gLSBUaGUgaXRlbSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gb3IgYWxsIGl0ZW1zIGlmIG5vIHBvc2l0aW9uIHdhcyBnaXZlbi5cblx0ICovXG5cdE93bC5wcm90b3R5cGUuaXRlbXMgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuXHRcdGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5faXRlbXMuc2xpY2UoKTtcblx0XHR9XG5cblx0XHRwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcblx0XHRyZXR1cm4gdGhpcy5faXRlbXNbcG9zaXRpb25dO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXRzIGFuIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCByZWxhdGl2ZSBwb3NpdGlvbi5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uXSAtIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbS5cblx0ICogQHJldHVybiB7alF1ZXJ5fEFycmF5LjxqUXVlcnk+fSAtIFRoZSBpdGVtIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiBvciBhbGwgaXRlbXMgaWYgbm8gcG9zaXRpb24gd2FzIGdpdmVuLlxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5tZXJnZXJzID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcblx0XHRpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX21lcmdlcnMuc2xpY2UoKTtcblx0XHR9XG5cblx0XHRwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcblx0XHRyZXR1cm4gdGhpcy5fbWVyZ2Vyc1twb3NpdGlvbl07XG5cdH07XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIGFic29sdXRlIHBvc2l0aW9ucyBvZiBjbG9uZXMgZm9yIGFuIGl0ZW0uXG5cdCAqIEBwdWJsaWNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbl0gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheS48TnVtYmVyPn0gLSBUaGUgYWJzb2x1dGUgcG9zaXRpb25zIG9mIGNsb25lcyBmb3IgdGhlIGl0ZW0gb3IgYWxsIGlmIG5vIHBvc2l0aW9uIHdhcyBnaXZlbi5cblx0ICovXG5cdE93bC5wcm90b3R5cGUuY2xvbmVzID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcblx0XHR2YXIgb2RkID0gdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDIsXG5cdFx0XHRldmVuID0gb2RkICsgdGhpcy5faXRlbXMubGVuZ3RoLFxuXHRcdFx0bWFwID0gZnVuY3Rpb24oaW5kZXgpIHsgcmV0dXJuIGluZGV4ICUgMiA9PT0gMCA/IGV2ZW4gKyBpbmRleCAvIDIgOiBvZGQgLSAoaW5kZXggKyAxKSAvIDIgfTtcblxuXHRcdGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gJC5tYXAodGhpcy5fY2xvbmVzLCBmdW5jdGlvbih2LCBpKSB7IHJldHVybiBtYXAoaSkgfSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuICQubWFwKHRoaXMuX2Nsb25lcywgZnVuY3Rpb24odiwgaSkgeyByZXR1cm4gdiA9PT0gcG9zaXRpb24gPyBtYXAoaSkgOiBudWxsIH0pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXRzIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBzcGVlZC5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSBhbmltYXRpb24gc3BlZWQgaW4gbWlsbGlzZWNvbmRzIG9yIG5vdGhpbmcgdG8gbGVhdmUgaXQgdW5jaGFuZ2VkLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBjdXJyZW50IGFuaW1hdGlvbiBzcGVlZCBpbiBtaWxsaXNlY29uZHMuXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLnNwZWVkID0gZnVuY3Rpb24oc3BlZWQpIHtcblx0XHRpZiAoc3BlZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhpcy5fc3BlZWQgPSBzcGVlZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5fc3BlZWQ7XG5cdH07XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIGNvb3JkaW5hdGUgb2YgYW4gaXRlbS5cblx0ICogQHRvZG8gVGhlIG5hbWUgb2YgdGhpcyBtZXRob2QgaXMgbWlzc2xlYW5kaW5nLlxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbSB3aXRoaW4gYG1pbmltdW0oKWAgYW5kIGBtYXhpbXVtKClgLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfEFycmF5LjxOdW1iZXI+fSAtIFRoZSBjb29yZGluYXRlIG9mIHRoZSBpdGVtIGluIHBpeGVsIG9yIGFsbCBjb29yZGluYXRlcy5cblx0ICovXG5cdE93bC5wcm90b3R5cGUuY29vcmRpbmF0ZXMgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuXHRcdHZhciBtdWx0aXBsaWVyID0gMSxcblx0XHRcdG5ld1Bvc2l0aW9uID0gcG9zaXRpb24gLSAxLFxuXHRcdFx0Y29vcmRpbmF0ZTtcblxuXHRcdGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gJC5tYXAodGhpcy5fY29vcmRpbmF0ZXMsICQucHJveHkoZnVuY3Rpb24oY29vcmRpbmF0ZSwgaW5kZXgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29vcmRpbmF0ZXMoaW5kZXgpO1xuXHRcdFx0fSwgdGhpcykpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmNlbnRlcikge1xuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MucnRsKSB7XG5cdFx0XHRcdG11bHRpcGxpZXIgPSAtMTtcblx0XHRcdFx0bmV3UG9zaXRpb24gPSBwb3NpdGlvbiArIDE7XG5cdFx0XHR9XG5cblx0XHRcdGNvb3JkaW5hdGUgPSB0aGlzLl9jb29yZGluYXRlc1twb3NpdGlvbl07XG5cdFx0XHRjb29yZGluYXRlICs9ICh0aGlzLndpZHRoKCkgLSBjb29yZGluYXRlICsgKHRoaXMuX2Nvb3JkaW5hdGVzW25ld1Bvc2l0aW9uXSB8fCAwKSkgLyAyICogbXVsdGlwbGllcjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29vcmRpbmF0ZSA9IHRoaXMuX2Nvb3JkaW5hdGVzW25ld1Bvc2l0aW9uXSB8fCAwO1xuXHRcdH1cblxuXHRcdGNvb3JkaW5hdGUgPSBNYXRoLmNlaWwoY29vcmRpbmF0ZSk7XG5cblx0XHRyZXR1cm4gY29vcmRpbmF0ZTtcblx0fTtcblxuXHQvKipcblx0ICogQ2FsY3VsYXRlcyB0aGUgc3BlZWQgZm9yIGEgdHJhbnNsYXRpb24uXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGZyb20gLSBUaGUgYWJzb2x1dGUgcG9zaXRpb24gb2YgdGhlIHN0YXJ0IGl0ZW0uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0byAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgdGFyZ2V0IGl0ZW0uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbZmFjdG9yPXVuZGVmaW5lZF0gLSBUaGUgdGltZSBmYWN0b3IgaW4gbWlsbGlzZWNvbmRzLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zbGF0aW9uLlxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5kdXJhdGlvbiA9IGZ1bmN0aW9uKGZyb20sIHRvLCBmYWN0b3IpIHtcblx0XHRpZiAoZmFjdG9yID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoTWF0aC5hYnModG8gLSBmcm9tKSwgMSksIDYpICogTWF0aC5hYnMoKGZhY3RvciB8fCB0aGlzLnNldHRpbmdzLnNtYXJ0U3BlZWQpKTtcblx0fTtcblxuXHQvKipcblx0ICogU2xpZGVzIHRvIHRoZSBzcGVjaWZpZWQgaXRlbS5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gLSBUaGUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cblx0ICovXG5cdE93bC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbihwb3NpdGlvbiwgc3BlZWQpIHtcblx0XHR2YXIgY3VycmVudCA9IHRoaXMuY3VycmVudCgpLFxuXHRcdFx0cmV2ZXJ0ID0gbnVsbCxcblx0XHRcdGRpc3RhbmNlID0gcG9zaXRpb24gLSB0aGlzLnJlbGF0aXZlKGN1cnJlbnQpLFxuXHRcdFx0ZGlyZWN0aW9uID0gKGRpc3RhbmNlID4gMCkgLSAoZGlzdGFuY2UgPCAwKSxcblx0XHRcdGl0ZW1zID0gdGhpcy5faXRlbXMubGVuZ3RoLFxuXHRcdFx0bWluaW11bSA9IHRoaXMubWluaW11bSgpLFxuXHRcdFx0bWF4aW11bSA9IHRoaXMubWF4aW11bSgpO1xuXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MubG9vcCkge1xuXHRcdFx0aWYgKCF0aGlzLnNldHRpbmdzLnJld2luZCAmJiBNYXRoLmFicyhkaXN0YW5jZSkgPiBpdGVtcyAvIDIpIHtcblx0XHRcdFx0ZGlzdGFuY2UgKz0gZGlyZWN0aW9uICogLTEgKiBpdGVtcztcblx0XHRcdH1cblxuXHRcdFx0cG9zaXRpb24gPSBjdXJyZW50ICsgZGlzdGFuY2U7XG5cdFx0XHRyZXZlcnQgPSAoKHBvc2l0aW9uIC0gbWluaW11bSkgJSBpdGVtcyArIGl0ZW1zKSAlIGl0ZW1zICsgbWluaW11bTtcblxuXHRcdFx0aWYgKHJldmVydCAhPT0gcG9zaXRpb24gJiYgcmV2ZXJ0IC0gZGlzdGFuY2UgPD0gbWF4aW11bSAmJiByZXZlcnQgLSBkaXN0YW5jZSA+IDApIHtcblx0XHRcdFx0Y3VycmVudCA9IHJldmVydCAtIGRpc3RhbmNlO1xuXHRcdFx0XHRwb3NpdGlvbiA9IHJldmVydDtcblx0XHRcdFx0dGhpcy5yZXNldChjdXJyZW50KTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MucmV3aW5kKSB7XG5cdFx0XHRtYXhpbXVtICs9IDE7XG5cdFx0XHRwb3NpdGlvbiA9IChwb3NpdGlvbiAlIG1heGltdW0gKyBtYXhpbXVtKSAlIG1heGltdW07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBvc2l0aW9uID0gTWF0aC5tYXgobWluaW11bSwgTWF0aC5taW4obWF4aW11bSwgcG9zaXRpb24pKTtcblx0XHR9XG5cblx0XHR0aGlzLnNwZWVkKHRoaXMuZHVyYXRpb24oY3VycmVudCwgcG9zaXRpb24sIHNwZWVkKSk7XG5cdFx0dGhpcy5jdXJyZW50KHBvc2l0aW9uKTtcblxuXHRcdGlmICh0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSB7XG5cdFx0XHR0aGlzLnVwZGF0ZSgpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogU2xpZGVzIHRvIHRoZSBuZXh0IGl0ZW0uXG5cdCAqIEBwdWJsaWNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtzcGVlZF0gLSBUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSB0cmFuc2l0aW9uLlxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oc3BlZWQpIHtcblx0XHRzcGVlZCA9IHNwZWVkIHx8IGZhbHNlO1xuXHRcdHRoaXMudG8odGhpcy5yZWxhdGl2ZSh0aGlzLmN1cnJlbnQoKSkgKyAxLCBzcGVlZCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFNsaWRlcyB0byB0aGUgcHJldmlvdXMgaXRlbS5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbihzcGVlZCkge1xuXHRcdHNwZWVkID0gc3BlZWQgfHwgZmFsc2U7XG5cdFx0dGhpcy50byh0aGlzLnJlbGF0aXZlKHRoaXMuY3VycmVudCgpKSAtIDEsIHNwZWVkKTtcblx0fTtcblxuXHQvKipcblx0ICogSGFuZGxlcyB0aGUgZW5kIG9mIGFuIGFuaW1hdGlvbi5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBldmVudCBhcmd1bWVudHMuXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLm9uVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cblx0XHQvLyBpZiBjc3MyIGFuaW1hdGlvbiB0aGVuIGV2ZW50IG9iamVjdCBpcyB1bmRlZmluZWRcblx0XHRpZiAoZXZlbnQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRcdC8vIENhdGNoIG9ubHkgb3dsLXN0YWdlIHRyYW5zaXRpb25FbmQgZXZlbnRcblx0XHRcdGlmICgoZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQgfHwgZXZlbnQub3JpZ2luYWxUYXJnZXQpICE9PSB0aGlzLiRzdGFnZS5nZXQoMCkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMubGVhdmUoJ2FuaW1hdGluZycpO1xuXHRcdHRoaXMudHJpZ2dlcigndHJhbnNsYXRlZCcpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXRzIHZpZXdwb3J0IHdpZHRoLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge051bWJlcn0gLSBUaGUgd2lkdGggaW4gcGl4ZWwuXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLnZpZXdwb3J0ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHdpZHRoO1xuXHRcdGlmICh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUJhc2VFbGVtZW50ICE9PSB3aW5kb3cpIHtcblx0XHRcdHdpZHRoID0gJCh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUJhc2VFbGVtZW50KS53aWR0aCgpO1xuXHRcdH0gZWxzZSBpZiAod2luZG93LmlubmVyV2lkdGgpIHtcblx0XHRcdHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cdFx0fSBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSB7XG5cdFx0XHR3aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKCdDYW4gbm90IGRldGVjdCB2aWV3cG9ydCB3aWR0aC4nKTtcblx0XHR9XG5cdFx0cmV0dXJuIHdpZHRoO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXBsYWNlcyB0aGUgY3VycmVudCBjb250ZW50LlxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8alF1ZXJ5fFN0cmluZ30gY29udGVudCAtIFRoZSBuZXcgY29udGVudC5cblx0ICovXG5cdE93bC5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcblx0XHR0aGlzLiRzdGFnZS5lbXB0eSgpO1xuXHRcdHRoaXMuX2l0ZW1zID0gW107XG5cblx0XHRpZiAoY29udGVudCkge1xuXHRcdFx0Y29udGVudCA9IChjb250ZW50IGluc3RhbmNlb2YgalF1ZXJ5KSA/IGNvbnRlbnQgOiAkKGNvbnRlbnQpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3Rvcikge1xuXHRcdFx0Y29udGVudCA9IGNvbnRlbnQuZmluZCgnLicgKyB0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3Rvcik7XG5cdFx0fVxuXG5cdFx0Y29udGVudC5maWx0ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5ub2RlVHlwZSA9PT0gMTtcblx0XHR9KS5lYWNoKCQucHJveHkoZnVuY3Rpb24oaW5kZXgsIGl0ZW0pIHtcblx0XHRcdGl0ZW0gPSB0aGlzLnByZXBhcmUoaXRlbSk7XG5cdFx0XHR0aGlzLiRzdGFnZS5hcHBlbmQoaXRlbSk7XG5cdFx0XHR0aGlzLl9pdGVtcy5wdXNoKGl0ZW0pO1xuXHRcdFx0dGhpcy5fbWVyZ2Vycy5wdXNoKGl0ZW0uZmluZCgnW2RhdGEtbWVyZ2VdJykuYWRkQmFjaygnW2RhdGEtbWVyZ2VdJykuYXR0cignZGF0YS1tZXJnZScpICogMSB8fCAxKTtcblx0XHR9LCB0aGlzKSk7XG5cblx0XHR0aGlzLnJlc2V0KHRoaXMuaXNOdW1lcmljKHRoaXMuc2V0dGluZ3Muc3RhcnRQb3NpdGlvbikgPyB0aGlzLnNldHRpbmdzLnN0YXJ0UG9zaXRpb24gOiAwKTtcblxuXHRcdHRoaXMuaW52YWxpZGF0ZSgnaXRlbXMnKTtcblx0fTtcblxuXHQvKipcblx0ICogQWRkcyBhbiBpdGVtLlxuXHQgKiBAdG9kbyBVc2UgYGl0ZW1gIGluc3RlYWQgb2YgYGNvbnRlbnRgIGZvciB0aGUgZXZlbnQgYXJndW1lbnRzLlxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8alF1ZXJ5fFN0cmluZ30gY29udGVudCAtIFRoZSBpdGVtIGNvbnRlbnQgdG8gYWRkLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uXSAtIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiBhdCB3aGljaCB0byBpbnNlcnQgdGhlIGl0ZW0gb3RoZXJ3aXNlIHRoZSBpdGVtIHdpbGwgYmUgYWRkZWQgdG8gdGhlIGVuZC5cblx0ICovXG5cdE93bC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oY29udGVudCwgcG9zaXRpb24pIHtcblx0XHR2YXIgY3VycmVudCA9IHRoaXMucmVsYXRpdmUodGhpcy5fY3VycmVudCk7XG5cblx0XHRwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWQgPyB0aGlzLl9pdGVtcy5sZW5ndGggOiB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbiwgdHJ1ZSk7XG5cdFx0Y29udGVudCA9IGNvbnRlbnQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZW50IDogJChjb250ZW50KTtcblxuXHRcdHRoaXMudHJpZ2dlcignYWRkJywgeyBjb250ZW50OiBjb250ZW50LCBwb3NpdGlvbjogcG9zaXRpb24gfSk7XG5cblx0XHRjb250ZW50ID0gdGhpcy5wcmVwYXJlKGNvbnRlbnQpO1xuXG5cdFx0aWYgKHRoaXMuX2l0ZW1zLmxlbmd0aCA9PT0gMCB8fCBwb3NpdGlvbiA9PT0gdGhpcy5faXRlbXMubGVuZ3RoKSB7XG5cdFx0XHR0aGlzLl9pdGVtcy5sZW5ndGggPT09IDAgJiYgdGhpcy4kc3RhZ2UuYXBwZW5kKGNvbnRlbnQpO1xuXHRcdFx0dGhpcy5faXRlbXMubGVuZ3RoICE9PSAwICYmIHRoaXMuX2l0ZW1zW3Bvc2l0aW9uIC0gMV0uYWZ0ZXIoY29udGVudCk7XG5cdFx0XHR0aGlzLl9pdGVtcy5wdXNoKGNvbnRlbnQpO1xuXHRcdFx0dGhpcy5fbWVyZ2Vycy5wdXNoKGNvbnRlbnQuZmluZCgnW2RhdGEtbWVyZ2VdJykuYWRkQmFjaygnW2RhdGEtbWVyZ2VdJykuYXR0cignZGF0YS1tZXJnZScpICogMSB8fCAxKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5faXRlbXNbcG9zaXRpb25dLmJlZm9yZShjb250ZW50KTtcblx0XHRcdHRoaXMuX2l0ZW1zLnNwbGljZShwb3NpdGlvbiwgMCwgY29udGVudCk7XG5cdFx0XHR0aGlzLl9tZXJnZXJzLnNwbGljZShwb3NpdGlvbiwgMCwgY29udGVudC5maW5kKCdbZGF0YS1tZXJnZV0nKS5hZGRCYWNrKCdbZGF0YS1tZXJnZV0nKS5hdHRyKCdkYXRhLW1lcmdlJykgKiAxIHx8IDEpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2l0ZW1zW2N1cnJlbnRdICYmIHRoaXMucmVzZXQodGhpcy5faXRlbXNbY3VycmVudF0uaW5kZXgoKSk7XG5cblx0XHR0aGlzLmludmFsaWRhdGUoJ2l0ZW1zJyk7XG5cblx0XHR0aGlzLnRyaWdnZXIoJ2FkZGVkJywgeyBjb250ZW50OiBjb250ZW50LCBwb3NpdGlvbjogcG9zaXRpb24gfSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgYW4gaXRlbSBieSBpdHMgcG9zaXRpb24uXG5cdCAqIEB0b2RvIFVzZSBgaXRlbWAgaW5zdGVhZCBvZiBgY29udGVudGAgZm9yIHRoZSBldmVudCBhcmd1bWVudHMuXG5cdCAqIEBwdWJsaWNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIHRvIHJlbW92ZS5cblx0ICovXG5cdE93bC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcblx0XHRwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcblxuXHRcdGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy50cmlnZ2VyKCdyZW1vdmUnLCB7IGNvbnRlbnQ6IHRoaXMuX2l0ZW1zW3Bvc2l0aW9uXSwgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xuXG5cdFx0dGhpcy5faXRlbXNbcG9zaXRpb25dLnJlbW92ZSgpO1xuXHRcdHRoaXMuX2l0ZW1zLnNwbGljZShwb3NpdGlvbiwgMSk7XG5cdFx0dGhpcy5fbWVyZ2Vycy5zcGxpY2UocG9zaXRpb24sIDEpO1xuXG5cdFx0dGhpcy5pbnZhbGlkYXRlKCdpdGVtcycpO1xuXG5cdFx0dGhpcy50cmlnZ2VyKCdyZW1vdmVkJywgeyBjb250ZW50OiBudWxsLCBwb3NpdGlvbjogcG9zaXRpb24gfSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFByZWxvYWRzIGltYWdlcyB3aXRoIGF1dG8gd2lkdGguXG5cdCAqIEB0b2RvIFJlcGxhY2UgYnkgYSBtb3JlIGdlbmVyaWMgYXBwcm9hY2hcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5wcmVsb2FkQXV0b1dpZHRoSW1hZ2VzID0gZnVuY3Rpb24oaW1hZ2VzKSB7XG5cdFx0aW1hZ2VzLmVhY2goJC5wcm94eShmdW5jdGlvbihpLCBlbGVtZW50KSB7XG5cdFx0XHR0aGlzLmVudGVyKCdwcmUtbG9hZGluZycpO1xuXHRcdFx0ZWxlbWVudCA9ICQoZWxlbWVudCk7XG5cdFx0XHQkKG5ldyBJbWFnZSgpKS5vbmUoJ2xvYWQnLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0ZWxlbWVudC5hdHRyKCdzcmMnLCBlLnRhcmdldC5zcmMpO1xuXHRcdFx0XHRlbGVtZW50LmNzcygnb3BhY2l0eScsIDEpO1xuXHRcdFx0XHR0aGlzLmxlYXZlKCdwcmUtbG9hZGluZycpO1xuXHRcdFx0XHQhdGhpcy5pcygncHJlLWxvYWRpbmcnKSAmJiAhdGhpcy5pcygnaW5pdGlhbGl6aW5nJykgJiYgdGhpcy5yZWZyZXNoKCk7XG5cdFx0XHR9LCB0aGlzKSkuYXR0cignc3JjJywgZWxlbWVudC5hdHRyKCdzcmMnKSB8fCBlbGVtZW50LmF0dHIoJ2RhdGEtc3JjJykgfHwgZWxlbWVudC5hdHRyKCdkYXRhLXNyYy1yZXRpbmEnKSk7XG5cdFx0fSwgdGhpcykpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZXN0cm95cyB0aGUgY2Fyb3VzZWwuXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdE93bC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0dGhpcy4kZWxlbWVudC5vZmYoJy5vd2wuY29yZScpO1xuXHRcdHRoaXMuJHN0YWdlLm9mZignLm93bC5jb3JlJyk7XG5cdFx0JChkb2N1bWVudCkub2ZmKCcub3dsLmNvcmUnKTtcblxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnJlc3BvbnNpdmUgIT09IGZhbHNlKSB7XG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZXIpO1xuXHRcdFx0dGhpcy5vZmYod2luZG93LCAncmVzaXplJywgdGhpcy5faGFuZGxlcnMub25UaHJvdHRsZWRSZXNpemUpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fcGx1Z2lucykge1xuXHRcdFx0dGhpcy5fcGx1Z2luc1tpXS5kZXN0cm95KCk7XG5cdFx0fVxuXG5cdFx0dGhpcy4kc3RhZ2UuY2hpbGRyZW4oJy5jbG9uZWQnKS5yZW1vdmUoKTtcblxuXHRcdHRoaXMuJHN0YWdlLnVud3JhcCgpO1xuXHRcdHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuY29udGVudHMoKS51bndyYXAoKTtcblx0XHR0aGlzLiRzdGFnZS5jaGlsZHJlbigpLnVud3JhcCgpO1xuXG5cdFx0dGhpcy4kZWxlbWVudFxuXHRcdFx0LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5yZWZyZXNoQ2xhc3MpXG5cdFx0XHQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRpbmdDbGFzcylcblx0XHRcdC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGVkQ2xhc3MpXG5cdFx0XHQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnJ0bENsYXNzKVxuXHRcdFx0LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5kcmFnQ2xhc3MpXG5cdFx0XHQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmdyYWJDbGFzcylcblx0XHRcdC5hdHRyKCdjbGFzcycsIHRoaXMuJGVsZW1lbnQuYXR0cignY2xhc3MnKS5yZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5vcHRpb25zLnJlc3BvbnNpdmVDbGFzcyArICctXFxcXFMrXFxcXHMnLCAnZycpLCAnJykpXG5cdFx0XHQucmVtb3ZlRGF0YSgnb3dsLmNhcm91c2VsJyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIE9wZXJhdG9ycyB0byBjYWxjdWxhdGUgcmlnaHQtdG8tbGVmdCBhbmQgbGVmdC10by1yaWdodC5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2FdIC0gVGhlIGxlZnQgc2lkZSBvcGVyYW5kLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW29dIC0gVGhlIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2JdIC0gVGhlIHJpZ2h0IHNpZGUgb3BlcmFuZC5cblx0ICovXG5cdE93bC5wcm90b3R5cGUub3AgPSBmdW5jdGlvbihhLCBvLCBiKSB7XG5cdFx0dmFyIHJ0bCA9IHRoaXMuc2V0dGluZ3MucnRsO1xuXHRcdHN3aXRjaCAobykge1xuXHRcdFx0Y2FzZSAnPCc6XG5cdFx0XHRcdHJldHVybiBydGwgPyBhID4gYiA6IGEgPCBiO1xuXHRcdFx0Y2FzZSAnPic6XG5cdFx0XHRcdHJldHVybiBydGwgPyBhIDwgYiA6IGEgPiBiO1xuXHRcdFx0Y2FzZSAnPj0nOlxuXHRcdFx0XHRyZXR1cm4gcnRsID8gYSA8PSBiIDogYSA+PSBiO1xuXHRcdFx0Y2FzZSAnPD0nOlxuXHRcdFx0XHRyZXR1cm4gcnRsID8gYSA+PSBiIDogYSA8PSBiO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBBdHRhY2hlcyB0byBhbiBpbnRlcm5hbCBldmVudC5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gVGhlIGV2ZW50IHNvdXJjZS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IC0gVGhlIGV2ZW50IG5hbWUuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIC0gVGhlIGV2ZW50IGhhbmRsZXIgdG8gYXR0YWNoLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmUgLSBXZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkIGF0IHRoZSBjYXB0dXJpbmcgcGhhc2Ugb3Igbm90LlxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBsaXN0ZW5lciwgY2FwdHVyZSkge1xuXHRcdGlmIChlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcblx0XHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuXHRcdH0gZWxzZSBpZiAoZWxlbWVudC5hdHRhY2hFdmVudCkge1xuXHRcdFx0ZWxlbWVudC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIERldGFjaGVzIGZyb20gYW4gaW50ZXJuYWwgZXZlbnQuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBldmVudCBzb3VyY2UuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCAtIFRoZSBldmVudCBuYW1lLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciAtIFRoZSBhdHRhY2hlZCBldmVudCBoYW5kbGVyIHRvIGRldGFjaC5cblx0ICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlIC0gV2V0aGVyIHRoZSBhdHRhY2hlZCBldmVudCBoYW5kbGVyIHdhcyByZWdpc3RlcmVkIGFzIGEgY2FwdHVyaW5nIGxpc3RlbmVyIG9yIG5vdC5cblx0ICovXG5cdE93bC5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XG5cdFx0aWYgKGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuXHRcdFx0ZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgY2FwdHVyZSk7XG5cdFx0fSBlbHNlIGlmIChlbGVtZW50LmRldGFjaEV2ZW50KSB7XG5cdFx0XHRlbGVtZW50LmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogVHJpZ2dlcnMgYSBwdWJsaWMgZXZlbnQuXG5cdCAqIEB0b2RvIFJlbW92ZSBgc3RhdHVzYCwgYHJlbGF0ZWRUYXJnZXRgIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBUaGUgZXZlbnQgbmFtZS5cblx0ICogQHBhcmFtIHsqfSBbZGF0YT1udWxsXSAtIFRoZSBldmVudCBkYXRhLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVzcGFjZT1jYXJvdXNlbF0gLSBUaGUgZXZlbnQgbmFtZXNwYWNlLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW3N0YXRlXSAtIFRoZSBzdGF0ZSB3aGljaCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIGV2ZW50LlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtlbnRlcj1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgdGhlIGNhbGwgZW50ZXJzIHRoZSBzcGVjaWZpZWQgc3RhdGUgb3Igbm90LlxuXHQgKiBAcmV0dXJucyB7RXZlbnR9IC0gVGhlIGV2ZW50IGFyZ3VtZW50cy5cblx0ICovXG5cdE93bC5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uKG5hbWUsIGRhdGEsIG5hbWVzcGFjZSwgc3RhdGUsIGVudGVyKSB7XG5cdFx0dmFyIHN0YXR1cyA9IHtcblx0XHRcdGl0ZW06IHsgY291bnQ6IHRoaXMuX2l0ZW1zLmxlbmd0aCwgaW5kZXg6IHRoaXMuY3VycmVudCgpIH1cblx0XHR9LCBoYW5kbGVyID0gJC5jYW1lbENhc2UoXG5cdFx0XHQkLmdyZXAoWyAnb24nLCBuYW1lLCBuYW1lc3BhY2UgXSwgZnVuY3Rpb24odikgeyByZXR1cm4gdiB9KVxuXHRcdFx0XHQuam9pbignLScpLnRvTG93ZXJDYXNlKClcblx0XHQpLCBldmVudCA9ICQuRXZlbnQoXG5cdFx0XHRbIG5hbWUsICdvd2wnLCBuYW1lc3BhY2UgfHwgJ2Nhcm91c2VsJyBdLmpvaW4oJy4nKS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0JC5leHRlbmQoeyByZWxhdGVkVGFyZ2V0OiB0aGlzIH0sIHN0YXR1cywgZGF0YSlcblx0XHQpO1xuXG5cdFx0aWYgKCF0aGlzLl9zdXByZXNzW25hbWVdKSB7XG5cdFx0XHQkLmVhY2godGhpcy5fcGx1Z2lucywgZnVuY3Rpb24obmFtZSwgcGx1Z2luKSB7XG5cdFx0XHRcdGlmIChwbHVnaW4ub25UcmlnZ2VyKSB7XG5cdFx0XHRcdFx0cGx1Z2luLm9uVHJpZ2dlcihldmVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnJlZ2lzdGVyKHsgdHlwZTogT3dsLlR5cGUuRXZlbnQsIG5hbWU6IG5hbWUgfSk7XG5cdFx0XHR0aGlzLiRlbGVtZW50LnRyaWdnZXIoZXZlbnQpO1xuXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncyAmJiB0eXBlb2YgdGhpcy5zZXR0aW5nc1toYW5kbGVyXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHR0aGlzLnNldHRpbmdzW2hhbmRsZXJdLmNhbGwodGhpcywgZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudDtcblx0fTtcblxuXHQvKipcblx0ICogRW50ZXJzIGEgc3RhdGUuXG5cdCAqIEBwYXJhbSBuYW1lIC0gVGhlIHN0YXRlIG5hbWUuXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24obmFtZSkge1xuXHRcdCQuZWFjaChbIG5hbWUgXS5jb25jYXQodGhpcy5fc3RhdGVzLnRhZ3NbbmFtZV0gfHwgW10pLCAkLnByb3h5KGZ1bmN0aW9uKGksIG5hbWUpIHtcblx0XHRcdGlmICh0aGlzLl9zdGF0ZXMuY3VycmVudFtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRoaXMuX3N0YXRlcy5jdXJyZW50W25hbWVdID0gMDtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fc3RhdGVzLmN1cnJlbnRbbmFtZV0rKztcblx0XHR9LCB0aGlzKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIExlYXZlcyBhIHN0YXRlLlxuXHQgKiBAcGFyYW0gbmFtZSAtIFRoZSBzdGF0ZSBuYW1lLlxuXHQgKi9cblx0T3dsLnByb3RvdHlwZS5sZWF2ZSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHQkLmVhY2goWyBuYW1lIF0uY29uY2F0KHRoaXMuX3N0YXRlcy50YWdzW25hbWVdIHx8IFtdKSwgJC5wcm94eShmdW5jdGlvbihpLCBuYW1lKSB7XG5cdFx0XHR0aGlzLl9zdGF0ZXMuY3VycmVudFtuYW1lXS0tO1xuXHRcdH0sIHRoaXMpKTtcblx0fTtcblxuXHQvKipcblx0ICogUmVnaXN0ZXJzIGFuIGV2ZW50IG9yIHN0YXRlLlxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgLSBUaGUgZXZlbnQgb3Igc3RhdGUgdG8gcmVnaXN0ZXIuXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24ob2JqZWN0KSB7XG5cdFx0aWYgKG9iamVjdC50eXBlID09PSBPd2wuVHlwZS5FdmVudCkge1xuXHRcdFx0aWYgKCEkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdKSB7XG5cdFx0XHRcdCQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0gPSB7fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCEkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdLm93bCkge1xuXHRcdFx0XHR2YXIgX2RlZmF1bHQgPSAkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdLl9kZWZhdWx0O1xuXHRcdFx0XHQkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdLl9kZWZhdWx0ID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGlmIChfZGVmYXVsdCAmJiBfZGVmYXVsdC5hcHBseSAmJiAoIWUubmFtZXNwYWNlIHx8IGUubmFtZXNwYWNlLmluZGV4T2YoJ293bCcpID09PSAtMSkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBfZGVmYXVsdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZS5uYW1lc3BhY2UgJiYgZS5uYW1lc3BhY2UuaW5kZXhPZignb3dsJykgPiAtMTtcblx0XHRcdFx0fTtcblx0XHRcdFx0JC5ldmVudC5zcGVjaWFsW29iamVjdC5uYW1lXS5vd2wgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAob2JqZWN0LnR5cGUgPT09IE93bC5UeXBlLlN0YXRlKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSkge1xuXHRcdFx0XHR0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0gPSBvYmplY3QudGFncztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSA9IHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXS5jb25jYXQob2JqZWN0LnRhZ3MpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0gPSAkLmdyZXAodGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdLCAkLnByb3h5KGZ1bmN0aW9uKHRhZywgaSkge1xuXHRcdFx0XHRyZXR1cm4gJC5pbkFycmF5KHRhZywgdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdKSA9PT0gaTtcblx0XHRcdH0sIHRoaXMpKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFN1cHByZXNzZXMgZXZlbnRzLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IGV2ZW50cyAtIFRoZSBldmVudHMgdG8gc3VwcHJlc3MuXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLnN1cHByZXNzID0gZnVuY3Rpb24oZXZlbnRzKSB7XG5cdFx0JC5lYWNoKGV2ZW50cywgJC5wcm94eShmdW5jdGlvbihpbmRleCwgZXZlbnQpIHtcblx0XHRcdHRoaXMuX3N1cHJlc3NbZXZlbnRdID0gdHJ1ZTtcblx0XHR9LCB0aGlzKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbGVhc2VzIHN1cHByZXNzZWQgZXZlbnRzLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IGV2ZW50cyAtIFRoZSBldmVudHMgdG8gcmVsZWFzZS5cblx0ICovXG5cdE93bC5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uKGV2ZW50cykge1xuXHRcdCQuZWFjaChldmVudHMsICQucHJveHkoZnVuY3Rpb24oaW5kZXgsIGV2ZW50KSB7XG5cdFx0XHRkZWxldGUgdGhpcy5fc3VwcmVzc1tldmVudF07XG5cdFx0fSwgdGhpcykpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXRzIHVuaWZpZWQgcG9pbnRlciBjb29yZGluYXRlcyBmcm9tIGV2ZW50LlxuXHQgKiBAdG9kbyAjMjYxXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtFdmVudH0gLSBUaGUgYG1vdXNlZG93bmAgb3IgYHRvdWNoc3RhcnRgIGV2ZW50LlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSAtIENvbnRhaW5zIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9pbnRlciBwb3NpdGlvbi5cblx0ICovXG5cdE93bC5wcm90b3R5cGUucG9pbnRlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIHJlc3VsdCA9IHsgeDogbnVsbCwgeTogbnVsbCB9O1xuXG5cdFx0ZXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50IHx8IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcblxuXHRcdGV2ZW50ID0gZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA/XG5cdFx0XHRldmVudC50b3VjaGVzWzBdIDogZXZlbnQuY2hhbmdlZFRvdWNoZXMgJiYgZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID9cblx0XHRcdFx0ZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gOiBldmVudDtcblxuXHRcdGlmIChldmVudC5wYWdlWCkge1xuXHRcdFx0cmVzdWx0LnggPSBldmVudC5wYWdlWDtcblx0XHRcdHJlc3VsdC55ID0gZXZlbnQucGFnZVk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdC54ID0gZXZlbnQuY2xpZW50WDtcblx0XHRcdHJlc3VsdC55ID0gZXZlbnQuY2xpZW50WTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBpbnB1dCBpcyBhIE51bWJlciBvciBzb21ldGhpbmcgdGhhdCBjYW4gYmUgY29lcmNlZCB0byBhIE51bWJlclxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ3xPYmplY3R8QXJyYXl8Qm9vbGVhbnxSZWdFeHB8RnVuY3Rpb258U3ltYm9sfSAtIFRoZSBpbnB1dCB0byBiZSB0ZXN0ZWRcblx0ICogQHJldHVybnMge0Jvb2xlYW59IC0gQW4gaW5kaWNhdGlvbiBpZiB0aGUgaW5wdXQgaXMgYSBOdW1iZXIgb3IgY2FuIGJlIGNvZXJjZWQgdG8gYSBOdW1iZXJcblx0ICovXG5cdE93bC5wcm90b3R5cGUuaXNOdW1lcmljID0gZnVuY3Rpb24obnVtYmVyKSB7XG5cdFx0cmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG51bWJlcikpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBkaWZmZXJlbmNlIG9mIHR3byB2ZWN0b3JzLlxuXHQgKiBAdG9kbyAjMjYxXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtPYmplY3R9IC0gVGhlIGZpcnN0IHZlY3Rvci5cblx0ICogQHBhcmFtIHtPYmplY3R9IC0gVGhlIHNlY29uZCB2ZWN0b3IuXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IC0gVGhlIGRpZmZlcmVuY2UuXG5cdCAqL1xuXHRPd2wucHJvdG90eXBlLmRpZmZlcmVuY2UgPSBmdW5jdGlvbihmaXJzdCwgc2Vjb25kKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHg6IGZpcnN0LnggLSBzZWNvbmQueCxcblx0XHRcdHk6IGZpcnN0LnkgLSBzZWNvbmQueVxuXHRcdH07XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBqUXVlcnkgUGx1Z2luIGZvciB0aGUgT3dsIENhcm91c2VsXG5cdCAqIEB0b2RvIE5hdmlnYXRpb24gcGx1Z2luIGBuZXh0YCBhbmQgYHByZXZgXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdCQuZm4ub3dsQ2Fyb3VzZWwgPSBmdW5jdGlvbihvcHRpb24pIHtcblx0XHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcblx0XHRcdFx0ZGF0YSA9ICR0aGlzLmRhdGEoJ293bC5jYXJvdXNlbCcpO1xuXG5cdFx0XHRpZiAoIWRhdGEpIHtcblx0XHRcdFx0ZGF0YSA9IG5ldyBPd2wodGhpcywgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pO1xuXHRcdFx0XHQkdGhpcy5kYXRhKCdvd2wuY2Fyb3VzZWwnLCBkYXRhKTtcblxuXHRcdFx0XHQkLmVhY2goW1xuXHRcdFx0XHRcdCduZXh0JywgJ3ByZXYnLCAndG8nLCAnZGVzdHJveScsICdyZWZyZXNoJywgJ3JlcGxhY2UnLCAnYWRkJywgJ3JlbW92ZSdcblx0XHRcdFx0XSwgZnVuY3Rpb24oaSwgZXZlbnQpIHtcblx0XHRcdFx0XHRkYXRhLnJlZ2lzdGVyKHsgdHlwZTogT3dsLlR5cGUuRXZlbnQsIG5hbWU6IGV2ZW50IH0pO1xuXHRcdFx0XHRcdGRhdGEuJGVsZW1lbnQub24oZXZlbnQgKyAnLm93bC5jYXJvdXNlbC5jb3JlJywgJC5wcm94eShmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRpZiAoZS5uYW1lc3BhY2UgJiYgZS5yZWxhdGVkVGFyZ2V0ICE9PSB0aGlzKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuc3VwcHJlc3MoWyBldmVudCBdKTtcblx0XHRcdFx0XHRcdFx0ZGF0YVtldmVudF0uYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5yZWxlYXNlKFsgZXZlbnQgXSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgZGF0YSkpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycgJiYgb3B0aW9uLmNoYXJBdCgwKSAhPT0gJ18nKSB7XG5cdFx0XHRcdGRhdGFbb3B0aW9uXS5hcHBseShkYXRhLCBhcmdzKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fTtcblxuXHQvKipcblx0ICogVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgalF1ZXJ5IFBsdWdpblxuXHQgKiBAcHVibGljXG5cdCAqL1xuXHQkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yID0gT3dsO1xuXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qKlxuICogQXV0b1JlZnJlc2ggUGx1Z2luXG4gKiBAdmVyc2lvbiAyLjEuMFxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXG4gKiBAYXV0aG9yIFNhdXJhYmggU2hhcm1hXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqL1xuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuXHQvKipcblx0ICogQ3JlYXRlcyB0aGUgYXV0byByZWZyZXNoIHBsdWdpbi5cblx0ICogQGNsYXNzIFRoZSBBdXRvIFJlZnJlc2ggUGx1Z2luXG5cdCAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWxcblx0ICovXG5cdHZhciBBdXRvUmVmcmVzaCA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XG5cdFx0LyoqXG5cdFx0ICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7T3dsfVxuXHRcdCAqL1xuXHRcdHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcblxuXHRcdC8qKlxuXHRcdCAqIFJlZnJlc2ggaW50ZXJ2YWwuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtudW1iZXJ9XG5cdFx0ICovXG5cdFx0dGhpcy5faW50ZXJ2YWwgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogV2hldGhlciB0aGUgZWxlbWVudCBpcyBjdXJyZW50bHkgdmlzaWJsZSBvciBub3QuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqL1xuXHRcdHRoaXMuX3Zpc2libGUgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogQWxsIGV2ZW50IGhhbmRsZXJzLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqL1xuXHRcdHRoaXMuX2hhbmRsZXJzID0ge1xuXHRcdFx0J2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvUmVmcmVzaCkge1xuXHRcdFx0XHRcdHRoaXMud2F0Y2goKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcylcblx0XHR9O1xuXG5cdFx0Ly8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuXHRcdHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBdXRvUmVmcmVzaC5EZWZhdWx0cywgdGhpcy5fY29yZS5vcHRpb25zKTtcblxuXHRcdC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXG5cdFx0dGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIERlZmF1bHQgb3B0aW9ucy5cblx0ICogQHB1YmxpY1xuXHQgKi9cblx0QXV0b1JlZnJlc2guRGVmYXVsdHMgPSB7XG5cdFx0YXV0b1JlZnJlc2g6IHRydWUsXG5cdFx0YXV0b1JlZnJlc2hJbnRlcnZhbDogNTAwXG5cdH07XG5cblx0LyoqXG5cdCAqIFdhdGNoZXMgdGhlIGVsZW1lbnQuXG5cdCAqL1xuXHRBdXRvUmVmcmVzaC5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy5faW50ZXJ2YWwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl92aXNpYmxlID0gdGhpcy5fY29yZS4kZWxlbWVudC5pcygnOnZpc2libGUnKTtcblx0XHR0aGlzLl9pbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMucmVmcmVzaCwgdGhpcyksIHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b1JlZnJlc2hJbnRlcnZhbCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlZnJlc2hlcyB0aGUgZWxlbWVudC5cblx0ICovXG5cdEF1dG9SZWZyZXNoLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKHRoaXMuX2NvcmUuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykgPT09IHRoaXMuX3Zpc2libGUpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl92aXNpYmxlID0gIXRoaXMuX3Zpc2libGU7XG5cblx0XHR0aGlzLl9jb3JlLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCdvd2wtaGlkZGVuJywgIXRoaXMuX3Zpc2libGUpO1xuXG5cdFx0dGhpcy5fdmlzaWJsZSAmJiAodGhpcy5fY29yZS5pbnZhbGlkYXRlKCd3aWR0aCcpICYmIHRoaXMuX2NvcmUucmVmcmVzaCgpKTtcblx0fTtcblxuXHQvKipcblx0ICogRGVzdHJveXMgdGhlIHBsdWdpbi5cblx0ICovXG5cdEF1dG9SZWZyZXNoLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhhbmRsZXIsIHByb3BlcnR5O1xuXG5cdFx0d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpO1xuXG5cdFx0Zm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XG5cdFx0XHR0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLl9oYW5kbGVyc1toYW5kbGVyXSk7XG5cdFx0fVxuXHRcdGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcblx0XHRcdHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xuXHRcdH1cblx0fTtcblxuXHQkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuQXV0b1JlZnJlc2ggPSBBdXRvUmVmcmVzaDtcblxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKipcbiAqIExhenkgUGx1Z2luXG4gKiBAdmVyc2lvbiAyLjEuMFxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcbiAqIEBhdXRob3IgU2F1cmFiaCBTaGFybWFcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICovXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHRoZSBsYXp5IHBsdWdpbi5cblx0ICogQGNsYXNzIFRoZSBMYXp5IFBsdWdpblxuXHQgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsXG5cdCAqL1xuXHR2YXIgTGF6eSA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XG5cblx0XHQvKipcblx0XHQgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtPd2x9XG5cdFx0ICovXG5cdFx0dGhpcy5fY29yZSA9IGNhcm91c2VsO1xuXG5cdFx0LyoqXG5cdFx0ICogQWxyZWFkeSBsb2FkZWQgaXRlbXMuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtBcnJheS48alF1ZXJ5Pn1cblx0XHQgKi9cblx0XHR0aGlzLl9sb2FkZWQgPSBbXTtcblxuXHRcdC8qKlxuXHRcdCAqIEV2ZW50IGhhbmRsZXJzLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqL1xuXHRcdHRoaXMuX2hhbmRsZXJzID0ge1xuXHRcdFx0J2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCBjaGFuZ2Uub3dsLmNhcm91c2VsIHJlc2l6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmICghZS5uYW1lc3BhY2UpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIXRoaXMuX2NvcmUuc2V0dGluZ3MgfHwgIXRoaXMuX2NvcmUuc2V0dGluZ3MubGF6eUxvYWQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoKGUucHJvcGVydHkgJiYgZS5wcm9wZXJ0eS5uYW1lID09ICdwb3NpdGlvbicpIHx8IGUudHlwZSA9PSAnaW5pdGlhbGl6ZWQnKSB7XG5cdFx0XHRcdFx0dmFyIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncyxcblx0XHRcdFx0XHRcdG4gPSAoc2V0dGluZ3MuY2VudGVyICYmIE1hdGguY2VpbChzZXR0aW5ncy5pdGVtcyAvIDIpIHx8IHNldHRpbmdzLml0ZW1zKSxcblx0XHRcdFx0XHRcdGkgPSAoKHNldHRpbmdzLmNlbnRlciAmJiBuICogLTEpIHx8IDApLFxuXHRcdFx0XHRcdFx0cG9zaXRpb24gPSAoZS5wcm9wZXJ0eSAmJiBlLnByb3BlcnR5LnZhbHVlICE9PSB1bmRlZmluZWQgPyBlLnByb3BlcnR5LnZhbHVlIDogdGhpcy5fY29yZS5jdXJyZW50KCkpICsgaSxcblx0XHRcdFx0XHRcdGNsb25lcyA9IHRoaXMuX2NvcmUuY2xvbmVzKCkubGVuZ3RoLFxuXHRcdFx0XHRcdFx0bG9hZCA9ICQucHJveHkoZnVuY3Rpb24oaSwgdikgeyB0aGlzLmxvYWQodikgfSwgdGhpcyk7XG5cblx0XHRcdFx0XHR3aGlsZSAoaSsrIDwgbikge1xuXHRcdFx0XHRcdFx0dGhpcy5sb2FkKGNsb25lcyAvIDIgKyB0aGlzLl9jb3JlLnJlbGF0aXZlKHBvc2l0aW9uKSk7XG5cdFx0XHRcdFx0XHRjbG9uZXMgJiYgJC5lYWNoKHRoaXMuX2NvcmUuY2xvbmVzKHRoaXMuX2NvcmUucmVsYXRpdmUocG9zaXRpb24pKSwgbG9hZCk7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbisrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcylcblx0XHR9O1xuXG5cdFx0Ly8gc2V0IHRoZSBkZWZhdWx0IG9wdGlvbnNcblx0XHR0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTGF6eS5EZWZhdWx0cywgdGhpcy5fY29yZS5vcHRpb25zKTtcblxuXHRcdC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJcblx0XHR0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTtcblx0fTtcblxuXHQvKipcblx0ICogRGVmYXVsdCBvcHRpb25zLlxuXHQgKiBAcHVibGljXG5cdCAqL1xuXHRMYXp5LkRlZmF1bHRzID0ge1xuXHRcdGxhenlMb2FkOiBmYWxzZVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBMb2FkcyBhbGwgcmVzb3VyY2VzIG9mIGFuIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbi5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBpdGVtLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRMYXp5LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcblx0XHR2YXIgJGl0ZW0gPSB0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKHBvc2l0aW9uKSxcblx0XHRcdCRlbGVtZW50cyA9ICRpdGVtICYmICRpdGVtLmZpbmQoJy5vd2wtbGF6eScpO1xuXG5cdFx0aWYgKCEkZWxlbWVudHMgfHwgJC5pbkFycmF5KCRpdGVtLmdldCgwKSwgdGhpcy5fbG9hZGVkKSA+IC0xKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0JGVsZW1lbnRzLmVhY2goJC5wcm94eShmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuXHRcdFx0dmFyICRlbGVtZW50ID0gJChlbGVtZW50KSwgaW1hZ2UsXG5cdFx0XHRcdHVybCA9ICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgJiYgJGVsZW1lbnQuYXR0cignZGF0YS1zcmMtcmV0aW5hJykpIHx8ICRlbGVtZW50LmF0dHIoJ2RhdGEtc3JjJyk7XG5cblx0XHRcdHRoaXMuX2NvcmUudHJpZ2dlcignbG9hZCcsIHsgZWxlbWVudDogJGVsZW1lbnQsIHVybDogdXJsIH0sICdsYXp5Jyk7XG5cblx0XHRcdGlmICgkZWxlbWVudC5pcygnaW1nJykpIHtcblx0XHRcdFx0JGVsZW1lbnQub25lKCdsb2FkLm93bC5sYXp5JywgJC5wcm94eShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkZWxlbWVudC5jc3MoJ29wYWNpdHknLCAxKTtcblx0XHRcdFx0XHR0aGlzLl9jb3JlLnRyaWdnZXIoJ2xvYWRlZCcsIHsgZWxlbWVudDogJGVsZW1lbnQsIHVybDogdXJsIH0sICdsYXp5Jyk7XG5cdFx0XHRcdH0sIHRoaXMpKS5hdHRyKCdzcmMnLCB1cmwpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblx0XHRcdFx0aW1hZ2Uub25sb2FkID0gJC5wcm94eShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkZWxlbWVudC5jc3Moe1xuXHRcdFx0XHRcdFx0J2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKFwiJyArIHVybCArICdcIiknLFxuXHRcdFx0XHRcdFx0J29wYWNpdHknOiAnMSdcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR0aGlzLl9jb3JlLnRyaWdnZXIoJ2xvYWRlZCcsIHsgZWxlbWVudDogJGVsZW1lbnQsIHVybDogdXJsIH0sICdsYXp5Jyk7XG5cdFx0XHRcdH0sIHRoaXMpO1xuXHRcdFx0XHRpbWFnZS5zcmMgPSB1cmw7XG5cdFx0XHR9XG5cdFx0fSwgdGhpcykpO1xuXG5cdFx0dGhpcy5fbG9hZGVkLnB1c2goJGl0ZW0uZ2V0KDApKTtcblx0fTtcblxuXHQvKipcblx0ICogRGVzdHJveXMgdGhlIHBsdWdpbi5cblx0ICogQHB1YmxpY1xuXHQgKi9cblx0TGF6eS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcblxuXHRcdGZvciAoaGFuZGxlciBpbiB0aGlzLmhhbmRsZXJzKSB7XG5cdFx0XHR0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLmhhbmRsZXJzW2hhbmRsZXJdKTtcblx0XHR9XG5cdFx0Zm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xuXHRcdFx0dHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XG5cdFx0fVxuXHR9O1xuXG5cdCQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5MYXp5ID0gTGF6eTtcblxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vKipcbiAqIEF1dG9IZWlnaHQgUGx1Z2luXG4gKiBAdmVyc2lvbiAyLjEuMFxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcbiAqIEBhdXRob3IgU2F1cmFiaCBTaGFybWFcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICovXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHRoZSBhdXRvIGhlaWdodCBwbHVnaW4uXG5cdCAqIEBjbGFzcyBUaGUgQXV0byBIZWlnaHQgUGx1Z2luXG5cdCAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWxcblx0ICovXG5cdHZhciBBdXRvSGVpZ2h0ID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcblx0XHQvKipcblx0XHQgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtPd2x9XG5cdFx0ICovXG5cdFx0dGhpcy5fY29yZSA9IGNhcm91c2VsO1xuXG5cdFx0LyoqXG5cdFx0ICogQWxsIGV2ZW50IGhhbmRsZXJzLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqL1xuXHRcdHRoaXMuX2hhbmRsZXJzID0ge1xuXHRcdFx0J2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCByZWZyZXNoZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQpIHtcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKSxcblx0XHRcdCdjaGFuZ2VkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0ICYmIGUucHJvcGVydHkubmFtZSA9PSAncG9zaXRpb24nKXtcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKSxcblx0XHRcdCdsb2FkZWQub3dsLmxhenknOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0aWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodFxuXHRcdFx0XHRcdCYmIGUuZWxlbWVudC5jbG9zZXN0KCcuJyArIHRoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbUNsYXNzKS5pbmRleCgpID09PSB0aGlzLl9jb3JlLmN1cnJlbnQoKSkge1xuXHRcdFx0XHRcdHRoaXMudXBkYXRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpXG5cdFx0fTtcblxuXHRcdC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcblx0XHR0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQXV0b0hlaWdodC5EZWZhdWx0cywgdGhpcy5fY29yZS5vcHRpb25zKTtcblxuXHRcdC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXG5cdFx0dGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIERlZmF1bHQgb3B0aW9ucy5cblx0ICogQHB1YmxpY1xuXHQgKi9cblx0QXV0b0hlaWdodC5EZWZhdWx0cyA9IHtcblx0XHRhdXRvSGVpZ2h0OiBmYWxzZSxcblx0XHRhdXRvSGVpZ2h0Q2xhc3M6ICdvd2wtaGVpZ2h0J1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBVcGRhdGVzIHRoZSB2aWV3LlxuXHQgKi9cblx0QXV0b0hlaWdodC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHN0YXJ0ID0gdGhpcy5fY29yZS5fY3VycmVudCxcblx0XHRcdGVuZCA9IHN0YXJ0ICsgdGhpcy5fY29yZS5zZXR0aW5ncy5pdGVtcyxcblx0XHRcdHZpc2libGUgPSB0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLnRvQXJyYXkoKS5zbGljZShzdGFydCwgZW5kKSxcblx0XHRcdGhlaWdodHMgPSBbXSxcblx0XHRcdG1heGhlaWdodCA9IDA7XG5cblx0XHQkLmVhY2godmlzaWJsZSwgZnVuY3Rpb24oaW5kZXgsIGl0ZW0pIHtcblx0XHRcdGhlaWdodHMucHVzaCgkKGl0ZW0pLmhlaWdodCgpKTtcblx0XHR9KTtcblxuXHRcdG1heGhlaWdodCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGhlaWdodHMpO1xuXG5cdFx0dGhpcy5fY29yZS4kc3RhZ2UucGFyZW50KClcblx0XHRcdC5oZWlnaHQobWF4aGVpZ2h0KVxuXHRcdFx0LmFkZENsYXNzKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodENsYXNzKTtcblx0fTtcblxuXHRBdXRvSGVpZ2h0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhhbmRsZXIsIHByb3BlcnR5O1xuXG5cdFx0Zm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XG5cdFx0XHR0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLl9oYW5kbGVyc1toYW5kbGVyXSk7XG5cdFx0fVxuXHRcdGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcblx0XHRcdHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xuXHRcdH1cblx0fTtcblxuXHQkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuQXV0b0hlaWdodCA9IEF1dG9IZWlnaHQ7XG5cbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyoqXG4gKiBWaWRlbyBQbHVnaW5cbiAqIEB2ZXJzaW9uIDIuMS4wXG4gKiBAYXV0aG9yIEJhcnRvc3ogV29qY2llY2hvd3NraVxuICogQGF1dGhvciBTYXVyYWJoIFNoYXJtYVxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKi9cbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIHZpZGVvIHBsdWdpbi5cblx0ICogQGNsYXNzIFRoZSBWaWRlbyBQbHVnaW5cblx0ICogQHBhcmFtIHtPd2x9IGNhcm91c2VsIC0gVGhlIE93bCBDYXJvdXNlbFxuXHQgKi9cblx0dmFyIFZpZGVvID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcblx0XHQvKipcblx0XHQgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtPd2x9XG5cdFx0ICovXG5cdFx0dGhpcy5fY29yZSA9IGNhcm91c2VsO1xuXG5cdFx0LyoqXG5cdFx0ICogQ2FjaGUgYWxsIHZpZGVvIFVSTHMuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0dGhpcy5fdmlkZW9zID0ge307XG5cblx0XHQvKipcblx0XHQgKiBDdXJyZW50IHBsYXlpbmcgaXRlbS5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge2pRdWVyeX1cblx0XHQgKi9cblx0XHR0aGlzLl9wbGF5aW5nID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIEFsbCBldmVudCBoYW5kbGVycy5cblx0XHQgKiBAdG9kbyBUaGUgY2xvbmVkIGNvbnRlbnQgcmVtb3ZhbGUgaXMgdG9vIGxhdGVcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHR0aGlzLl9oYW5kbGVycyA9IHtcblx0XHRcdCdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0aWYgKGUubmFtZXNwYWNlKSB7XG5cdFx0XHRcdFx0dGhpcy5fY29yZS5yZWdpc3Rlcih7IHR5cGU6ICdzdGF0ZScsIG5hbWU6ICdwbGF5aW5nJywgdGFnczogWyAnaW50ZXJhY3RpbmcnIF0gfSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpLFxuXHRcdFx0J3Jlc2l6ZS5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0aWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MudmlkZW8gJiYgdGhpcy5pc0luRnVsbFNjcmVlbigpKSB7XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKSxcblx0XHRcdCdyZWZyZXNoZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLmlzKCdyZXNpemluZycpKSB7XG5cdFx0XHRcdFx0dGhpcy5fY29yZS4kc3RhZ2UuZmluZCgnLmNsb25lZCAub3dsLXZpZGVvLWZyYW1lJykucmVtb3ZlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpLFxuXHRcdFx0J2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT09ICdwb3NpdGlvbicgJiYgdGhpcy5fcGxheWluZykge1xuXHRcdFx0XHRcdHRoaXMuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKSxcblx0XHRcdCdwcmVwYXJlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0aWYgKCFlLm5hbWVzcGFjZSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciAkZWxlbWVudCA9ICQoZS5jb250ZW50KS5maW5kKCcub3dsLXZpZGVvJyk7XG5cblx0XHRcdFx0aWYgKCRlbGVtZW50Lmxlbmd0aCkge1xuXHRcdFx0XHRcdCRlbGVtZW50LmNzcygnZGlzcGxheScsICdub25lJyk7XG5cdFx0XHRcdFx0dGhpcy5mZXRjaCgkZWxlbWVudCwgJChlLmNvbnRlbnQpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcylcblx0XHR9O1xuXG5cdFx0Ly8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuXHRcdHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBWaWRlby5EZWZhdWx0cywgdGhpcy5fY29yZS5vcHRpb25zKTtcblxuXHRcdC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXG5cdFx0dGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XG5cblx0XHR0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKCdjbGljay5vd2wudmlkZW8nLCAnLm93bC12aWRlby1wbGF5LWljb24nLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcblx0XHRcdHRoaXMucGxheShlKTtcblx0XHR9LCB0aGlzKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIERlZmF1bHQgb3B0aW9ucy5cblx0ICogQHB1YmxpY1xuXHQgKi9cblx0VmlkZW8uRGVmYXVsdHMgPSB7XG5cdFx0dmlkZW86IGZhbHNlLFxuXHRcdHZpZGVvSGVpZ2h0OiBmYWxzZSxcblx0XHR2aWRlb1dpZHRoOiBmYWxzZVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSB2aWRlbyBJRCBhbmQgdGhlIHR5cGUgKFlvdVR1YmUvVmltZW8vdnphYXIgb25seSkuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtqUXVlcnl9IHRhcmdldCAtIFRoZSB0YXJnZXQgY29udGFpbmluZyB0aGUgdmlkZW8gZGF0YS5cblx0ICogQHBhcmFtIHtqUXVlcnl9IGl0ZW0gLSBUaGUgaXRlbSBjb250YWluaW5nIHRoZSB2aWRlby5cblx0ICovXG5cdFZpZGVvLnByb3RvdHlwZS5mZXRjaCA9IGZ1bmN0aW9uKHRhcmdldCwgaXRlbSkge1xuXHRcdFx0dmFyIHR5cGUgPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKHRhcmdldC5hdHRyKCdkYXRhLXZpbWVvLWlkJykpIHtcblx0XHRcdFx0XHRcdHJldHVybiAndmltZW8nO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodGFyZ2V0LmF0dHIoJ2RhdGEtdnphYXItaWQnKSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICd2emFhcidcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuICd5b3V0dWJlJztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pKCksXG5cdFx0XHRcdGlkID0gdGFyZ2V0LmF0dHIoJ2RhdGEtdmltZW8taWQnKSB8fCB0YXJnZXQuYXR0cignZGF0YS15b3V0dWJlLWlkJykgfHwgdGFyZ2V0LmF0dHIoJ2RhdGEtdnphYXItaWQnKSxcblx0XHRcdFx0d2lkdGggPSB0YXJnZXQuYXR0cignZGF0YS13aWR0aCcpIHx8IHRoaXMuX2NvcmUuc2V0dGluZ3MudmlkZW9XaWR0aCxcblx0XHRcdFx0aGVpZ2h0ID0gdGFyZ2V0LmF0dHIoJ2RhdGEtaGVpZ2h0JykgfHwgdGhpcy5fY29yZS5zZXR0aW5ncy52aWRlb0hlaWdodCxcblx0XHRcdFx0dXJsID0gdGFyZ2V0LmF0dHIoJ2hyZWYnKTtcblxuXHRcdGlmICh1cmwpIHtcblxuXHRcdFx0Lypcblx0XHRcdFx0XHRQYXJzZXMgdGhlIGlkJ3Mgb3V0IG9mIHRoZSBmb2xsb3dpbmcgdXJscyAoYW5kIHByb2JhYmx5IG1vcmUpOlxuXHRcdFx0XHRcdGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9OmlkXG5cdFx0XHRcdFx0aHR0cHM6Ly95b3V0dS5iZS86aWRcblx0XHRcdFx0XHRodHRwczovL3ZpbWVvLmNvbS86aWRcblx0XHRcdFx0XHRodHRwczovL3ZpbWVvLmNvbS9jaGFubmVscy86Y2hhbm5lbC86aWRcblx0XHRcdFx0XHRodHRwczovL3ZpbWVvLmNvbS9ncm91cHMvOmdyb3VwL3ZpZGVvcy86aWRcblx0XHRcdFx0XHRodHRwczovL2FwcC52emFhci5jb20vdmlkZW9zLzppZFxuXG5cdFx0XHRcdFx0VmlzdWFsIGV4YW1wbGU6IGh0dHBzOi8vcmVnZXhwZXIuY29tLyMoaHR0cCUzQSU3Q2h0dHBzJTNBJTdDKSU1QyUyRiU1QyUyRihwbGF5ZXIuJTdDd3d3LiU3Q2FwcC4pJTNGKHZpbWVvJTVDLmNvbSU3Q3lvdXR1KGJlJTVDLmNvbSU3QyU1Qy5iZSU3Q2JlJTVDLmdvb2dsZWFwaXMlNUMuY29tKSU3Q3Z6YWFyJTVDLmNvbSklNUMlMkYodmlkZW8lNUMlMkYlN0N2aWRlb3MlNUMlMkYlN0NlbWJlZCU1QyUyRiU3Q2NoYW5uZWxzJTVDJTJGLiUyQiU1QyUyRiU3Q2dyb3VwcyU1QyUyRi4lMkIlNUMlMkYlN0N3YXRjaCU1QyUzRnYlM0QlN0N2JTVDJTJGKSUzRiglNUJBLVphLXowLTkuXyUyNS0lNUQqKSglNUMlMjYlNUNTJTJCKSUzRlxuXHRcdFx0Ki9cblxuXHRcdFx0aWQgPSB1cmwubWF0Y2goLyhodHRwOnxodHRwczp8KVxcL1xcLyhwbGF5ZXIufHd3dy58YXBwLik/KHZpbWVvXFwuY29tfHlvdXR1KGJlXFwuY29tfFxcLmJlfGJlXFwuZ29vZ2xlYXBpc1xcLmNvbSl8dnphYXJcXC5jb20pXFwvKHZpZGVvXFwvfHZpZGVvc1xcL3xlbWJlZFxcL3xjaGFubmVsc1xcLy4rXFwvfGdyb3Vwc1xcLy4rXFwvfHdhdGNoXFw/dj18dlxcLyk/KFtBLVphLXowLTkuXyUtXSopKFxcJlxcUyspPy8pO1xuXG5cdFx0XHRpZiAoaWRbM10uaW5kZXhPZigneW91dHUnKSA+IC0xKSB7XG5cdFx0XHRcdHR5cGUgPSAneW91dHViZSc7XG5cdFx0XHR9IGVsc2UgaWYgKGlkWzNdLmluZGV4T2YoJ3ZpbWVvJykgPiAtMSkge1xuXHRcdFx0XHR0eXBlID0gJ3ZpbWVvJztcblx0XHRcdH0gZWxzZSBpZiAoaWRbM10uaW5kZXhPZigndnphYXInKSA+IC0xKSB7XG5cdFx0XHRcdHR5cGUgPSAndnphYXInO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdWaWRlbyBVUkwgbm90IHN1cHBvcnRlZC4nKTtcblx0XHRcdH1cblx0XHRcdGlkID0gaWRbNl07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignTWlzc2luZyB2aWRlbyBVUkwuJyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fdmlkZW9zW3VybF0gPSB7XG5cdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0aWQ6IGlkLFxuXHRcdFx0d2lkdGg6IHdpZHRoLFxuXHRcdFx0aGVpZ2h0OiBoZWlnaHRcblx0XHR9O1xuXG5cdFx0aXRlbS5hdHRyKCdkYXRhLXZpZGVvJywgdXJsKTtcblxuXHRcdHRoaXMudGh1bWJuYWlsKHRhcmdldCwgdGhpcy5fdmlkZW9zW3VybF0pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHZpZGVvIHRodW1ibmFpbC5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge2pRdWVyeX0gdGFyZ2V0IC0gVGhlIHRhcmdldCBjb250YWluaW5nIHRoZSB2aWRlbyBkYXRhLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5mbyAtIFRoZSB2aWRlbyBpbmZvIG9iamVjdC5cblx0ICogQHNlZSBgZmV0Y2hgXG5cdCAqL1xuXHRWaWRlby5wcm90b3R5cGUudGh1bWJuYWlsID0gZnVuY3Rpb24odGFyZ2V0LCB2aWRlbykge1xuXHRcdHZhciB0bkxpbmssXG5cdFx0XHRpY29uLFxuXHRcdFx0cGF0aCxcblx0XHRcdGRpbWVuc2lvbnMgPSB2aWRlby53aWR0aCAmJiB2aWRlby5oZWlnaHQgPyAnc3R5bGU9XCJ3aWR0aDonICsgdmlkZW8ud2lkdGggKyAncHg7aGVpZ2h0OicgKyB2aWRlby5oZWlnaHQgKyAncHg7XCInIDogJycsXG5cdFx0XHRjdXN0b21UbiA9IHRhcmdldC5maW5kKCdpbWcnKSxcblx0XHRcdHNyY1R5cGUgPSAnc3JjJyxcblx0XHRcdGxhenlDbGFzcyA9ICcnLFxuXHRcdFx0c2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzLFxuXHRcdFx0Y3JlYXRlID0gZnVuY3Rpb24ocGF0aCkge1xuXHRcdFx0XHRpY29uID0gJzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tcGxheS1pY29uXCI+PC9kaXY+JztcblxuXHRcdFx0XHRpZiAoc2V0dGluZ3MubGF6eUxvYWQpIHtcblx0XHRcdFx0XHR0bkxpbmsgPSAnPGRpdiBjbGFzcz1cIm93bC12aWRlby10biAnICsgbGF6eUNsYXNzICsgJ1wiICcgKyBzcmNUeXBlICsgJz1cIicgKyBwYXRoICsgJ1wiPjwvZGl2Pic7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dG5MaW5rID0gJzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tdG5cIiBzdHlsZT1cIm9wYWNpdHk6MTtiYWNrZ3JvdW5kLWltYWdlOnVybCgnICsgcGF0aCArICcpXCI+PC9kaXY+Jztcblx0XHRcdFx0fVxuXHRcdFx0XHR0YXJnZXQuYWZ0ZXIodG5MaW5rKTtcblx0XHRcdFx0dGFyZ2V0LmFmdGVyKGljb24pO1xuXHRcdFx0fTtcblxuXHRcdC8vIHdyYXAgdmlkZW8gY29udGVudCBpbnRvIG93bC12aWRlby13cmFwcGVyIGRpdlxuXHRcdHRhcmdldC53cmFwKCc8ZGl2IGNsYXNzPVwib3dsLXZpZGVvLXdyYXBwZXJcIicgKyBkaW1lbnNpb25zICsgJz48L2Rpdj4nKTtcblxuXHRcdGlmICh0aGlzLl9jb3JlLnNldHRpbmdzLmxhenlMb2FkKSB7XG5cdFx0XHRzcmNUeXBlID0gJ2RhdGEtc3JjJztcblx0XHRcdGxhenlDbGFzcyA9ICdvd2wtbGF6eSc7XG5cdFx0fVxuXG5cdFx0Ly8gY3VzdG9tIHRodW1ibmFpbFxuXHRcdGlmIChjdXN0b21Ubi5sZW5ndGgpIHtcblx0XHRcdGNyZWF0ZShjdXN0b21Ubi5hdHRyKHNyY1R5cGUpKTtcblx0XHRcdGN1c3RvbVRuLnJlbW92ZSgpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICh2aWRlby50eXBlID09PSAneW91dHViZScpIHtcblx0XHRcdHBhdGggPSBcIi8vaW1nLnlvdXR1YmUuY29tL3ZpL1wiICsgdmlkZW8uaWQgKyBcIi9ocWRlZmF1bHQuanBnXCI7XG5cdFx0XHRjcmVhdGUocGF0aCk7XG5cdFx0fSBlbHNlIGlmICh2aWRlby50eXBlID09PSAndmltZW8nKSB7XG5cdFx0XHQkLmFqYXgoe1xuXHRcdFx0XHR0eXBlOiAnR0VUJyxcblx0XHRcdFx0dXJsOiAnLy92aW1lby5jb20vYXBpL3YyL3ZpZGVvLycgKyB2aWRlby5pZCArICcuanNvbicsXG5cdFx0XHRcdGpzb25wOiAnY2FsbGJhY2snLFxuXHRcdFx0XHRkYXRhVHlwZTogJ2pzb25wJyxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRcdHBhdGggPSBkYXRhWzBdLnRodW1ibmFpbF9sYXJnZTtcblx0XHRcdFx0XHRjcmVhdGUocGF0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAodmlkZW8udHlwZSA9PT0gJ3Z6YWFyJykge1xuXHRcdFx0JC5hamF4KHtcblx0XHRcdFx0dHlwZTogJ0dFVCcsXG5cdFx0XHRcdHVybDogJy8vdnphYXIuY29tL2FwaS92aWRlb3MvJyArIHZpZGVvLmlkICsgJy5qc29uJyxcblx0XHRcdFx0anNvbnA6ICdjYWxsYmFjaycsXG5cdFx0XHRcdGRhdGFUeXBlOiAnanNvbnAnLFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdFx0cGF0aCA9IGRhdGEuZnJhbWVncmFiX3VybDtcblx0XHRcdFx0XHRjcmVhdGUocGF0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogU3RvcHMgdGhlIGN1cnJlbnQgdmlkZW8uXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdFZpZGVvLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fY29yZS50cmlnZ2VyKCdzdG9wJywgbnVsbCwgJ3ZpZGVvJyk7XG5cdFx0dGhpcy5fcGxheWluZy5maW5kKCcub3dsLXZpZGVvLWZyYW1lJykucmVtb3ZlKCk7XG5cdFx0dGhpcy5fcGxheWluZy5yZW1vdmVDbGFzcygnb3dsLXZpZGVvLXBsYXlpbmcnKTtcblx0XHR0aGlzLl9wbGF5aW5nID0gbnVsbDtcblx0XHR0aGlzLl9jb3JlLmxlYXZlKCdwbGF5aW5nJyk7XG5cdFx0dGhpcy5fY29yZS50cmlnZ2VyKCdzdG9wcGVkJywgbnVsbCwgJ3ZpZGVvJyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFN0YXJ0cyB0aGUgY3VycmVudCB2aWRlby5cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBldmVudCBhcmd1bWVudHMuXG5cdCAqL1xuXHRWaWRlby5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KSxcblx0XHRcdGl0ZW0gPSB0YXJnZXQuY2xvc2VzdCgnLicgKyB0aGlzLl9jb3JlLnNldHRpbmdzLml0ZW1DbGFzcyksXG5cdFx0XHR2aWRlbyA9IHRoaXMuX3ZpZGVvc1tpdGVtLmF0dHIoJ2RhdGEtdmlkZW8nKV0sXG5cdFx0XHR3aWR0aCA9IHZpZGVvLndpZHRoIHx8ICcxMDAlJyxcblx0XHRcdGhlaWdodCA9IHZpZGVvLmhlaWdodCB8fCB0aGlzLl9jb3JlLiRzdGFnZS5oZWlnaHQoKSxcblx0XHRcdGh0bWw7XG5cblx0XHRpZiAodGhpcy5fcGxheWluZykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX2NvcmUuZW50ZXIoJ3BsYXlpbmcnKTtcblx0XHR0aGlzLl9jb3JlLnRyaWdnZXIoJ3BsYXknLCBudWxsLCAndmlkZW8nKTtcblxuXHRcdGl0ZW0gPSB0aGlzLl9jb3JlLml0ZW1zKHRoaXMuX2NvcmUucmVsYXRpdmUoaXRlbS5pbmRleCgpKSk7XG5cblx0XHR0aGlzLl9jb3JlLnJlc2V0KGl0ZW0uaW5kZXgoKSk7XG5cblx0XHRpZiAodmlkZW8udHlwZSA9PT0gJ3lvdXR1YmUnKSB7XG5cdFx0XHRodG1sID0gJzxpZnJhbWUgd2lkdGg9XCInICsgd2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGhlaWdodCArICdcIiBzcmM9XCIvL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8nICtcblx0XHRcdFx0dmlkZW8uaWQgKyAnP2F1dG9wbGF5PTEmcmVsPTAmdj0nICsgdmlkZW8uaWQgKyAnXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPic7XG5cdFx0fSBlbHNlIGlmICh2aWRlby50eXBlID09PSAndmltZW8nKSB7XG5cdFx0XHRodG1sID0gJzxpZnJhbWUgc3JjPVwiLy9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLycgKyB2aWRlby5pZCArXG5cdFx0XHRcdCc/YXV0b3BsYXk9MVwiIHdpZHRoPVwiJyArIHdpZHRoICsgJ1wiIGhlaWdodD1cIicgKyBoZWlnaHQgK1xuXHRcdFx0XHQnXCIgZnJhbWVib3JkZXI9XCIwXCIgd2Via2l0YWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+Jztcblx0XHR9IGVsc2UgaWYgKHZpZGVvLnR5cGUgPT09ICd2emFhcicpIHtcblx0XHRcdGh0bWwgPSAnPGlmcmFtZSBmcmFtZWJvcmRlcj1cIjBcIicgKyAnaGVpZ2h0PVwiJyArIGhlaWdodCArICdcIicgKyAnd2lkdGg9XCInICsgd2lkdGggK1xuXHRcdFx0XHQnXCIgYWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiB3ZWJraXRBbGxvd0Z1bGxTY3JlZW4gJyArXG5cdFx0XHRcdCdzcmM9XCIvL3ZpZXcudnphYXIuY29tLycgKyB2aWRlby5pZCArICcvcGxheWVyP2F1dG9wbGF5PXRydWVcIj48L2lmcmFtZT4nO1xuXHRcdH1cblxuXHRcdCQoJzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tZnJhbWVcIj4nICsgaHRtbCArICc8L2Rpdj4nKS5pbnNlcnRBZnRlcihpdGVtLmZpbmQoJy5vd2wtdmlkZW8nKSk7XG5cblx0XHR0aGlzLl9wbGF5aW5nID0gaXRlbS5hZGRDbGFzcygnb3dsLXZpZGVvLXBsYXlpbmcnKTtcblx0fTtcblxuXHQvKipcblx0ICogQ2hlY2tzIHdoZXRoZXIgYW4gdmlkZW8gaXMgY3VycmVudGx5IGluIGZ1bGwgc2NyZWVuIG1vZGUgb3Igbm90LlxuXHQgKiBAdG9kbyBCYWQgc3R5bGUgYmVjYXVzZSBsb29rcyBsaWtlIGEgcmVhZG9ubHkgbWV0aG9kIGJ1dCBjaGFuZ2VzIG1lbWJlcnMuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybnMge0Jvb2xlYW59XG5cdCAqL1xuXHRWaWRlby5wcm90b3R5cGUuaXNJbkZ1bGxTY3JlZW4gPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbWVudCA9IGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8XG5cdFx0XHRcdGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50O1xuXG5cdFx0cmV0dXJuIGVsZW1lbnQgJiYgJChlbGVtZW50KS5wYXJlbnQoKS5oYXNDbGFzcygnb3dsLXZpZGVvLWZyYW1lJyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXG5cdCAqL1xuXHRWaWRlby5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcblxuXHRcdHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKCdjbGljay5vd2wudmlkZW8nKTtcblxuXHRcdGZvciAoaGFuZGxlciBpbiB0aGlzLl9oYW5kbGVycykge1xuXHRcdFx0dGhpcy5fY29yZS4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xuXHRcdH1cblx0XHRmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XG5cdFx0XHR0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcblx0XHR9XG5cdH07XG5cblx0JC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLlZpZGVvID0gVmlkZW87XG5cbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyoqXG4gKiBBbmltYXRlIFBsdWdpblxuICogQHZlcnNpb24gMi4xLjBcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXG4gKiBAYXV0aG9yIFNhdXJhYmggU2hhcm1hXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqL1xuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuXHQvKipcblx0ICogQ3JlYXRlcyB0aGUgYW5pbWF0ZSBwbHVnaW4uXG5cdCAqIEBjbGFzcyBUaGUgTmF2aWdhdGlvbiBQbHVnaW5cblx0ICogQHBhcmFtIHtPd2x9IHNjb3BlIC0gVGhlIE93bCBDYXJvdXNlbFxuXHQgKi9cblx0dmFyIEFuaW1hdGUgPSBmdW5jdGlvbihzY29wZSkge1xuXHRcdHRoaXMuY29yZSA9IHNjb3BlO1xuXHRcdHRoaXMuY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIEFuaW1hdGUuRGVmYXVsdHMsIHRoaXMuY29yZS5vcHRpb25zKTtcblx0XHR0aGlzLnN3YXBwaW5nID0gdHJ1ZTtcblx0XHR0aGlzLnByZXZpb3VzID0gdW5kZWZpbmVkO1xuXHRcdHRoaXMubmV4dCA9IHVuZGVmaW5lZDtcblxuXHRcdHRoaXMuaGFuZGxlcnMgPSB7XG5cdFx0XHQnY2hhbmdlLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09ICdwb3NpdGlvbicpIHtcblx0XHRcdFx0XHR0aGlzLnByZXZpb3VzID0gdGhpcy5jb3JlLmN1cnJlbnQoKTtcblx0XHRcdFx0XHR0aGlzLm5leHQgPSBlLnByb3BlcnR5LnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKSxcblx0XHRcdCdkcmFnLm93bC5jYXJvdXNlbCBkcmFnZ2VkLm93bC5jYXJvdXNlbCB0cmFuc2xhdGVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5uYW1lc3BhY2UpIHtcblx0XHRcdFx0XHR0aGlzLnN3YXBwaW5nID0gZS50eXBlID09ICd0cmFuc2xhdGVkJztcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcyksXG5cdFx0XHQndHJhbnNsYXRlLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5zd2FwcGluZyAmJiAodGhpcy5jb3JlLm9wdGlvbnMuYW5pbWF0ZU91dCB8fCB0aGlzLmNvcmUub3B0aW9ucy5hbmltYXRlSW4pKSB7XG5cdFx0XHRcdFx0dGhpcy5zd2FwKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpXG5cdFx0fTtcblxuXHRcdHRoaXMuY29yZS4kZWxlbWVudC5vbih0aGlzLmhhbmRsZXJzKTtcblx0fTtcblxuXHQvKipcblx0ICogRGVmYXVsdCBvcHRpb25zLlxuXHQgKiBAcHVibGljXG5cdCAqL1xuXHRBbmltYXRlLkRlZmF1bHRzID0ge1xuXHRcdGFuaW1hdGVPdXQ6IGZhbHNlLFxuXHRcdGFuaW1hdGVJbjogZmFsc2Vcblx0fTtcblxuXHQvKipcblx0ICogVG9nZ2xlcyB0aGUgYW5pbWF0aW9uIGNsYXNzZXMgd2hlbmV2ZXIgYW4gdHJhbnNsYXRpb25zIHN0YXJ0cy5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbnx1bmRlZmluZWR9XG5cdCAqL1xuXHRBbmltYXRlLnByb3RvdHlwZS5zd2FwID0gZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAodGhpcy5jb3JlLnNldHRpbmdzLml0ZW1zICE9PSAxKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCEkLnN1cHBvcnQuYW5pbWF0aW9uIHx8ICEkLnN1cHBvcnQudHJhbnNpdGlvbikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuY29yZS5zcGVlZCgwKTtcblxuXHRcdHZhciBsZWZ0LFxuXHRcdFx0Y2xlYXIgPSAkLnByb3h5KHRoaXMuY2xlYXIsIHRoaXMpLFxuXHRcdFx0cHJldmlvdXMgPSB0aGlzLmNvcmUuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5wcmV2aW91cyksXG5cdFx0XHRuZXh0ID0gdGhpcy5jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKHRoaXMubmV4dCksXG5cdFx0XHRpbmNvbWluZyA9IHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlSW4sXG5cdFx0XHRvdXRnb2luZyA9IHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlT3V0O1xuXG5cdFx0aWYgKHRoaXMuY29yZS5jdXJyZW50KCkgPT09IHRoaXMucHJldmlvdXMpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAob3V0Z29pbmcpIHtcblx0XHRcdGxlZnQgPSB0aGlzLmNvcmUuY29vcmRpbmF0ZXModGhpcy5wcmV2aW91cykgLSB0aGlzLmNvcmUuY29vcmRpbmF0ZXModGhpcy5uZXh0KTtcblx0XHRcdHByZXZpb3VzLm9uZSgkLnN1cHBvcnQuYW5pbWF0aW9uLmVuZCwgY2xlYXIpXG5cdFx0XHRcdC5jc3MoIHsgJ2xlZnQnOiBsZWZ0ICsgJ3B4JyB9IClcblx0XHRcdFx0LmFkZENsYXNzKCdhbmltYXRlZCBvd2wtYW5pbWF0ZWQtb3V0Jylcblx0XHRcdFx0LmFkZENsYXNzKG91dGdvaW5nKTtcblx0XHR9XG5cblx0XHRpZiAoaW5jb21pbmcpIHtcblx0XHRcdG5leHQub25lKCQuc3VwcG9ydC5hbmltYXRpb24uZW5kLCBjbGVhcilcblx0XHRcdFx0LmFkZENsYXNzKCdhbmltYXRlZCBvd2wtYW5pbWF0ZWQtaW4nKVxuXHRcdFx0XHQuYWRkQ2xhc3MoaW5jb21pbmcpO1xuXHRcdH1cblx0fTtcblxuXHRBbmltYXRlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKGUpIHtcblx0XHQkKGUudGFyZ2V0KS5jc3MoIHsgJ2xlZnQnOiAnJyB9IClcblx0XHRcdC5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgb3dsLWFuaW1hdGVkLW91dCBvd2wtYW5pbWF0ZWQtaW4nKVxuXHRcdFx0LnJlbW92ZUNsYXNzKHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlSW4pXG5cdFx0XHQucmVtb3ZlQ2xhc3ModGhpcy5jb3JlLnNldHRpbmdzLmFuaW1hdGVPdXQpO1xuXHRcdHRoaXMuY29yZS5vblRyYW5zaXRpb25FbmQoKTtcblx0fTtcblxuXHQvKipcblx0ICogRGVzdHJveXMgdGhlIHBsdWdpbi5cblx0ICogQHB1YmxpY1xuXHQgKi9cblx0QW5pbWF0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcblxuXHRcdGZvciAoaGFuZGxlciBpbiB0aGlzLmhhbmRsZXJzKSB7XG5cdFx0XHR0aGlzLmNvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuaGFuZGxlcnNbaGFuZGxlcl0pO1xuXHRcdH1cblx0XHRmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XG5cdFx0XHR0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcblx0XHR9XG5cdH07XG5cblx0JC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkFuaW1hdGUgPSBBbmltYXRlO1xuXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qKlxuICogQXV0b3BsYXkgUGx1Z2luXG4gKiBAdmVyc2lvbiAyLjEuMFxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcbiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraVxuICogQGF1dGhvciBTYXVyYWJoIFNoYXJtYVxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKi9cbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIGF1dG9wbGF5IHBsdWdpbi5cblx0ICogQGNsYXNzIFRoZSBBdXRvcGxheSBQbHVnaW5cblx0ICogQHBhcmFtIHtPd2x9IHNjb3BlIC0gVGhlIE93bCBDYXJvdXNlbFxuXHQgKi9cblx0dmFyIEF1dG9wbGF5ID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcblx0XHQvKipcblx0XHQgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtPd2x9XG5cdFx0ICovXG5cdFx0dGhpcy5fY29yZSA9IGNhcm91c2VsO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGF1dG9wbGF5IHRpbWVvdXQuXG5cdFx0ICogQHR5cGUge1RpbWVvdXR9XG5cdFx0ICovXG5cdFx0dGhpcy5fdGltZW91dCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBJbmRpY2F0ZXMgd2hlbmV2ZXIgdGhlIGF1dG9wbGF5IGlzIHBhdXNlZC5cblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHR0aGlzLl9wYXVzZWQgPSBmYWxzZTtcblxuXHRcdC8qKlxuXHRcdCAqIEFsbCBldmVudCBoYW5kbGVycy5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHR0aGlzLl9oYW5kbGVycyA9IHtcblx0XHRcdCdjaGFuZ2VkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09PSAnc2V0dGluZ3MnKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXkpIHtcblx0XHRcdFx0XHRcdHRoaXMucGxheSgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLnN0b3AoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09PSAncG9zaXRpb24nKSB7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygncGxheT8nLCBlKTtcblx0XHRcdFx0XHRpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheSkge1xuXHRcdFx0XHRcdFx0dGhpcy5fc2V0QXV0b1BsYXlJbnRlcnZhbCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcyksXG5cdFx0XHQnaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5KSB7XG5cdFx0XHRcdFx0dGhpcy5wbGF5KCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpLFxuXHRcdFx0J3BsYXkub3dsLmF1dG9wbGF5JzogJC5wcm94eShmdW5jdGlvbihlLCB0LCBzKSB7XG5cdFx0XHRcdGlmIChlLm5hbWVzcGFjZSkge1xuXHRcdFx0XHRcdHRoaXMucGxheSh0LCBzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcyksXG5cdFx0XHQnc3RvcC5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0aWYgKGUubmFtZXNwYWNlKSB7XG5cdFx0XHRcdFx0dGhpcy5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpLFxuXHRcdFx0J21vdXNlb3Zlci5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UgJiYgdGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xuXHRcdFx0XHRcdHRoaXMucGF1c2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcyksXG5cdFx0XHQnbW91c2VsZWF2ZS5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UgJiYgdGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xuXHRcdFx0XHRcdHRoaXMucGxheSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKSxcblx0XHRcdCd0b3VjaHN0YXJ0Lm93bC5jb3JlJzogJC5wcm94eShmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlICYmIHRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcblx0XHRcdFx0XHR0aGlzLnBhdXNlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpLFxuXHRcdFx0J3RvdWNoZW5kLm93bC5jb3JlJzogJC5wcm94eShmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlKSB7XG5cdFx0XHRcdFx0dGhpcy5wbGF5KCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpXG5cdFx0fTtcblxuXHRcdC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXG5cdFx0dGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XG5cblx0XHQvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG5cdFx0dGhpcy5fY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIEF1dG9wbGF5LkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZWZhdWx0IG9wdGlvbnMuXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdEF1dG9wbGF5LkRlZmF1bHRzID0ge1xuXHRcdGF1dG9wbGF5OiBmYWxzZSxcblx0XHRhdXRvcGxheVRpbWVvdXQ6IDUwMDAsXG5cdFx0YXV0b3BsYXlIb3ZlclBhdXNlOiBmYWxzZSxcblx0XHRhdXRvcGxheVNwZWVkOiBmYWxzZVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBTdGFydHMgdGhlIGF1dG9wbGF5LlxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZW91dF0gLSBUaGUgaW50ZXJ2YWwgYmVmb3JlIHRoZSBuZXh0IGFuaW1hdGlvbiBzdGFydHMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIGFuaW1hdGlvbiBzcGVlZCBmb3IgdGhlIGFuaW1hdGlvbnMuXG5cdCAqL1xuXHRBdXRvcGxheS5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKHRpbWVvdXQsIHNwZWVkKSB7XG5cdFx0dGhpcy5fcGF1c2VkID0gZmFsc2U7XG5cblx0XHRpZiAodGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX2NvcmUuZW50ZXIoJ3JvdGF0aW5nJyk7XG5cblx0XHR0aGlzLl9zZXRBdXRvUGxheUludGVydmFsKCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEdldHMgYSBuZXcgdGltZW91dFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3RpbWVvdXRdIC0gVGhlIGludGVydmFsIGJlZm9yZSB0aGUgbmV4dCBhbmltYXRpb24gc3RhcnRzLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSBhbmltYXRpb24gc3BlZWQgZm9yIHRoZSBhbmltYXRpb25zLlxuXHQgKiBAcmV0dXJuIHtUaW1lb3V0fVxuXHQgKi9cblx0QXV0b3BsYXkucHJvdG90eXBlLl9nZXROZXh0VGltZW91dCA9IGZ1bmN0aW9uKHRpbWVvdXQsIHNwZWVkKSB7XG5cdFx0aWYgKCB0aGlzLl90aW1lb3V0ICkge1xuXHRcdFx0d2luZG93LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcblx0XHR9XG5cdFx0cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAodGhpcy5fcGF1c2VkIHx8IHRoaXMuX2NvcmUuaXMoJ2J1c3knKSB8fCB0aGlzLl9jb3JlLmlzKCdpbnRlcmFjdGluZycpIHx8IGRvY3VtZW50LmhpZGRlbikge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9jb3JlLm5leHQoc3BlZWQgfHwgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheVNwZWVkKTtcblx0XHR9LCB0aGlzKSwgdGltZW91dCB8fCB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5VGltZW91dCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFNldHMgYXV0b3BsYXkgaW4gbW90aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0QXV0b3BsYXkucHJvdG90eXBlLl9zZXRBdXRvUGxheUludGVydmFsID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fdGltZW91dCA9IHRoaXMuX2dldE5leHRUaW1lb3V0KCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFN0b3BzIHRoZSBhdXRvcGxheS5cblx0ICogQHB1YmxpY1xuXHQgKi9cblx0QXV0b3BsYXkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoIXRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuXHRcdHRoaXMuX2NvcmUubGVhdmUoJ3JvdGF0aW5nJyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFN0b3BzIHRoZSBhdXRvcGxheS5cblx0ICogQHB1YmxpY1xuXHQgKi9cblx0QXV0b3BsYXkucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCF0aGlzLl9jb3JlLmlzKCdyb3RhdGluZycpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fcGF1c2VkID0gdHJ1ZTtcblx0fTtcblxuXHQvKipcblx0ICogRGVzdHJveXMgdGhlIHBsdWdpbi5cblx0ICovXG5cdEF1dG9wbGF5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhhbmRsZXIsIHByb3BlcnR5O1xuXG5cdFx0dGhpcy5zdG9wKCk7XG5cblx0XHRmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcblx0XHRcdHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcblx0XHR9XG5cdFx0Zm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xuXHRcdFx0dHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XG5cdFx0fVxuXHR9O1xuXG5cdCQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5hdXRvcGxheSA9IEF1dG9wbGF5O1xuXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG5cbi8qKlxuICogTmF2aWdhdGlvbiBQbHVnaW5cbiAqIEB2ZXJzaW9uIDIuMS4wXG4gKiBAYXV0aG9yIEFydHVzIEtvbGFub3dza2lcbiAqIEBhdXRob3IgU2F1cmFiaCBTaGFybWFcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICovXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIG5hdmlnYXRpb24gcGx1Z2luLlxuXHQgKiBAY2xhc3MgVGhlIE5hdmlnYXRpb24gUGx1Z2luXG5cdCAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWwuXG5cdCAqL1xuXHR2YXIgTmF2aWdhdGlvbiA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XG5cdFx0LyoqXG5cdFx0ICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7T3dsfVxuXHRcdCAqL1xuXHRcdHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcblxuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBwbHVnaW4gaXMgaW5pdGlhbGl6ZWQgb3Igbm90LlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHR0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGN1cnJlbnQgcGFnaW5nIGluZGV4ZXMuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtBcnJheX1cblx0XHQgKi9cblx0XHR0aGlzLl9wYWdlcyA9IFtdO1xuXG5cdFx0LyoqXG5cdFx0ICogQWxsIERPTSBlbGVtZW50cyBvZiB0aGUgdXNlciBpbnRlcmZhY2UuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0dGhpcy5fY29udHJvbHMgPSB7fTtcblxuXHRcdC8qKlxuXHRcdCAqIE1hcmt1cCBmb3IgYW4gaW5kaWNhdG9yLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7QXJyYXkuPFN0cmluZz59XG5cdFx0ICovXG5cdFx0dGhpcy5fdGVtcGxhdGVzID0gW107XG5cblx0XHQvKipcblx0XHQgKiBUaGUgY2Fyb3VzZWwgZWxlbWVudC5cblx0XHQgKiBAdHlwZSB7alF1ZXJ5fVxuXHRcdCAqL1xuXHRcdHRoaXMuJGVsZW1lbnQgPSB0aGlzLl9jb3JlLiRlbGVtZW50O1xuXG5cdFx0LyoqXG5cdFx0ICogT3ZlcnJpZGRlbiBtZXRob2RzIG9mIHRoZSBjYXJvdXNlbC5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHR0aGlzLl9vdmVycmlkZXMgPSB7XG5cdFx0XHRuZXh0OiB0aGlzLl9jb3JlLm5leHQsXG5cdFx0XHRwcmV2OiB0aGlzLl9jb3JlLnByZXYsXG5cdFx0XHR0bzogdGhpcy5fY29yZS50b1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBBbGwgZXZlbnQgaGFuZGxlcnMuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0dGhpcy5faGFuZGxlcnMgPSB7XG5cdFx0XHQncHJlcGFyZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmRvdHNEYXRhKSB7XG5cdFx0XHRcdFx0dGhpcy5fdGVtcGxhdGVzLnB1c2goJzxkaXYgY2xhc3M9XCInICsgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RDbGFzcyArICdcIj4nICtcblx0XHRcdFx0XHRcdCQoZS5jb250ZW50KS5maW5kKCdbZGF0YS1kb3RdJykuYWRkQmFjaygnW2RhdGEtZG90XScpLmF0dHIoJ2RhdGEtZG90JykgKyAnPC9kaXY+Jyk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpLFxuXHRcdFx0J2FkZGVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSkge1xuXHRcdFx0XHRcdHRoaXMuX3RlbXBsYXRlcy5zcGxpY2UoZS5wb3NpdGlvbiwgMCwgdGhpcy5fdGVtcGxhdGVzLnBvcCgpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcyksXG5cdFx0XHQncmVtb3ZlLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSkge1xuXHRcdFx0XHRcdHRoaXMuX3RlbXBsYXRlcy5zcGxpY2UoZS5wb3NpdGlvbiwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpLFxuXHRcdFx0J2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT0gJ3Bvc2l0aW9uJykge1xuXHRcdFx0XHRcdHRoaXMuZHJhdygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKSxcblx0XHRcdCdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0aWYgKGUubmFtZXNwYWNlICYmICF0aGlzLl9pbml0aWFsaXplZCkge1xuXHRcdFx0XHRcdHRoaXMuX2NvcmUudHJpZ2dlcignaW5pdGlhbGl6ZScsIG51bGwsICduYXZpZ2F0aW9uJyk7XG5cdFx0XHRcdFx0dGhpcy5pbml0aWFsaXplKCk7XG5cdFx0XHRcdFx0dGhpcy51cGRhdGUoKTtcblx0XHRcdFx0XHR0aGlzLmRyYXcoKTtcblx0XHRcdFx0XHR0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG5cdFx0XHRcdFx0dGhpcy5fY29yZS50cmlnZ2VyKCdpbml0aWFsaXplZCcsIG51bGwsICduYXZpZ2F0aW9uJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpLFxuXHRcdFx0J3JlZnJlc2hlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0aWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2luaXRpYWxpemVkKSB7XG5cdFx0XHRcdFx0dGhpcy5fY29yZS50cmlnZ2VyKCdyZWZyZXNoJywgbnVsbCwgJ25hdmlnYXRpb24nKTtcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZSgpO1xuXHRcdFx0XHRcdHRoaXMuZHJhdygpO1xuXHRcdFx0XHRcdHRoaXMuX2NvcmUudHJpZ2dlcigncmVmcmVzaGVkJywgbnVsbCwgJ25hdmlnYXRpb24nKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcylcblx0XHR9O1xuXG5cdFx0Ly8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuXHRcdHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBOYXZpZ2F0aW9uLkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xuXG5cdFx0Ly8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnNcblx0XHR0aGlzLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTtcblx0fTtcblxuXHQvKipcblx0ICogRGVmYXVsdCBvcHRpb25zLlxuXHQgKiBAcHVibGljXG5cdCAqIEB0b2RvIFJlbmFtZSBgc2xpZGVCeWAgdG8gYG5hdkJ5YFxuXHQgKi9cblx0TmF2aWdhdGlvbi5EZWZhdWx0cyA9IHtcblx0XHRuYXY6IGZhbHNlLFxuXHRcdG5hdlRleHQ6IFsgJ3ByZXYnLCAnbmV4dCcgXSxcblx0XHRuYXZTcGVlZDogZmFsc2UsXG5cdFx0bmF2RWxlbWVudDogJ2RpdicsXG5cdFx0bmF2Q29udGFpbmVyOiBmYWxzZSxcblx0XHRuYXZDb250YWluZXJDbGFzczogJ293bC1uYXYnLFxuXHRcdG5hdkNsYXNzOiBbICdvd2wtcHJldicsICdvd2wtbmV4dCcgXSxcblx0XHRzbGlkZUJ5OiAxLFxuXHRcdGRvdENsYXNzOiAnb3dsLWRvdCcsXG5cdFx0ZG90c0NsYXNzOiAnb3dsLWRvdHMnLFxuXHRcdGRvdHM6IHRydWUsXG5cdFx0ZG90c0VhY2g6IGZhbHNlLFxuXHRcdGRvdHNEYXRhOiBmYWxzZSxcblx0XHRkb3RzU3BlZWQ6IGZhbHNlLFxuXHRcdGRvdHNDb250YWluZXI6IGZhbHNlXG5cdH07XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBsYXlvdXQgb2YgdGhlIHBsdWdpbiBhbmQgZXh0ZW5kcyB0aGUgY2Fyb3VzZWwuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdE5hdmlnYXRpb24ucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3ZlcnJpZGUsXG5cdFx0XHRzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3M7XG5cblx0XHQvLyBjcmVhdGUgRE9NIHN0cnVjdHVyZSBmb3IgcmVsYXRpdmUgbmF2aWdhdGlvblxuXHRcdHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZSA9IChzZXR0aW5ncy5uYXZDb250YWluZXIgPyAkKHNldHRpbmdzLm5hdkNvbnRhaW5lcilcblx0XHRcdDogJCgnPGRpdj4nKS5hZGRDbGFzcyhzZXR0aW5ncy5uYXZDb250YWluZXJDbGFzcykuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuXG5cdFx0dGhpcy5fY29udHJvbHMuJHByZXZpb3VzID0gJCgnPCcgKyBzZXR0aW5ncy5uYXZFbGVtZW50ICsgJz4nKVxuXHRcdFx0LmFkZENsYXNzKHNldHRpbmdzLm5hdkNsYXNzWzBdKVxuXHRcdFx0Lmh0bWwoc2V0dGluZ3MubmF2VGV4dFswXSlcblx0XHRcdC5wcmVwZW5kVG8odGhpcy5fY29udHJvbHMuJHJlbGF0aXZlKVxuXHRcdFx0Lm9uKCdjbGljaycsICQucHJveHkoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHR0aGlzLnByZXYoc2V0dGluZ3MubmF2U3BlZWQpO1xuXHRcdFx0fSwgdGhpcykpO1xuXHRcdHRoaXMuX2NvbnRyb2xzLiRuZXh0ID0gJCgnPCcgKyBzZXR0aW5ncy5uYXZFbGVtZW50ICsgJz4nKVxuXHRcdFx0LmFkZENsYXNzKHNldHRpbmdzLm5hdkNsYXNzWzFdKVxuXHRcdFx0Lmh0bWwoc2V0dGluZ3MubmF2VGV4dFsxXSlcblx0XHRcdC5hcHBlbmRUbyh0aGlzLl9jb250cm9scy4kcmVsYXRpdmUpXG5cdFx0XHQub24oJ2NsaWNrJywgJC5wcm94eShmdW5jdGlvbihlKSB7XG5cdFx0XHRcdHRoaXMubmV4dChzZXR0aW5ncy5uYXZTcGVlZCk7XG5cdFx0XHR9LCB0aGlzKSk7XG5cblx0XHQvLyBjcmVhdGUgRE9NIHN0cnVjdHVyZSBmb3IgYWJzb2x1dGUgbmF2aWdhdGlvblxuXHRcdGlmICghc2V0dGluZ3MuZG90c0RhdGEpIHtcblx0XHRcdHRoaXMuX3RlbXBsYXRlcyA9IFsgJCgnPGRpdj4nKVxuXHRcdFx0XHQuYWRkQ2xhc3Moc2V0dGluZ3MuZG90Q2xhc3MpXG5cdFx0XHRcdC5hcHBlbmQoJCgnPHNwYW4+JykpXG5cdFx0XHRcdC5wcm9wKCdvdXRlckhUTUwnKSBdO1xuXHRcdH1cblxuXHRcdHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZSA9IChzZXR0aW5ncy5kb3RzQ29udGFpbmVyID8gJChzZXR0aW5ncy5kb3RzQ29udGFpbmVyKVxuXHRcdFx0OiAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmRvdHNDbGFzcykuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuXG5cdFx0dGhpcy5fY29udHJvbHMuJGFic29sdXRlLm9uKCdjbGljaycsICdkaXYnLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcblx0XHRcdHZhciBpbmRleCA9ICQoZS50YXJnZXQpLnBhcmVudCgpLmlzKHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZSlcblx0XHRcdFx0PyAkKGUudGFyZ2V0KS5pbmRleCgpIDogJChlLnRhcmdldCkucGFyZW50KCkuaW5kZXgoKTtcblxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR0aGlzLnRvKGluZGV4LCBzZXR0aW5ncy5kb3RzU3BlZWQpO1xuXHRcdH0sIHRoaXMpKTtcblxuXHRcdC8vIG92ZXJyaWRlIHB1YmxpYyBtZXRob2RzIG9mIHRoZSBjYXJvdXNlbFxuXHRcdGZvciAob3ZlcnJpZGUgaW4gdGhpcy5fb3ZlcnJpZGVzKSB7XG5cdFx0XHR0aGlzLl9jb3JlW292ZXJyaWRlXSA9ICQucHJveHkodGhpc1tvdmVycmlkZV0sIHRoaXMpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRGVzdHJveXMgdGhlIHBsdWdpbi5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0TmF2aWdhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBoYW5kbGVyLCBjb250cm9sLCBwcm9wZXJ0eSwgb3ZlcnJpZGU7XG5cblx0XHRmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcblx0XHRcdHRoaXMuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcblx0XHR9XG5cdFx0Zm9yIChjb250cm9sIGluIHRoaXMuX2NvbnRyb2xzKSB7XG5cdFx0XHR0aGlzLl9jb250cm9sc1tjb250cm9sXS5yZW1vdmUoKTtcblx0XHR9XG5cdFx0Zm9yIChvdmVycmlkZSBpbiB0aGlzLm92ZXJpZGVzKSB7XG5cdFx0XHR0aGlzLl9jb3JlW292ZXJyaWRlXSA9IHRoaXMuX292ZXJyaWRlc1tvdmVycmlkZV07XG5cdFx0fVxuXHRcdGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcblx0XHRcdHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogVXBkYXRlcyB0aGUgaW50ZXJuYWwgc3RhdGUuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdE5hdmlnYXRpb24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpLCBqLCBrLFxuXHRcdFx0bG93ZXIgPSB0aGlzLl9jb3JlLmNsb25lcygpLmxlbmd0aCAvIDIsXG5cdFx0XHR1cHBlciA9IGxvd2VyICsgdGhpcy5fY29yZS5pdGVtcygpLmxlbmd0aCxcblx0XHRcdG1heGltdW0gPSB0aGlzLl9jb3JlLm1heGltdW0odHJ1ZSksXG5cdFx0XHRzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3MsXG5cdFx0XHRzaXplID0gc2V0dGluZ3MuY2VudGVyIHx8IHNldHRpbmdzLmF1dG9XaWR0aCB8fCBzZXR0aW5ncy5kb3RzRGF0YVxuXHRcdFx0XHQ/IDEgOiBzZXR0aW5ncy5kb3RzRWFjaCB8fCBzZXR0aW5ncy5pdGVtcztcblxuXHRcdGlmIChzZXR0aW5ncy5zbGlkZUJ5ICE9PSAncGFnZScpIHtcblx0XHRcdHNldHRpbmdzLnNsaWRlQnkgPSBNYXRoLm1pbihzZXR0aW5ncy5zbGlkZUJ5LCBzZXR0aW5ncy5pdGVtcyk7XG5cdFx0fVxuXG5cdFx0aWYgKHNldHRpbmdzLmRvdHMgfHwgc2V0dGluZ3Muc2xpZGVCeSA9PSAncGFnZScpIHtcblx0XHRcdHRoaXMuX3BhZ2VzID0gW107XG5cblx0XHRcdGZvciAoaSA9IGxvd2VyLCBqID0gMCwgayA9IDA7IGkgPCB1cHBlcjsgaSsrKSB7XG5cdFx0XHRcdGlmIChqID49IHNpemUgfHwgaiA9PT0gMCkge1xuXHRcdFx0XHRcdHRoaXMuX3BhZ2VzLnB1c2goe1xuXHRcdFx0XHRcdFx0c3RhcnQ6IE1hdGgubWluKG1heGltdW0sIGkgLSBsb3dlciksXG5cdFx0XHRcdFx0XHRlbmQ6IGkgLSBsb3dlciArIHNpemUgLSAxXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKE1hdGgubWluKG1heGltdW0sIGkgLSBsb3dlcikgPT09IG1heGltdW0pIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRqID0gMCwgKytrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGogKz0gdGhpcy5fY29yZS5tZXJnZXJzKHRoaXMuX2NvcmUucmVsYXRpdmUoaSkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgdGhlIHVzZXIgaW50ZXJmYWNlLlxuXHQgKiBAdG9kbyBUaGUgb3B0aW9uIGBkb3RzRGF0YWAgd29udCB3b3JrLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHROYXZpZ2F0aW9uLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGRpZmZlcmVuY2UsXG5cdFx0XHRzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3MsXG5cdFx0XHRkaXNhYmxlZCA9IHRoaXMuX2NvcmUuaXRlbXMoKS5sZW5ndGggPD0gc2V0dGluZ3MuaXRlbXMsXG5cdFx0XHRpbmRleCA9IHRoaXMuX2NvcmUucmVsYXRpdmUodGhpcy5fY29yZS5jdXJyZW50KCkpLFxuXHRcdFx0bG9vcCA9IHNldHRpbmdzLmxvb3AgfHwgc2V0dGluZ3MucmV3aW5kO1xuXG5cdFx0dGhpcy5fY29udHJvbHMuJHJlbGF0aXZlLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsICFzZXR0aW5ncy5uYXYgfHwgZGlzYWJsZWQpO1xuXG5cdFx0aWYgKHNldHRpbmdzLm5hdikge1xuXHRcdFx0dGhpcy5fY29udHJvbHMuJHByZXZpb3VzLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsICFsb29wICYmIGluZGV4IDw9IHRoaXMuX2NvcmUubWluaW11bSh0cnVlKSk7XG5cdFx0XHR0aGlzLl9jb250cm9scy4kbmV4dC50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhbG9vcCAmJiBpbmRleCA+PSB0aGlzLl9jb3JlLm1heGltdW0odHJ1ZSkpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhc2V0dGluZ3MuZG90cyB8fCBkaXNhYmxlZCk7XG5cblx0XHRpZiAoc2V0dGluZ3MuZG90cykge1xuXHRcdFx0ZGlmZmVyZW5jZSA9IHRoaXMuX3BhZ2VzLmxlbmd0aCAtIHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5jaGlsZHJlbigpLmxlbmd0aDtcblxuXHRcdFx0aWYgKHNldHRpbmdzLmRvdHNEYXRhICYmIGRpZmZlcmVuY2UgIT09IDApIHtcblx0XHRcdFx0dGhpcy5fY29udHJvbHMuJGFic29sdXRlLmh0bWwodGhpcy5fdGVtcGxhdGVzLmpvaW4oJycpKTtcblx0XHRcdH0gZWxzZSBpZiAoZGlmZmVyZW5jZSA+IDApIHtcblx0XHRcdFx0dGhpcy5fY29udHJvbHMuJGFic29sdXRlLmFwcGVuZChuZXcgQXJyYXkoZGlmZmVyZW5jZSArIDEpLmpvaW4odGhpcy5fdGVtcGxhdGVzWzBdKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGRpZmZlcmVuY2UgPCAwKSB7XG5cdFx0XHRcdHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5jaGlsZHJlbigpLnNsaWNlKGRpZmZlcmVuY2UpLnJlbW92ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHRcdHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5jaGlsZHJlbigpLmVxKCQuaW5BcnJheSh0aGlzLmN1cnJlbnQoKSwgdGhpcy5fcGFnZXMpKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBFeHRlbmRzIGV2ZW50IGRhdGEuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgb2JqZWN0IHdoaWNoIGdldHMgdGhyb3duLlxuXHQgKi9cblx0TmF2aWdhdGlvbi5wcm90b3R5cGUub25UcmlnZ2VyID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR2YXIgc2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzO1xuXG5cdFx0ZXZlbnQucGFnZSA9IHtcblx0XHRcdGluZGV4OiAkLmluQXJyYXkodGhpcy5jdXJyZW50KCksIHRoaXMuX3BhZ2VzKSxcblx0XHRcdGNvdW50OiB0aGlzLl9wYWdlcy5sZW5ndGgsXG5cdFx0XHRzaXplOiBzZXR0aW5ncyAmJiAoc2V0dGluZ3MuY2VudGVyIHx8IHNldHRpbmdzLmF1dG9XaWR0aCB8fCBzZXR0aW5ncy5kb3RzRGF0YVxuXHRcdFx0XHQ/IDEgOiBzZXR0aW5ncy5kb3RzRWFjaCB8fCBzZXR0aW5ncy5pdGVtcylcblx0XHR9O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBjdXJyZW50IHBhZ2UgcG9zaXRpb24gb2YgdGhlIGNhcm91c2VsLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9XG5cdCAqL1xuXHROYXZpZ2F0aW9uLnByb3RvdHlwZS5jdXJyZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGN1cnJlbnQgPSB0aGlzLl9jb3JlLnJlbGF0aXZlKHRoaXMuX2NvcmUuY3VycmVudCgpKTtcblx0XHRyZXR1cm4gJC5ncmVwKHRoaXMuX3BhZ2VzLCAkLnByb3h5KGZ1bmN0aW9uKHBhZ2UsIGluZGV4KSB7XG5cdFx0XHRyZXR1cm4gcGFnZS5zdGFydCA8PSBjdXJyZW50ICYmIHBhZ2UuZW5kID49IGN1cnJlbnQ7XG5cdFx0fSwgdGhpcykpLnBvcCgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBjdXJyZW50IHN1Y2Nlc29yL3ByZWRlY2Vzc29yIHBvc2l0aW9uLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9XG5cdCAqL1xuXHROYXZpZ2F0aW9uLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHN1Y2Nlc3Nvcikge1xuXHRcdHZhciBwb3NpdGlvbiwgbGVuZ3RoLFxuXHRcdFx0c2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzO1xuXG5cdFx0aWYgKHNldHRpbmdzLnNsaWRlQnkgPT0gJ3BhZ2UnKSB7XG5cdFx0XHRwb3NpdGlvbiA9ICQuaW5BcnJheSh0aGlzLmN1cnJlbnQoKSwgdGhpcy5fcGFnZXMpO1xuXHRcdFx0bGVuZ3RoID0gdGhpcy5fcGFnZXMubGVuZ3RoO1xuXHRcdFx0c3VjY2Vzc29yID8gKytwb3NpdGlvbiA6IC0tcG9zaXRpb247XG5cdFx0XHRwb3NpdGlvbiA9IHRoaXMuX3BhZ2VzWygocG9zaXRpb24gJSBsZW5ndGgpICsgbGVuZ3RoKSAlIGxlbmd0aF0uc3RhcnQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBvc2l0aW9uID0gdGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSk7XG5cdFx0XHRsZW5ndGggPSB0aGlzLl9jb3JlLml0ZW1zKCkubGVuZ3RoO1xuXHRcdFx0c3VjY2Vzc29yID8gcG9zaXRpb24gKz0gc2V0dGluZ3Muc2xpZGVCeSA6IHBvc2l0aW9uIC09IHNldHRpbmdzLnNsaWRlQnk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBvc2l0aW9uO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTbGlkZXMgdG8gdGhlIG5leHQgaXRlbSBvciBwYWdlLlxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWQ9ZmFsc2VdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cblx0ICovXG5cdE5hdmlnYXRpb24ucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbihzcGVlZCkge1xuXHRcdCQucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLCB0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKHRydWUpLCBzcGVlZCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFNsaWRlcyB0byB0aGUgcHJldmlvdXMgaXRlbSBvciBwYWdlLlxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWQ9ZmFsc2VdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cblx0ICovXG5cdE5hdmlnYXRpb24ucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbihzcGVlZCkge1xuXHRcdCQucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLCB0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKGZhbHNlKSwgc3BlZWQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTbGlkZXMgdG8gdGhlIHNwZWNpZmllZCBpdGVtIG9yIHBhZ2UuXG5cdCAqIEBwdWJsaWNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIG9yIHBhZ2UuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cblx0ICogQHBhcmFtIHtCb29sZWFufSBbc3RhbmRhcmQ9ZmFsc2VdIC0gV2hldGhlciB0byB1c2UgdGhlIHN0YW5kYXJkIGJlaGF2aW91ciBvciBub3QuXG5cdCAqL1xuXHROYXZpZ2F0aW9uLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBzcGVlZCwgc3RhbmRhcmQpIHtcblx0XHR2YXIgbGVuZ3RoO1xuXG5cdFx0aWYgKCFzdGFuZGFyZCAmJiB0aGlzLl9wYWdlcy5sZW5ndGgpIHtcblx0XHRcdGxlbmd0aCA9IHRoaXMuX3BhZ2VzLmxlbmd0aDtcblx0XHRcdCQucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLCB0aGlzLl9jb3JlKSh0aGlzLl9wYWdlc1soKHBvc2l0aW9uICUgbGVuZ3RoKSArIGxlbmd0aCkgJSBsZW5ndGhdLnN0YXJ0LCBzcGVlZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLCB0aGlzLl9jb3JlKShwb3NpdGlvbiwgc3BlZWQpO1xuXHRcdH1cblx0fTtcblxuXHQkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuTmF2aWdhdGlvbiA9IE5hdmlnYXRpb247XG5cbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyoqXG4gKiBIYXNoIFBsdWdpblxuICogQHZlcnNpb24gMi4xLjBcbiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraVxuICogQGF1dGhvciBTYXVyYWJoIFNoYXJtYVxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKi9cbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHQvKipcblx0ICogQ3JlYXRlcyB0aGUgaGFzaCBwbHVnaW4uXG5cdCAqIEBjbGFzcyBUaGUgSGFzaCBQbHVnaW5cblx0ICogQHBhcmFtIHtPd2x9IGNhcm91c2VsIC0gVGhlIE93bCBDYXJvdXNlbFxuXHQgKi9cblx0dmFyIEhhc2ggPSBmdW5jdGlvbihjYXJvdXNlbCkge1xuXHRcdC8qKlxuXHRcdCAqIFJlZmVyZW5jZSB0byB0aGUgY29yZS5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge093bH1cblx0XHQgKi9cblx0XHR0aGlzLl9jb3JlID0gY2Fyb3VzZWw7XG5cblx0XHQvKipcblx0XHQgKiBIYXNoIGluZGV4IGZvciB0aGUgaXRlbXMuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICovXG5cdFx0dGhpcy5faGFzaGVzID0ge307XG5cblx0XHQvKipcblx0XHQgKiBUaGUgY2Fyb3VzZWwgZWxlbWVudC5cblx0XHQgKiBAdHlwZSB7alF1ZXJ5fVxuXHRcdCAqL1xuXHRcdHRoaXMuJGVsZW1lbnQgPSB0aGlzLl9jb3JlLiRlbGVtZW50O1xuXG5cdFx0LyoqXG5cdFx0ICogQWxsIGV2ZW50IGhhbmRsZXJzLlxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqL1xuXHRcdHRoaXMuX2hhbmRsZXJzID0ge1xuXHRcdFx0J2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5zdGFydFBvc2l0aW9uID09PSAnVVJMSGFzaCcpIHtcblx0XHRcdFx0XHQkKHdpbmRvdykudHJpZ2dlcignaGFzaGNoYW5nZS5vd2wubmF2aWdhdGlvbicpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKSxcblx0XHRcdCdwcmVwYXJlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0aWYgKGUubmFtZXNwYWNlKSB7XG5cdFx0XHRcdFx0dmFyIGhhc2ggPSAkKGUuY29udGVudCkuZmluZCgnW2RhdGEtaGFzaF0nKS5hZGRCYWNrKCdbZGF0YS1oYXNoXScpLmF0dHIoJ2RhdGEtaGFzaCcpO1xuXG5cdFx0XHRcdFx0aWYgKCFoYXNoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5faGFzaGVzW2hhc2hdID0gZS5jb250ZW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKSxcblx0XHRcdCdjaGFuZ2VkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09PSAncG9zaXRpb24nKSB7XG5cdFx0XHRcdFx0dmFyIGN1cnJlbnQgPSB0aGlzLl9jb3JlLml0ZW1zKHRoaXMuX2NvcmUucmVsYXRpdmUodGhpcy5fY29yZS5jdXJyZW50KCkpKSxcblx0XHRcdFx0XHRcdGhhc2ggPSAkLm1hcCh0aGlzLl9oYXNoZXMsIGZ1bmN0aW9uKGl0ZW0sIGhhc2gpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGl0ZW0gPT09IGN1cnJlbnQgPyBoYXNoIDogbnVsbDtcblx0XHRcdFx0XHRcdH0pLmpvaW4oKTtcblxuXHRcdFx0XHRcdGlmICghaGFzaCB8fCB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSA9PT0gaGFzaCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcylcblx0XHR9O1xuXG5cdFx0Ly8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuXHRcdHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBIYXNoLkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xuXG5cdFx0Ly8gcmVnaXN0ZXIgdGhlIGV2ZW50IGhhbmRsZXJzXG5cdFx0dGhpcy4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XG5cblx0XHQvLyByZWdpc3RlciBldmVudCBsaXN0ZW5lciBmb3IgaGFzaCBuYXZpZ2F0aW9uXG5cdFx0JCh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uJywgJC5wcm94eShmdW5jdGlvbihlKSB7XG5cdFx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSxcblx0XHRcdFx0aXRlbXMgPSB0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLFxuXHRcdFx0XHRwb3NpdGlvbiA9IHRoaXMuX2hhc2hlc1toYXNoXSAmJiBpdGVtcy5pbmRleCh0aGlzLl9oYXNoZXNbaGFzaF0pO1xuXG5cdFx0XHRpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA9PT0gdGhpcy5fY29yZS5jdXJyZW50KCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9jb3JlLnRvKHRoaXMuX2NvcmUucmVsYXRpdmUocG9zaXRpb24pLCBmYWxzZSwgdHJ1ZSk7XG5cdFx0fSwgdGhpcykpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZWZhdWx0IG9wdGlvbnMuXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdEhhc2guRGVmYXVsdHMgPSB7XG5cdFx0VVJMaGFzaExpc3RlbmVyOiBmYWxzZVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZXN0cm95cyB0aGUgcGx1Z2luLlxuXHQgKiBAcHVibGljXG5cdCAqL1xuXHRIYXNoLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhhbmRsZXIsIHByb3BlcnR5O1xuXG5cdFx0JCh3aW5kb3cpLm9mZignaGFzaGNoYW5nZS5vd2wubmF2aWdhdGlvbicpO1xuXG5cdFx0Zm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XG5cdFx0XHR0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLl9oYW5kbGVyc1toYW5kbGVyXSk7XG5cdFx0fVxuXHRcdGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcblx0XHRcdHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xuXHRcdH1cblx0fTtcblxuXHQkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuSGFzaCA9IEhhc2g7XG5cbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcblxuLyoqXG4gKiBTdXBwb3J0IFBsdWdpblxuICpcbiAqIEB2ZXJzaW9uIDIuMS4wXG4gKiBAYXV0aG9yIFZpdmlkIFBsYW5ldCBTb2Z0d2FyZSBHbWJIXG4gKiBAYXV0aG9yIEFydHVzIEtvbGFub3dza2lcbiAqIEBhdXRob3IgU2F1cmFiaCBTaGFybWFcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICovXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG5cdHZhciBzdHlsZSA9ICQoJzxzdXBwb3J0PicpLmdldCgwKS5zdHlsZSxcblx0XHRwcmVmaXhlcyA9ICdXZWJraXQgTW96IE8gbXMnLnNwbGl0KCcgJyksXG5cdFx0ZXZlbnRzID0ge1xuXHRcdFx0dHJhbnNpdGlvbjoge1xuXHRcdFx0XHRlbmQ6IHtcblx0XHRcdFx0XHRXZWJraXRUcmFuc2l0aW9uOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG5cdFx0XHRcdFx0TW96VHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnLFxuXHRcdFx0XHRcdE9UcmFuc2l0aW9uOiAnb1RyYW5zaXRpb25FbmQnLFxuXHRcdFx0XHRcdHRyYW5zaXRpb246ICd0cmFuc2l0aW9uZW5kJ1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0YW5pbWF0aW9uOiB7XG5cdFx0XHRcdGVuZDoge1xuXHRcdFx0XHRcdFdlYmtpdEFuaW1hdGlvbjogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG5cdFx0XHRcdFx0TW96QW5pbWF0aW9uOiAnYW5pbWF0aW9uZW5kJyxcblx0XHRcdFx0XHRPQW5pbWF0aW9uOiAnb0FuaW1hdGlvbkVuZCcsXG5cdFx0XHRcdFx0YW5pbWF0aW9uOiAnYW5pbWF0aW9uZW5kJ1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR0ZXN0cyA9IHtcblx0XHRcdGNzc3RyYW5zZm9ybXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISF0ZXN0KCd0cmFuc2Zvcm0nKTtcblx0XHRcdH0sXG5cdFx0XHRjc3N0cmFuc2Zvcm1zM2Q6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISF0ZXN0KCdwZXJzcGVjdGl2ZScpO1xuXHRcdFx0fSxcblx0XHRcdGNzc3RyYW5zaXRpb25zOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhdGVzdCgndHJhbnNpdGlvbicpO1xuXHRcdFx0fSxcblx0XHRcdGNzc2FuaW1hdGlvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISF0ZXN0KCdhbmltYXRpb24nKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdGZ1bmN0aW9uIHRlc3QocHJvcGVydHksIHByZWZpeGVkKSB7XG5cdFx0dmFyIHJlc3VsdCA9IGZhbHNlLFxuXHRcdFx0dXBwZXIgPSBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXG5cdFx0JC5lYWNoKChwcm9wZXJ0eSArICcgJyArIHByZWZpeGVzLmpvaW4odXBwZXIgKyAnICcpICsgdXBwZXIpLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGksIHByb3BlcnR5KSB7XG5cdFx0XHRpZiAoc3R5bGVbcHJvcGVydHldICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmVzdWx0ID0gcHJlZml4ZWQgPyBwcm9wZXJ0eSA6IHRydWU7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVmaXhlZChwcm9wZXJ0eSkge1xuXHRcdHJldHVybiB0ZXN0KHByb3BlcnR5LCB0cnVlKTtcblx0fVxuXG5cdGlmICh0ZXN0cy5jc3N0cmFuc2l0aW9ucygpKSB7XG5cdFx0LyoganNoaW50IC1XMDUzICovXG5cdFx0JC5zdXBwb3J0LnRyYW5zaXRpb24gPSBuZXcgU3RyaW5nKHByZWZpeGVkKCd0cmFuc2l0aW9uJykpXG5cdFx0JC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kID0gZXZlbnRzLnRyYW5zaXRpb24uZW5kWyAkLnN1cHBvcnQudHJhbnNpdGlvbiBdO1xuXHR9XG5cblx0aWYgKHRlc3RzLmNzc2FuaW1hdGlvbnMoKSkge1xuXHRcdC8qIGpzaGludCAtVzA1MyAqL1xuXHRcdCQuc3VwcG9ydC5hbmltYXRpb24gPSBuZXcgU3RyaW5nKHByZWZpeGVkKCdhbmltYXRpb24nKSlcblx0XHQkLnN1cHBvcnQuYW5pbWF0aW9uLmVuZCA9IGV2ZW50cy5hbmltYXRpb24uZW5kWyAkLnN1cHBvcnQuYW5pbWF0aW9uIF07XG5cdH1cblxuXHRpZiAodGVzdHMuY3NzdHJhbnNmb3JtcygpKSB7XG5cdFx0LyoganNoaW50IC1XMDUzICovXG5cdFx0JC5zdXBwb3J0LnRyYW5zZm9ybSA9IG5ldyBTdHJpbmcocHJlZml4ZWQoJ3RyYW5zZm9ybScpKTtcblx0XHQkLnN1cHBvcnQudHJhbnNmb3JtM2QgPSB0ZXN0cy5jc3N0cmFuc2Zvcm1zM2QoKTtcblx0fVxuXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLy8gaHRtbDpcclxuLy8gICAgIC5jb2xsYXBzZS1jb250YW5lclxyXG4vLyAgICAgICAgIC5zb21ldGhpbmctdmlzaWJsZVxyXG4vLyAgICAgICAgIC5jb2xsYXBzZS1pdGVtXHJcblxyXG4kKGZ1bmN0aW9uKCl7XHJcbiAgICAkKCcuY29sbGFwc2UtY29udGFpbmVyJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBfdGhpc0Jsb2NrID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgY29sbGFwc2UgPSBfdGhpc0Jsb2NrLmZpbmQoJy5jb2xsYXBzZScpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAkKGNvbGxhcHNlKS5ub3QoJy5jb2xsYXBzZS1zaG93JykuZmluZCgnLmNvbGxhcHNlLWl0ZW0nKS5zbGlkZVVwKCdmYXN0Jyk7XHJcbiAgICAgICAgJChjb2xsYXBzZSkuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnY29sbGFwc2Utc2hvdycpLmZpbmQoJy5jb2xsYXBzZS1pdGVtJykuc2xpZGVUb2dnbGUoJ2Zhc3QnKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfSlcclxufSkiLCIvL2N1c3RvbS1zZWxlY3QgXHJcbi8vIGh0bWwgOlxyXG4vLyAuY3VzdG9tLXNlbGVjdFxyXG4vLyAgICAgaW5wdXQjY3VzdG9tX3NlbGVjdF9pbnB1dFxyXG4vLyAgICAgLmZha2VfaW5wdXRcclxuLy8gICAgIHVsXHJcbi8vICAgICAgICAgbGkuc2VsZWN0ZWQoZGF0YS12YWx1ZT1cImJsYWJsYVwiKSBibGFibGFcclxuLy8gICAgICAgICBsaShkYXRhLXZhbHVlPVwiYmxhYmxhMVwiKSBibGFibGExXHJcbi8vICAgICAgICAgbGkoZGF0YS12YWx1ZT1cImJsYWJsYTJcIikgYmxhYmxhMlxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5jdXN0b20tc2VsZWN0JykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgZmFrZUlucHV0ID0gX3RoaXMuZmluZCgnLmZha2VfaW5wdXQnKSxcclxuICAgICAgICAgICAgaW5wdXRIaWRkZW4gPSBfdGhpcy5maW5kKCcuY3VzdG9tX3NlbGVjdF9pbnB1dCcpLFxyXG4gICAgICAgICAgICBzZWxlY3RlZCA9IF90aGlzLmZpbmQoJ2xpLnNlbGVjdGVkJyksXHJcbiAgICAgICAgICAgIGVycm9yQ2xhc3MgPSAnaGFzLWVycm9yJyxcclxuICAgICAgICAgICAgX29wZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGRDbGFzcygnc2VsZWN0LW9wZW4nKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2xvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVDbGFzcygnc2VsZWN0LW9wZW4nKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2hhbmdlU2xlY3RlZCA9IGZ1bmN0aW9uIChlbGVtKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5maW5kKCdsaScpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgJChlbGVtKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3VwZGF0ZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IHZhbCB8fCAnc2VsZWN0ZWQgbm90IGZvdW5kJztcclxuICAgICAgICAgICAgICAgIGZha2VJbnB1dC50ZXh0KHZhbCk7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEhpZGRlbi52YWwodmFsKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlucHV0SGlkZGVuLnZhbCgpKTtcclxuICAgICAgICAgICAgICAgIF92YWxpZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3ZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZha2VJbnB1dC50ZXh0KCkudHJpbSgpID09IFwi6aCF55uu44KS6YG45oqe44GX44Gm44GP44Gg44GV44GEXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dEhpZGRlbi5hZGRDbGFzcyhlcnJvckNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dEhpZGRlbi52YWwoJycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dEhpZGRlbi5yZW1vdmVDbGFzcyhlcnJvckNsYXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF91cGRhdGUoX3RoaXMuZmluZChzZWxlY3RlZCkuZGF0YSgndmFsdWUnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vaW5pdFxyXG4gICAgICAgIF9pbml0KCk7XHJcblxyXG4gICAgICAgIC8vaGFuZGxlXHJcbiAgICAgICAgZmFrZUlucHV0Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX29wZW4oKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBfdGhpcy5vbignY2xpY2snLCAnbGknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSAkKHRoaXMpLmRhdGEoJ3ZhbHVlJyk7XHJcbiAgICAgICAgICAgIF9jaGFuZ2VTbGVjdGVkKHRoaXMpO1xyXG4gICAgICAgICAgICBfdXBkYXRlKHZhbCk7XHJcbiAgICAgICAgICAgIF9jbG9zZSgpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljayB0b3VjaHN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGNsaWNrZWQgb3V0c2lkZSB0YXJnZXRcclxuICAgICAgICAgICAgaWYgKCEoJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCIuY3VzdG9tLXNlbGVjdFwiKS5sZW5ndGgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWRlIHRhcmdldFxyXG4gICAgICAgICAgICAgICAgX2Nsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pXHJcbn0pIiwiLy9jb250YWN0LWZvcm1cclxuLy8gaW1wb3J0IHsgbnVtYmVyRm9ybWF0fSBmcm9tICcuLi9oZWxwZXIvaGVscGVyLmpzJztcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIFBvc3RhbF9jb2RlID0gcmVxdWlyZSgnamFwYW4tcG9zdGFsLWNvZGUnKSxcclxuICAgICAgICB7IHNjcm9sbFRvWCB9ID0gcmVxdWlyZSgnLi4vaGVscGVyL2hlbHBlci5qcycpLFxyXG4gICAgICAgIHsgY2hlY2tXaW5kb3dTUCB9ID0gcmVxdWlyZSgnLi4vaGVscGVyL2hlbHBlcicpLFxyXG4gICAgICAgIGJvZHlTY3JvbGxMb2NrID0gcmVxdWlyZSgnYm9keS1zY3JvbGwtbG9jaycpLFxyXG4gICAgICAgIGRpc2FibGVCb2R5U2Nyb2xsID0gYm9keVNjcm9sbExvY2suZGlzYWJsZUJvZHlTY3JvbGwsXHJcbiAgICAgICAgZW5hYmxlQm9keVNjcm9sbCA9IGJvZHlTY3JvbGxMb2NrLmVuYWJsZUJvZHlTY3JvbGwsXHJcbiAgICAgICAgdGFyZ2V0RWxlbWVudCA9ICQoXCIuc3RlcC1vdmVybGF5XCIpWzBdLFxyXG4gICAgICAgIGNvZGUsXHJcbiAgICAgICAgYWRkcmVzc1Jlc3BvbnNlLFxyXG4gICAgICAgIFByZWZlY3R1cmUsXHJcbiAgICAgICAgQWRkcmVzcz0kKCcjYWRkcmVzcycpLFxyXG4gICAgICAgIGNvbXBhbnksXHJcbiAgICAgICAgcmVxdWVzdCxcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIHppcGNvZGUsXHJcbiAgICAgICAgYWRkcmVzcyxcclxuICAgICAgICBwaG9uZSxcclxuICAgICAgICBmYXgsXHJcbiAgICAgICAgZW1haWwsXHJcbiAgICAgICAgcXVlc3Rpb24sXHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0UHJldmlldyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0VGV4dChpZCwgdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEhdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoYCNwcmV2aWV3XyR7aWR9YCkudGV4dCh0ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAkKGAjcHJldmlld18ke2lkfWApLnBhcmVudHMoJ3RyJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaWQsIFwiIDogXCIsIHRleHQpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb21wYW55ICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55JykudmFsdWUsXHJcbiAgICAgICAgICAgIHJlcXVlc3QgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1yZXF1ZXN0XTpjaGVja2VkJykudmFsdWUsXHJcbiAgICAgICAgICAgIG5hbWUgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKS52YWx1ZSxcclxuICAgICAgICAgICAgemlwY29kZSAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnemlwY29kZScpLnZhbHVlLFxyXG4gICAgICAgICAgICBhZGRyZXNzICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRyZXNzJykudmFsdWUsXHJcbiAgICAgICAgICAgIHBob25lICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lJykudmFsdWUsXHJcbiAgICAgICAgICAgIGZheCAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZheCcpLnZhbHVlLFxyXG4gICAgICAgICAgICBlbWFpbCAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpLnZhbHVlLFxyXG4gICAgICAgICAgICBxdWVzdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbl9pbnB1dCcpLnZhbHVlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgWydjb21wYW55JywgJ3JlcXVlc3QnLCAnbmFtZScsJ3ppcGNvZGUnLCdhZGRyZXNzJywncGhvbmUnLCdmYXgnLCdlbWFpbCcsJ3F1ZXN0aW9uJ11cclxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgICAgICBzZXRUZXh0KGl0ZW0sIGV2YWwoaXRlbSkpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmICggY2hlY2tXaW5kb3dTUCgpICkgXHJcbiAgICAgICAgICAgICAgICAkKCcudGFibGUtcHJldmlldycpLmNzcygnbWFyZ2luLXRvcCcsICQoJy5maXhlZCcpLmhlaWdodCgpKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3VibWl0Q2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkKFwiLmZvcm0tc3VibWl0IC5mYVwiKS5hZGRDbGFzcyhcImZhLXNwaW5uZXIgZmEtc3BpblwiKTtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogXCJtYWlsLnBocFwiLFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWN0X2Zvcm06IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGFueSxcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgemlwY29kZSxcclxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgIHBob25lLFxyXG4gICAgICAgICAgICAgICAgICAgIGZheCxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBxdWVzdGlvblxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5mb3JtLXN1Ym1pdCAuZmFcIikucmVtb3ZlQ2xhc3MoXCJmYS1zcGlubmVyIGZhLXNwaW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5mb3JtLXN1Ym1pdCAuZmFcIikuYWRkQ2xhc3MoXCJmYS1jaGVja1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuc3RlcDInKS5yZW1vdmVDbGFzcygnc3RlcC1zaG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnN0ZXAzJykuYWRkQ2xhc3MoJ3N0ZXAtc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFjdC0tZm9ybVwiKS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcih4aHIsIHN0YXR1cywgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5mb3JtLXN1Ym1pdCAuZmFcIikucmVtb3ZlQ2xhc3MoXCJmYS1zcGlubmVyIGZhLXNwaW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5mb3JtLXN1Ym1pdCAuZmFcIikuYWRkQ2xhc3MoXCJmYS1leGNsYW1hdGlvblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuc3RlcDInKS5yZW1vdmVDbGFzcygnc3RlcC1zaG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnN0ZXAzJykuYWRkQ2xhc3MoJ3N0ZXAtc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5jb250YWN0LWNvbXBsZXRlLW1lc3NhZ2UnKS5odG1sKCdTb21ldGhpbmcgd3JvbmchJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgLy9cclxuICAgICQoJy5zdGVwMiwgLnN0ZXAzJykucmVtb3ZlQ2xhc3MoJ3N0ZXAtc2hvdycpO1xyXG4gICAgLy9nZXQgYWRkcmVzcyBmcm9tIHBvc3RhbC1jb2RlXHJcbiAgICAkKCcuZ2V0LXppcGNvZGUnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb2RlID0gJCgnI3ppcGNvZGUnKS52YWwoKSxcclxuICAgICAgICAgICAgUG9zdGFsX2NvZGUuZ2V0KGNvZGUsIGZ1bmN0aW9uIChhZGRyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhZGRyZXNzKVxyXG4gICAgICAgICAgICAgICAgYWRkcmVzc1Jlc3BvbnNlID0gYWRkcmVzcy5wcmVmZWN0dXJlICsgJyAnICsgYWRkcmVzcy5jaXR5ICsgJyAnKyBhZGRyZXNzLmFyZWEgKyAnICcgKyBhZGRyZXNzLnN0cmVldDtcclxuICAgICAgICAgICAgICAgIC8vIGFkZHJlc3NSZXNwb25zZSA9IGFkZHJlc3NSZXNwb25zZS5yZXBsYWNlKC8sXFxzKiQvLCBcIlwiKTsgLy8gcmVtb3ZlIGxhc3QgY29tbWFcclxuICAgICAgICAgICAgICAgIEFkZHJlc3MudmFsKGFkZHJlc3NSZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSlcclxuICAgICQoXCIjY29udGFjdC0tZm9ybVwiKS52YWxpZGF0ZSh7XHJcbiAgICAgICAgZm9jdXNJbnZhbGlkOiB0cnVlLFxyXG4gICAgICAgIGlnbm9yZTogJycsXHJcbiAgICAgICAgcnVsZXM6IHtcclxuICAgICAgICAgICAgLy9rZXkgaXMgbmFtZSBvZiBpbnB1dFxyXG4gICAgICAgICAgICByZXF1ZXN0OiBcInJlcXVpcmVkXCIsXHJcbiAgICAgICAgICAgIG5hbWU6IFwicmVxdWlyZWRcIixcclxuICAgICAgICAgICAgcGhvbmU6IHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbnVtYmVyOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZheDp7XHJcbiAgICAgICAgICAgICAgICBudW1iZXI6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW1haWw6IHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZV9lbWFpbDoge1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBlcXVhbFRvOiBcIiNlbWFpbFwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHF1ZXN0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1pbmxlbmd0aDogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlcnJvclBsYWNlbWVudDogZnVuY3Rpb24gKGVycm9yLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhpZ2hsaWdodDogZnVuY3Rpb24gKGVsZW1lbnQsIGVycm9yQ2xhc3MsIHZhbGlkQ2xhc3MpIHtcclxuICAgICAgICAgICAgJChlbGVtZW50KS5hZGRDbGFzcyhcImhhcy1lcnJvclwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVuaGlnaGxpZ2h0OiBmdW5jdGlvbiAoZWxlbWVudCwgZXJyb3JDbGFzcywgdmFsaWRDbGFzcykge1xyXG4gICAgICAgICAgICAkKGVsZW1lbnQpLnJlbW92ZUNsYXNzKFwiaGFzLWVycm9yXCIpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIuZm9ybS1zdWJtaXQgLmZhXCIpLmF0dHIoJ2NsYXNzJywgJ2ZhJyk7XHJcbiAgICAgICAgICAgICQoJy5zdGVwLW92ZXJsYXknKS5hZGRDbGFzcygnc2hvdycpO1xyXG4gICAgICAgICAgICBjaGVja1dpbmRvd1NQKCkgPyBkaXNhYmxlQm9keVNjcm9sbCh0YXJnZXRFbGVtZW50KSA6ICcnO1xyXG4gICAgICAgICAgICBzZXRQcmV2aWV3KCk7XHJcbiAgICAgICAgICAgIHZhciBmb3JtU2Nyb2xsdG9wID0gJCgnLmNvbnRhY3QtdGFibGUnKS5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvWChmb3JtU2Nyb2xsdG9wKTtcclxuICAgICAgICAgICAgJCgnLnN0ZXAyJykuYWRkQ2xhc3MoJ3N0ZXAtc2hvdycpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vaGFuZGxlIGV2ZW50XHJcbiAgICAkKCcuZm9ybS1iYWNrLCAuZm9ybS1lbmQnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy5zdGVwLW92ZXJsYXknKS5yZW1vdmVDbGFzcygnc2hvdycpO1xyXG4gICAgICAgICQoJy5zdGVwMiwgLnN0ZXAzJykucmVtb3ZlQ2xhc3MoJ3N0ZXAtc2hvdycpO1xyXG4gICAgICAgIGVuYWJsZUJvZHlTY3JvbGwodGFyZ2V0RWxlbWVudCk7XHJcbiAgICAgICAgJCgnLnRhYmxlLXByZXZpZXcgdHInKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcbiAgICB9KVxyXG4gICAgJCgnLmZvcm0tc3VibWl0JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICBzdWJtaXRDYWxsYmFjaygpO1xyXG4gICAgfSlcclxuICAgIFxyXG5cclxufSlcclxuIiwiJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgLy9nby10b3AgYnV0dG9uXHJcbiAgICAkKFwiI2dvLXRvcCwgLmdvLXRvcFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogMFxyXG4gICAgICAgIH0sIFwic2xvd1wiKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL2dvdG8gI2lkXHJcbiAgICAvLyBlZzogICA8YSBocmVmPVwiI2V4YW1wbGVcIiBjbGFzcz1cImdvLXRvXCI+Z28gdG88L2E+XHJcbiAgICAkKFwiYS5nby10b1tocmVmXj0nIyddXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQoJyNtZW51JykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cclxuICAgICAgICB2YXIgdGFyZ2V0ID0gJCgkKHRoaXMpLmF0dHIoJ2hyZWYnKSk7XHJcbiAgICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGZpeGVkSGVpZ2h0ID0gJCgnLmZpeGVkJykuaGVpZ2h0KCkgfHwgMDtcclxuICAgICAgICAgICAgdmFyIHBvcyA9IHRhcmdldC5vZmZzZXQoKS50b3AgLSBmaXhlZEhlaWdodDtcclxuICAgICAgICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IHBvc1xyXG4gICAgICAgICAgICB9LCBcInNsb3dcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcbiIsIlxyXG4vL2FkZCBtYXhsZW5ndGggYXR0ciB0byBpbnB1dFtudW1iZXJdXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgJChcImlucHV0W3R5cGU9J251bWJlciddW21heGxlbmd0aF1cIikub24oJ2tleXVwIGtleWRvd24ga2V5cHJlc3MgYmx1ciBjaGFuZ2UgaW5wdXQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDggfHwgZS5rZXlDb2RlID09PSA5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aCA8ICt0aGlzLmF0dHJpYnV0ZXMubWF4bGVuZ3RoLnZhbHVlO1xyXG4gICAgfSk7XHJcbn0pXHJcbiIsIi8vPT09PSBqcy10YWIgPT09PS8vXHJcbi8vIC5qcy10YWJcclxuLy8gICAgIHVsLmpzLXRhYm5hdlxyXG4vLyAgICAgICAgIGFbaHJlZj1cIiN0YWIxXCJdXHJcbi8vICAgICAgICAgYVtocmVmPVwiI3RhYjJcIl1cclxuLy8gICAgIC5qcy10YWItY29udGVudFxyXG4vLyAgICAgICAgICN0YWIxLnRhYi1wYW5lbC5mYWRlLmluXHJcbi8vICAgICAgICAgI3RhYjIudGFiLXBhbmVsLmZhZGVcclxuJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgJCgnLmpzLXRhYicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIG5hdiA9IF90aGlzLmZpbmQoJy5qcy10YWJuYXYnKTtcclxuICAgICAgICB2YXIgaGFuZGxlQ2xpY2sgPSAnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyAndG91Y2hzdGFydCcgOiAnY2xpY2snO1xyXG4gICAgICAgICQobmF2KS5vbihoYW5kbGVDbGljaywgXCJhW2hyZWZePScjJ11cIiwgZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJChuYXYpLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKCQodGhpcykuYXR0cignaHJlZicpKTtcclxuICAgICAgICAgICAgdGFyZ2V0LnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2luJyk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICB0YXJnZXQuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5hZGRDbGFzcygnaW4nKTtcclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSkiLCIvL21vYmlsZSBuYXYgYnV0dG9uXHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcubmF2LXRvZ2dsZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJyNtZW51JykudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG59KSIsIi8vLS0tLXN0aWNreS1oZWFkZXJcclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCgnLnN0aWNreS1oZWFkZXInKS5sZW5ndGgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSAkKCcuc3RpY2t5LWhlYWRlcicpO1xyXG4gICAgICAgIHZhciBhZnRlckZpeGVkID0gJCgnLmpzLWFmdGVyLWZpeGVkJyk7XHJcbiAgICAgICAgLy8gX3RoaXMuYWZ0ZXIoYWZ0ZXJGaXhlZCk7XHJcbiAgICAgICAgaWYgKGFmdGVyRml4ZWQpIHtcclxuICAgICAgICAgICAgYWZ0ZXJGaXhlZC5jc3MoJ3BhZGRpbmctdG9wJywgJCgnLmZpeGVkJykuaGVpZ2h0KCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdmFyIHN0aWNreVBvcyA9IF90aGlzLm9mZnNldCgpLnRvcDtcclxuICAgICAgICAvLyAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gOTkyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID49IHN0aWNreVBvcykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIF90aGlzLmFkZENsYXNzKCdmaXhlZCcpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICQoJy5hZnRlci1maXhlZCcpLmNzcygncGFkZGluZy10b3AnLCAkKCcuZml4ZWQnKS5oZWlnaHQoKSk7XHJcbiAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIF90aGlzLnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICQoJy5hZnRlci1maXhlZCcpLmNzcygncGFkZGluZy10b3AnLCAnMHB4Jyk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICBfdGhpcy5yZW1vdmVDbGFzcygnZml4ZWQnKTtcclxuICAgICAgICAvLyAgICAgICAgICQoJy5hZnRlci1maXhlZCcpLmNzcygncGFkZGluZy10b3AnLCAnMHB4Jyk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KVxyXG4gICAgfVxyXG59KSIsIi8vcmUgdHVybiBudW1iZXIgbGlrZTogMTIzLTEyMzQtMTIzNFxyXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyRm9ybWF0KG51bWJlciwgc2xpY2UgPSAzLCBzZXBhdGF0ZSA9ICctJykge1xyXG4gICAgdmFyIGFyciA9IFtdLFxyXG4gICAgICAgIHRlbXAgPSBudW1iZXIuc3BsaXQoJycpLnJldmVyc2UoKTtcclxuICAgIHRlbXAuZm9yRWFjaChmdW5jdGlvbiAoZWwsIGkpIHtcclxuICAgICAgICAoaSArIDEpICUgc2xpY2UgPT0gMCAmJiBpICE9IDAgPyBhcnIucHVzaChlbCkgJiYgYXJyLnB1c2goc2VwYXRhdGUpIDogYXJyLnB1c2goZWwpXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGFyci5yZXZlcnNlKCkuam9pbignJyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxUb1goc2Nyb2xsVG8sIGFuaW1hdGUgPSB0cnVlLCBjbGVhckZpeGVkSGVpZ2h0ID0gdHJ1ZSkge1xyXG4gICAgdmFyIHBvcyA9IGNsZWFyRml4ZWRIZWlnaHQgP1xyXG4gICAgICAgIHNjcm9sbFRvIC0gJCgnLmZpeGVkJykuaGVpZ2h0KCkgOlxyXG4gICAgICAgIHNjcm9sbFRvO1xyXG4gICAgdmFyIHRpbWUgPSBhbmltYXRlID8gJ3Nsb3cnIDogMTA7XHJcbiAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHtcclxuICAgICAgICBzY3JvbGxUb3A6IHBvc1xyXG4gICAgfSwgdGltZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja1dpbmRvd1NQKCkge1xyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCkge1xyXG4gICAgdmFyIHRpbWVvdXQ7XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMsXHJcbiAgICAgICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG4gICAgICAgIHZhciBleGVjdXRlRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGV4ZWN1dGVGdW5jdGlvbiwgd2FpdCk7XHJcbiAgICB9O1xyXG59OyIsImltcG9ydCB7IGNoZWNrV2luZG93U1AsIGRlYm91bmNlIH0gZnJvbSBcIi4uL2hlbHBlci9oZWxwZXJcIjtcclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBvd2xDYXJvdXNlbCA9IHJlcXVpcmUoJ293bC5jYXJvdXNlbDInKTtcclxuICAgIHZhciBvd2wgPSAkKCcuc2xpZGVyLWNhc2UnKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2xpZGVJbml0KCkge1xyXG4gICAgICAgIG93bC5vbignaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIGNoYW5nZWQub3dsLmNhcm91c2VsIHJlc2l6ZWQub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAkKGUudGFyZ2V0KS50b2dnbGVDbGFzcygnaGlkZS1vd2wtbmV4dCcsIGUuaXRlbS5pbmRleCA+PSBlLml0ZW0uY291bnQgLSBlLnBhZ2Uuc2l6ZSk7XHJcbiAgICAgICAgICAgICQoZS50YXJnZXQpLnRvZ2dsZUNsYXNzKCdoaWRlLW93bC1wcmV2JywgZS5pdGVtLmluZGV4ID09IDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG93bC5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgICAgIGl0ZW1zOiAxLFxyXG4gICAgICAgICAgICByZXNwb25zaXZlOiB7XHJcbiAgICAgICAgICAgICAgICA3Njg6IHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtczogMlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJld2luZDogdHJ1ZSxcclxuICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICBhdXRvcGxheVRpbWVvdXQ6IDIwMDAsXHJcbiAgICAgICAgICAgIGF1dG9wbGF5SG92ZXJQYXVzZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHNtYXJ0U3BlZWQ6IDUwMCwgLy9zbGlkZSBzcGVlZCBzbW9vdGhcclxuICAgICAgICAgICAgbWFyZ2luOiAxLFxyXG4gICAgICAgICAgICAvLyBzdGFnZVBhZGRpbmc6IDUwLFxyXG4gICAgICAgICAgICAvLyBhdXRvV2lkdGg6IHRydWUsXHJcbiAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxyXG4gICAgICAgICAgICBuYXY6IHRydWUsXHJcbiAgICAgICAgICAgIG5hdlRleHQ6IFsnPGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1sZWZ0XCI+PGkvPicsICc8aSBjbGFzcz1cImZhIGZhLWFuZ2xlLXJpZ2h0XCI+PGkvPiddLFxyXG4gICAgICAgICAgICBjZW50ZXI6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoY2hlY2tXaW5kb3dTUCgpKSB7XHJcbiAgICAgICAgc2xpZGVJbml0KClcclxuICAgIH1cclxuICAgICQod2luZG93KS5vbigncmVzaXplJywgZGVib3VuY2UoZnVuY3Rpb24oKXtcclxuICAgICAgICBpZiAoY2hlY2tXaW5kb3dTUCgpKSB7XHJcbiAgICAgICAgICAgIHNsaWRlSW5pdCgpO1xyXG4gICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgICAgb3dsLm93bENhcm91c2VsKCdkZXN0cm95Jyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkc3Ryb3knKVxyXG4gICAgICAgIH1cclxuICAgIH0sIDIwMCkpXHJcbn0pOyIsIi8qIVxyXG4gKiBqUXVlcnkgVmFsaWRhdGlvbiBQbHVnaW4gdjEuMTcuMFxyXG4gKlxyXG4gKiBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL1xyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgSsO2cm4gWmFlZmZlcmVyXHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKi9cclxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XHJcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XHJcblx0XHRkZWZpbmUoW1wianF1ZXJ5XCJdLCBmYWN0b3J5KTtcclxuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwianF1ZXJ5XCIpKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZmFjdG9yeShqUXVlcnkpO1xyXG5cdH1cclxufShmdW5jdGlvbiAoJCkge1xyXG5cclxuXHQkLmV4dGVuZCgkLmZuLCB7XHJcblxyXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy92YWxpZGF0ZS9cclxuXHRcdHZhbGlkYXRlOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cclxuXHRcdFx0Ly8gSWYgbm90aGluZyBpcyBzZWxlY3RlZCwgcmV0dXJuIG5vdGhpbmc7IGNhbid0IGNoYWluIGFueXdheVxyXG5cdFx0XHRpZiAoIXRoaXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5kZWJ1ZyAmJiB3aW5kb3cuY29uc29sZSkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKFwiTm90aGluZyBzZWxlY3RlZCwgY2FuJ3QgdmFsaWRhdGUsIHJldHVybmluZyBub3RoaW5nLlwiKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDaGVjayBpZiBhIHZhbGlkYXRvciBmb3IgdGhpcyBmb3JtIHdhcyBhbHJlYWR5IGNyZWF0ZWRcclxuXHRcdFx0dmFyIHZhbGlkYXRvciA9ICQuZGF0YSh0aGlzWzBdLCBcInZhbGlkYXRvclwiKTtcclxuXHRcdFx0aWYgKHZhbGlkYXRvcikge1xyXG5cdFx0XHRcdHJldHVybiB2YWxpZGF0b3I7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEFkZCBub3ZhbGlkYXRlIHRhZyBpZiBIVE1MNS5cclxuXHRcdFx0dGhpcy5hdHRyKFwibm92YWxpZGF0ZVwiLCBcIm5vdmFsaWRhdGVcIik7XHJcblxyXG5cdFx0XHR2YWxpZGF0b3IgPSBuZXcgJC52YWxpZGF0b3Iob3B0aW9ucywgdGhpc1swXSk7XHJcblx0XHRcdCQuZGF0YSh0aGlzWzBdLCBcInZhbGlkYXRvclwiLCB2YWxpZGF0b3IpO1xyXG5cclxuXHRcdFx0aWYgKHZhbGlkYXRvci5zZXR0aW5ncy5vbnN1Ym1pdCkge1xyXG5cclxuXHRcdFx0XHR0aGlzLm9uKFwiY2xpY2sudmFsaWRhdGVcIiwgXCI6c3VibWl0XCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG5cclxuXHRcdFx0XHRcdC8vIFRyYWNrIHRoZSB1c2VkIHN1Ym1pdCBidXR0b24gdG8gcHJvcGVybHkgaGFuZGxlIHNjcmlwdGVkXHJcblx0XHRcdFx0XHQvLyBzdWJtaXRzIGxhdGVyLlxyXG5cdFx0XHRcdFx0dmFsaWRhdG9yLnN1Ym1pdEJ1dHRvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQWxsb3cgc3VwcHJlc3NpbmcgdmFsaWRhdGlvbiBieSBhZGRpbmcgYSBjYW5jZWwgY2xhc3MgdG8gdGhlIHN1Ym1pdCBidXR0b25cclxuXHRcdFx0XHRcdGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiY2FuY2VsXCIpKSB7XHJcblx0XHRcdFx0XHRcdHZhbGlkYXRvci5jYW5jZWxTdWJtaXQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIEFsbG93IHN1cHByZXNzaW5nIHZhbGlkYXRpb24gYnkgYWRkaW5nIHRoZSBodG1sNSBmb3Jtbm92YWxpZGF0ZSBhdHRyaWJ1dGUgdG8gdGhlIHN1Ym1pdCBidXR0b25cclxuXHRcdFx0XHRcdGlmICgkKHRoaXMpLmF0dHIoXCJmb3Jtbm92YWxpZGF0ZVwiKSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRcdHZhbGlkYXRvci5jYW5jZWxTdWJtaXQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBWYWxpZGF0ZSB0aGUgZm9ybSBvbiBzdWJtaXRcclxuXHRcdFx0XHR0aGlzLm9uKFwic3VibWl0LnZhbGlkYXRlXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG5cdFx0XHRcdFx0aWYgKHZhbGlkYXRvci5zZXR0aW5ncy5kZWJ1Zykge1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gUHJldmVudCBmb3JtIHN1Ym1pdCB0byBiZSBhYmxlIHRvIHNlZSBjb25zb2xlIG91dHB1dFxyXG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIGhhbmRsZSgpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGhpZGRlbiwgcmVzdWx0O1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gSW5zZXJ0IGEgaGlkZGVuIGlucHV0IGFzIGEgcmVwbGFjZW1lbnQgZm9yIHRoZSBtaXNzaW5nIHN1Ym1pdCBidXR0b25cclxuXHRcdFx0XHRcdFx0Ly8gVGhlIGhpZGRlbiBpbnB1dCBpcyBpbnNlcnRlZCBpbiB0d28gY2FzZXM6XHJcblx0XHRcdFx0XHRcdC8vICAgLSBBIHVzZXIgZGVmaW5lZCBhIGBzdWJtaXRIYW5kbGVyYFxyXG5cdFx0XHRcdFx0XHQvLyAgIC0gVGhlcmUgd2FzIGEgcGVuZGluZyByZXF1ZXN0IGR1ZSB0byBgcmVtb3RlYCBtZXRob2QgYW5kIGBzdG9wUmVxdWVzdCgpYFxyXG5cdFx0XHRcdFx0XHQvLyAgICAgd2FzIGNhbGxlZCB0byBzdWJtaXQgdGhlIGZvcm0gaW4gY2FzZSBpdCdzIHZhbGlkXHJcblx0XHRcdFx0XHRcdGlmICh2YWxpZGF0b3Iuc3VibWl0QnV0dG9uICYmICh2YWxpZGF0b3Iuc2V0dGluZ3Muc3VibWl0SGFuZGxlciB8fCB2YWxpZGF0b3IuZm9ybVN1Ym1pdHRlZCkpIHtcclxuXHRcdFx0XHRcdFx0XHRoaWRkZW4gPSAkKFwiPGlucHV0IHR5cGU9J2hpZGRlbicvPlwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0LmF0dHIoXCJuYW1lXCIsIHZhbGlkYXRvci5zdWJtaXRCdXR0b24ubmFtZSlcclxuXHRcdFx0XHRcdFx0XHRcdC52YWwoJCh2YWxpZGF0b3Iuc3VibWl0QnV0dG9uKS52YWwoKSlcclxuXHRcdFx0XHRcdFx0XHRcdC5hcHBlbmRUbyh2YWxpZGF0b3IuY3VycmVudEZvcm0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAodmFsaWRhdG9yLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXIpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bHQgPSB2YWxpZGF0b3Iuc2V0dGluZ3Muc3VibWl0SGFuZGxlci5jYWxsKHZhbGlkYXRvciwgdmFsaWRhdG9yLmN1cnJlbnRGb3JtLCBldmVudCk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGhpZGRlbikge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdC8vIEFuZCBjbGVhbiB1cCBhZnRlcndhcmRzOyB0aGFua3MgdG8gbm8tYmxvY2stc2NvcGUsIGhpZGRlbiBjYW4gYmUgcmVmZXJlbmNlZFxyXG5cdFx0XHRcdFx0XHRcdFx0aGlkZGVuLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBQcmV2ZW50IHN1Ym1pdCBmb3IgaW52YWxpZCBmb3JtcyBvciBjdXN0b20gc3VibWl0IGhhbmRsZXJzXHJcblx0XHRcdFx0XHRpZiAodmFsaWRhdG9yLmNhbmNlbFN1Ym1pdCkge1xyXG5cdFx0XHRcdFx0XHR2YWxpZGF0b3IuY2FuY2VsU3VibWl0ID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdHJldHVybiBoYW5kbGUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICh2YWxpZGF0b3IuZm9ybSgpKSB7XHJcblx0XHRcdFx0XHRcdGlmICh2YWxpZGF0b3IucGVuZGluZ1JlcXVlc3QpIHtcclxuXHRcdFx0XHRcdFx0XHR2YWxpZGF0b3IuZm9ybVN1Ym1pdHRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHJldHVybiBoYW5kbGUoKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHZhbGlkYXRvci5mb2N1c0ludmFsaWQoKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdmFsaWRhdG9yO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL3ZhbGlkL1xyXG5cdFx0dmFsaWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIHZhbGlkLCB2YWxpZGF0b3IsIGVycm9yTGlzdDtcclxuXHJcblx0XHRcdGlmICgkKHRoaXNbMF0pLmlzKFwiZm9ybVwiKSkge1xyXG5cdFx0XHRcdHZhbGlkID0gdGhpcy52YWxpZGF0ZSgpLmZvcm0oKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRlcnJvckxpc3QgPSBbXTtcclxuXHRcdFx0XHR2YWxpZCA9IHRydWU7XHJcblx0XHRcdFx0dmFsaWRhdG9yID0gJCh0aGlzWzBdLmZvcm0pLnZhbGlkYXRlKCk7XHJcblx0XHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHZhbGlkID0gdmFsaWRhdG9yLmVsZW1lbnQodGhpcykgJiYgdmFsaWQ7XHJcblx0XHRcdFx0XHRpZiAoIXZhbGlkKSB7XHJcblx0XHRcdFx0XHRcdGVycm9yTGlzdCA9IGVycm9yTGlzdC5jb25jYXQodmFsaWRhdG9yLmVycm9yTGlzdCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0dmFsaWRhdG9yLmVycm9yTGlzdCA9IGVycm9yTGlzdDtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdmFsaWQ7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvcnVsZXMvXHJcblx0XHRydWxlczogZnVuY3Rpb24gKGNvbW1hbmQsIGFyZ3VtZW50KSB7XHJcblx0XHRcdHZhciBlbGVtZW50ID0gdGhpc1swXSxcclxuXHRcdFx0XHRzZXR0aW5ncywgc3RhdGljUnVsZXMsIGV4aXN0aW5nUnVsZXMsIGRhdGEsIHBhcmFtLCBmaWx0ZXJlZDtcclxuXHJcblx0XHRcdC8vIElmIG5vdGhpbmcgaXMgc2VsZWN0ZWQsIHJldHVybiBlbXB0eSBvYmplY3Q7IGNhbid0IGNoYWluIGFueXdheVxyXG5cdFx0XHRpZiAoZWxlbWVudCA9PSBudWxsKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIWVsZW1lbnQuZm9ybSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkge1xyXG5cdFx0XHRcdGVsZW1lbnQuZm9ybSA9IHRoaXMuY2xvc2VzdChcImZvcm1cIilbMF07XHJcblx0XHRcdFx0ZWxlbWVudC5uYW1lID0gdGhpcy5hdHRyKFwibmFtZVwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGVsZW1lbnQuZm9ybSA9PSBudWxsKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoY29tbWFuZCkge1xyXG5cdFx0XHRcdHNldHRpbmdzID0gJC5kYXRhKGVsZW1lbnQuZm9ybSwgXCJ2YWxpZGF0b3JcIikuc2V0dGluZ3M7XHJcblx0XHRcdFx0c3RhdGljUnVsZXMgPSBzZXR0aW5ncy5ydWxlcztcclxuXHRcdFx0XHRleGlzdGluZ1J1bGVzID0gJC52YWxpZGF0b3Iuc3RhdGljUnVsZXMoZWxlbWVudCk7XHJcblx0XHRcdFx0c3dpdGNoIChjb21tYW5kKSB7XHJcblx0XHRcdFx0XHRjYXNlIFwiYWRkXCI6XHJcblx0XHRcdFx0XHRcdCQuZXh0ZW5kKGV4aXN0aW5nUnVsZXMsICQudmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUoYXJndW1lbnQpKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFJlbW92ZSBtZXNzYWdlcyBmcm9tIHJ1bGVzLCBidXQgYWxsb3cgdGhlbSB0byBiZSBzZXQgc2VwYXJhdGVseVxyXG5cdFx0XHRcdFx0XHRkZWxldGUgZXhpc3RpbmdSdWxlcy5tZXNzYWdlcztcclxuXHRcdFx0XHRcdFx0c3RhdGljUnVsZXNbZWxlbWVudC5uYW1lXSA9IGV4aXN0aW5nUnVsZXM7XHJcblx0XHRcdFx0XHRcdGlmIChhcmd1bWVudC5tZXNzYWdlcykge1xyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLm1lc3NhZ2VzW2VsZW1lbnQubmFtZV0gPSAkLmV4dGVuZChzZXR0aW5ncy5tZXNzYWdlc1tlbGVtZW50Lm5hbWVdLCBhcmd1bWVudC5tZXNzYWdlcyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlIFwicmVtb3ZlXCI6XHJcblx0XHRcdFx0XHRcdGlmICghYXJndW1lbnQpIHtcclxuXHRcdFx0XHRcdFx0XHRkZWxldGUgc3RhdGljUnVsZXNbZWxlbWVudC5uYW1lXTtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZXhpc3RpbmdSdWxlcztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRmaWx0ZXJlZCA9IHt9O1xyXG5cdFx0XHRcdFx0XHQkLmVhY2goYXJndW1lbnQuc3BsaXQoL1xccy8pLCBmdW5jdGlvbiAoaW5kZXgsIG1ldGhvZCkge1xyXG5cdFx0XHRcdFx0XHRcdGZpbHRlcmVkW21ldGhvZF0gPSBleGlzdGluZ1J1bGVzW21ldGhvZF07XHJcblx0XHRcdFx0XHRcdFx0ZGVsZXRlIGV4aXN0aW5nUnVsZXNbbWV0aG9kXTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmaWx0ZXJlZDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGRhdGEgPSAkLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlcyhcclxuXHRcdFx0XHQkLmV4dGVuZCh7fSxcclxuXHRcdFx0XHRcdCQudmFsaWRhdG9yLmNsYXNzUnVsZXMoZWxlbWVudCksXHJcblx0XHRcdFx0XHQkLnZhbGlkYXRvci5hdHRyaWJ1dGVSdWxlcyhlbGVtZW50KSxcclxuXHRcdFx0XHRcdCQudmFsaWRhdG9yLmRhdGFSdWxlcyhlbGVtZW50KSxcclxuXHRcdFx0XHRcdCQudmFsaWRhdG9yLnN0YXRpY1J1bGVzKGVsZW1lbnQpXHJcblx0XHRcdFx0KSwgZWxlbWVudCk7XHJcblxyXG5cdFx0XHQvLyBNYWtlIHN1cmUgcmVxdWlyZWQgaXMgYXQgZnJvbnRcclxuXHRcdFx0aWYgKGRhdGEucmVxdWlyZWQpIHtcclxuXHRcdFx0XHRwYXJhbSA9IGRhdGEucmVxdWlyZWQ7XHJcblx0XHRcdFx0ZGVsZXRlIGRhdGEucmVxdWlyZWQ7XHJcblx0XHRcdFx0ZGF0YSA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0XHRcdHJlcXVpcmVkOiBwYXJhbVxyXG5cdFx0XHRcdH0sIGRhdGEpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBNYWtlIHN1cmUgcmVtb3RlIGlzIGF0IGJhY2tcclxuXHRcdFx0aWYgKGRhdGEucmVtb3RlKSB7XHJcblx0XHRcdFx0cGFyYW0gPSBkYXRhLnJlbW90ZTtcclxuXHRcdFx0XHRkZWxldGUgZGF0YS5yZW1vdGU7XHJcblx0XHRcdFx0ZGF0YSA9ICQuZXh0ZW5kKGRhdGEsIHtcclxuXHRcdFx0XHRcdHJlbW90ZTogcGFyYW1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdC8vIEN1c3RvbSBzZWxlY3RvcnNcclxuXHQkLmV4dGVuZCgkLmV4cHIucHNldWRvcyB8fCAkLmV4cHJbXCI6XCJdLCB7IC8vICd8fCAkLmV4cHJbIFwiOlwiIF0nIGhlcmUgZW5hYmxlcyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0byBqUXVlcnkgMS43LiBDYW4gYmUgcmVtb3ZlZCB3aGVuIGRyb3BwaW5nIGpRIDEuNy54IHN1cHBvcnRcclxuXHJcblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2JsYW5rLXNlbGVjdG9yL1xyXG5cdFx0Ymxhbms6IGZ1bmN0aW9uIChhKSB7XHJcblx0XHRcdHJldHVybiAhJC50cmltKFwiXCIgKyAkKGEpLnZhbCgpKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9maWxsZWQtc2VsZWN0b3IvXHJcblx0XHRmaWxsZWQ6IGZ1bmN0aW9uIChhKSB7XHJcblx0XHRcdHZhciB2YWwgPSAkKGEpLnZhbCgpO1xyXG5cdFx0XHRyZXR1cm4gdmFsICE9PSBudWxsICYmICEhJC50cmltKFwiXCIgKyB2YWwpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL3VuY2hlY2tlZC1zZWxlY3Rvci9cclxuXHRcdHVuY2hlY2tlZDogZnVuY3Rpb24gKGEpIHtcclxuXHRcdFx0cmV0dXJuICEkKGEpLnByb3AoXCJjaGVja2VkXCIpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHQvLyBDb25zdHJ1Y3RvciBmb3IgdmFsaWRhdG9yXHJcblx0JC52YWxpZGF0b3IgPSBmdW5jdGlvbiAob3B0aW9ucywgZm9ybSkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9ICQuZXh0ZW5kKHRydWUsIHt9LCAkLnZhbGlkYXRvci5kZWZhdWx0cywgb3B0aW9ucyk7XHJcblx0XHR0aGlzLmN1cnJlbnRGb3JtID0gZm9ybTtcclxuXHRcdHRoaXMuaW5pdCgpO1xyXG5cdH07XHJcblxyXG5cdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvalF1ZXJ5LnZhbGlkYXRvci5mb3JtYXQvXHJcblx0JC52YWxpZGF0b3IuZm9ybWF0ID0gZnVuY3Rpb24gKHNvdXJjZSwgcGFyYW1zKSB7XHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciBhcmdzID0gJC5tYWtlQXJyYXkoYXJndW1lbnRzKTtcclxuXHRcdFx0XHRhcmdzLnVuc2hpZnQoc291cmNlKTtcclxuXHRcdFx0XHRyZXR1cm4gJC52YWxpZGF0b3IuZm9ybWF0LmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0aWYgKHBhcmFtcyA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiBzb3VyY2U7XHJcblx0XHR9XHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgcGFyYW1zLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xyXG5cdFx0XHRwYXJhbXMgPSAkLm1ha2VBcnJheShhcmd1bWVudHMpLnNsaWNlKDEpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHBhcmFtcy5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuXHRcdFx0cGFyYW1zID0gW3BhcmFtc107XHJcblx0XHR9XHJcblx0XHQkLmVhY2gocGFyYW1zLCBmdW5jdGlvbiAoaSwgbikge1xyXG5cdFx0XHRzb3VyY2UgPSBzb3VyY2UucmVwbGFjZShuZXcgUmVnRXhwKFwiXFxcXHtcIiArIGkgKyBcIlxcXFx9XCIsIFwiZ1wiKSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHJldHVybiBuO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHNvdXJjZTtcclxuXHR9O1xyXG5cclxuXHQkLmV4dGVuZCgkLnZhbGlkYXRvciwge1xyXG5cclxuXHRcdGRlZmF1bHRzOiB7XHJcblx0XHRcdG1lc3NhZ2VzOiB7fSxcclxuXHRcdFx0Z3JvdXBzOiB7fSxcclxuXHRcdFx0cnVsZXM6IHt9LFxyXG5cdFx0XHRlcnJvckNsYXNzOiBcImVycm9yXCIsXHJcblx0XHRcdHBlbmRpbmdDbGFzczogXCJwZW5kaW5nXCIsXHJcblx0XHRcdHZhbGlkQ2xhc3M6IFwidmFsaWRcIixcclxuXHRcdFx0ZXJyb3JFbGVtZW50OiBcImxhYmVsXCIsXHJcblx0XHRcdGZvY3VzQ2xlYW51cDogZmFsc2UsXHJcblx0XHRcdGZvY3VzSW52YWxpZDogdHJ1ZSxcclxuXHRcdFx0ZXJyb3JDb250YWluZXI6ICQoW10pLFxyXG5cdFx0XHRlcnJvckxhYmVsQ29udGFpbmVyOiAkKFtdKSxcclxuXHRcdFx0b25zdWJtaXQ6IHRydWUsXHJcblx0XHRcdGlnbm9yZTogXCI6aGlkZGVuXCIsXHJcblx0XHRcdGlnbm9yZVRpdGxlOiBmYWxzZSxcclxuXHRcdFx0b25mb2N1c2luOiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG5cdFx0XHRcdHRoaXMubGFzdEFjdGl2ZSA9IGVsZW1lbnQ7XHJcblxyXG5cdFx0XHRcdC8vIEhpZGUgZXJyb3IgbGFiZWwgYW5kIHJlbW92ZSBlcnJvciBjbGFzcyBvbiBmb2N1cyBpZiBlbmFibGVkXHJcblx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZm9jdXNDbGVhbnVwKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0LmNhbGwodGhpcywgZWxlbWVudCwgdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLCB0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhpcy5oaWRlVGhlc2UodGhpcy5lcnJvcnNGb3IoZWxlbWVudCkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0b25mb2N1c291dDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHRcdFx0XHRpZiAoIXRoaXMuY2hlY2thYmxlKGVsZW1lbnQpICYmIChlbGVtZW50Lm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQgfHwgIXRoaXMub3B0aW9uYWwoZWxlbWVudCkpKSB7XHJcblx0XHRcdFx0XHR0aGlzLmVsZW1lbnQoZWxlbWVudCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRvbmtleXVwOiBmdW5jdGlvbiAoZWxlbWVudCwgZXZlbnQpIHtcclxuXHJcblx0XHRcdFx0Ly8gQXZvaWQgcmV2YWxpZGF0ZSB0aGUgZmllbGQgd2hlbiBwcmVzc2luZyBvbmUgb2YgdGhlIGZvbGxvd2luZyBrZXlzXHJcblx0XHRcdFx0Ly8gU2hpZnQgICAgICAgPT4gMTZcclxuXHRcdFx0XHQvLyBDdHJsICAgICAgICA9PiAxN1xyXG5cdFx0XHRcdC8vIEFsdCAgICAgICAgID0+IDE4XHJcblx0XHRcdFx0Ly8gQ2FwcyBsb2NrICAgPT4gMjBcclxuXHRcdFx0XHQvLyBFbmQgICAgICAgICA9PiAzNVxyXG5cdFx0XHRcdC8vIEhvbWUgICAgICAgID0+IDM2XHJcblx0XHRcdFx0Ly8gTGVmdCBhcnJvdyAgPT4gMzdcclxuXHRcdFx0XHQvLyBVcCBhcnJvdyAgICA9PiAzOFxyXG5cdFx0XHRcdC8vIFJpZ2h0IGFycm93ID0+IDM5XHJcblx0XHRcdFx0Ly8gRG93biBhcnJvdyAgPT4gNDBcclxuXHRcdFx0XHQvLyBJbnNlcnQgICAgICA9PiA0NVxyXG5cdFx0XHRcdC8vIE51bSBsb2NrICAgID0+IDE0NFxyXG5cdFx0XHRcdC8vIEFsdEdyIGtleSAgID0+IDIyNVxyXG5cdFx0XHRcdHZhciBleGNsdWRlZEtleXMgPSBbXHJcblx0XHRcdFx0XHQxNiwgMTcsIDE4LCAyMCwgMzUsIDM2LCAzNyxcclxuXHRcdFx0XHRcdDM4LCAzOSwgNDAsIDQ1LCAxNDQsIDIyNVxyXG5cdFx0XHRcdF07XHJcblxyXG5cdFx0XHRcdGlmIChldmVudC53aGljaCA9PT0gOSAmJiB0aGlzLmVsZW1lbnRWYWx1ZShlbGVtZW50KSA9PT0gXCJcIiB8fCAkLmluQXJyYXkoZXZlbnQua2V5Q29kZSwgZXhjbHVkZWRLZXlzKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGVsZW1lbnQubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZCB8fCBlbGVtZW50Lm5hbWUgaW4gdGhpcy5pbnZhbGlkKSB7XHJcblx0XHRcdFx0XHR0aGlzLmVsZW1lbnQoZWxlbWVudCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRvbmNsaWNrOiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG5cclxuXHRcdFx0XHQvLyBDbGljayBvbiBzZWxlY3RzLCByYWRpb2J1dHRvbnMgYW5kIGNoZWNrYm94ZXNcclxuXHRcdFx0XHRpZiAoZWxlbWVudC5uYW1lIGluIHRoaXMuc3VibWl0dGVkKSB7XHJcblx0XHRcdFx0XHR0aGlzLmVsZW1lbnQoZWxlbWVudCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gT3Igb3B0aW9uIGVsZW1lbnRzLCBjaGVjayBwYXJlbnQgc2VsZWN0IGluIHRoYXQgY2FzZVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoZWxlbWVudC5wYXJlbnROb2RlLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQpIHtcclxuXHRcdFx0XHRcdHRoaXMuZWxlbWVudChlbGVtZW50LnBhcmVudE5vZGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0aGlnaGxpZ2h0OiBmdW5jdGlvbiAoZWxlbWVudCwgZXJyb3JDbGFzcywgdmFsaWRDbGFzcykge1xyXG5cdFx0XHRcdGlmIChlbGVtZW50LnR5cGUgPT09IFwicmFkaW9cIikge1xyXG5cdFx0XHRcdFx0dGhpcy5maW5kQnlOYW1lKGVsZW1lbnQubmFtZSkuYWRkQ2xhc3MoZXJyb3JDbGFzcykucmVtb3ZlQ2xhc3ModmFsaWRDbGFzcyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCQoZWxlbWVudCkuYWRkQ2xhc3MoZXJyb3JDbGFzcykucmVtb3ZlQ2xhc3ModmFsaWRDbGFzcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR1bmhpZ2hsaWdodDogZnVuY3Rpb24gKGVsZW1lbnQsIGVycm9yQ2xhc3MsIHZhbGlkQ2xhc3MpIHtcclxuXHRcdFx0XHRpZiAoZWxlbWVudC50eXBlID09PSBcInJhZGlvXCIpIHtcclxuXHRcdFx0XHRcdHRoaXMuZmluZEJ5TmFtZShlbGVtZW50Lm5hbWUpLnJlbW92ZUNsYXNzKGVycm9yQ2xhc3MpLmFkZENsYXNzKHZhbGlkQ2xhc3MpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkKGVsZW1lbnQpLnJlbW92ZUNsYXNzKGVycm9yQ2xhc3MpLmFkZENsYXNzKHZhbGlkQ2xhc3MpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2pRdWVyeS52YWxpZGF0b3Iuc2V0RGVmYXVsdHMvXHJcblx0XHRzZXREZWZhdWx0czogZnVuY3Rpb24gKHNldHRpbmdzKSB7XHJcblx0XHRcdCQuZXh0ZW5kKCQudmFsaWRhdG9yLmRlZmF1bHRzLCBzZXR0aW5ncyk7XHJcblx0XHR9LFxyXG5cclxuXHRcdG1lc3NhZ2VzOiB7XHJcblx0XHRcdHJlcXVpcmVkOiBcIlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuXCIsXHJcblx0XHRcdHJlbW90ZTogXCJQbGVhc2UgZml4IHRoaXMgZmllbGQuXCIsXHJcblx0XHRcdGVtYWlsOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIsXHJcblx0XHRcdHVybDogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBVUkwuXCIsXHJcblx0XHRcdGRhdGU6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZGF0ZS5cIixcclxuXHRcdFx0ZGF0ZUlTTzogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBkYXRlIChJU08pLlwiLFxyXG5cdFx0XHRudW1iZXI6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgbnVtYmVyLlwiLFxyXG5cdFx0XHRkaWdpdHM6IFwiUGxlYXNlIGVudGVyIG9ubHkgZGlnaXRzLlwiLFxyXG5cdFx0XHRlcXVhbFRvOiBcIlBsZWFzZSBlbnRlciB0aGUgc2FtZSB2YWx1ZSBhZ2Fpbi5cIixcclxuXHRcdFx0bWF4bGVuZ3RoOiAkLnZhbGlkYXRvci5mb3JtYXQoXCJQbGVhc2UgZW50ZXIgbm8gbW9yZSB0aGFuIHswfSBjaGFyYWN0ZXJzLlwiKSxcclxuXHRcdFx0bWlubGVuZ3RoOiAkLnZhbGlkYXRvci5mb3JtYXQoXCJQbGVhc2UgZW50ZXIgYXQgbGVhc3QgezB9IGNoYXJhY3RlcnMuXCIpLFxyXG5cdFx0XHRyYW5nZWxlbmd0aDogJC52YWxpZGF0b3IuZm9ybWF0KFwiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiB7MH0gYW5kIHsxfSBjaGFyYWN0ZXJzIGxvbmcuXCIpLFxyXG5cdFx0XHRyYW5nZTogJC52YWxpZGF0b3IuZm9ybWF0KFwiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiB7MH0gYW5kIHsxfS5cIiksXHJcblx0XHRcdG1heDogJC52YWxpZGF0b3IuZm9ybWF0KFwiUGxlYXNlIGVudGVyIGEgdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHswfS5cIiksXHJcblx0XHRcdG1pbjogJC52YWxpZGF0b3IuZm9ybWF0KFwiUGxlYXNlIGVudGVyIGEgdmFsdWUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHswfS5cIiksXHJcblx0XHRcdHN0ZXA6ICQudmFsaWRhdG9yLmZvcm1hdChcIlBsZWFzZSBlbnRlciBhIG11bHRpcGxlIG9mIHswfS5cIilcclxuXHRcdH0sXHJcblxyXG5cdFx0YXV0b0NyZWF0ZVJhbmdlczogZmFsc2UsXHJcblxyXG5cdFx0cHJvdG90eXBlOiB7XHJcblxyXG5cdFx0XHRpbml0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dGhpcy5sYWJlbENvbnRhaW5lciA9ICQodGhpcy5zZXR0aW5ncy5lcnJvckxhYmVsQ29udGFpbmVyKTtcclxuXHRcdFx0XHR0aGlzLmVycm9yQ29udGV4dCA9IHRoaXMubGFiZWxDb250YWluZXIubGVuZ3RoICYmIHRoaXMubGFiZWxDb250YWluZXIgfHwgJCh0aGlzLmN1cnJlbnRGb3JtKTtcclxuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnMgPSAkKHRoaXMuc2V0dGluZ3MuZXJyb3JDb250YWluZXIpLmFkZCh0aGlzLnNldHRpbmdzLmVycm9yTGFiZWxDb250YWluZXIpO1xyXG5cdFx0XHRcdHRoaXMuc3VibWl0dGVkID0ge307XHJcblx0XHRcdFx0dGhpcy52YWx1ZUNhY2hlID0ge307XHJcblx0XHRcdFx0dGhpcy5wZW5kaW5nUmVxdWVzdCA9IDA7XHJcblx0XHRcdFx0dGhpcy5wZW5kaW5nID0ge307XHJcblx0XHRcdFx0dGhpcy5pbnZhbGlkID0ge307XHJcblx0XHRcdFx0dGhpcy5yZXNldCgpO1xyXG5cclxuXHRcdFx0XHR2YXIgZ3JvdXBzID0gKHRoaXMuZ3JvdXBzID0ge30pLFxyXG5cdFx0XHRcdFx0cnVsZXM7XHJcblx0XHRcdFx0JC5lYWNoKHRoaXMuc2V0dGluZ3MuZ3JvdXBzLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnNwbGl0KC9cXHMvKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCQuZWFjaCh2YWx1ZSwgZnVuY3Rpb24gKGluZGV4LCBuYW1lKSB7XHJcblx0XHRcdFx0XHRcdGdyb3Vwc1tuYW1lXSA9IGtleTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHJ1bGVzID0gdGhpcy5zZXR0aW5ncy5ydWxlcztcclxuXHRcdFx0XHQkLmVhY2gocnVsZXMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcblx0XHRcdFx0XHRydWxlc1trZXldID0gJC52YWxpZGF0b3Iubm9ybWFsaXplUnVsZSh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdGZ1bmN0aW9uIGRlbGVnYXRlKGV2ZW50KSB7XHJcblxyXG5cdFx0XHRcdFx0Ly8gU2V0IGZvcm0gZXhwYW5kbyBvbiBjb250ZW50ZWRpdGFibGVcclxuXHRcdFx0XHRcdGlmICghdGhpcy5mb3JtICYmIHRoaXMuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZm9ybSA9ICQodGhpcykuY2xvc2VzdChcImZvcm1cIilbMF07XHJcblx0XHRcdFx0XHRcdHRoaXMubmFtZSA9ICQodGhpcykuYXR0cihcIm5hbWVcIik7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0dmFyIHZhbGlkYXRvciA9ICQuZGF0YSh0aGlzLmZvcm0sIFwidmFsaWRhdG9yXCIpLFxyXG5cdFx0XHRcdFx0XHRldmVudFR5cGUgPSBcIm9uXCIgKyBldmVudC50eXBlLnJlcGxhY2UoL152YWxpZGF0ZS8sIFwiXCIpLFxyXG5cdFx0XHRcdFx0XHRzZXR0aW5ncyA9IHZhbGlkYXRvci5zZXR0aW5ncztcclxuXHRcdFx0XHRcdGlmIChzZXR0aW5nc1tldmVudFR5cGVdICYmICEkKHRoaXMpLmlzKHNldHRpbmdzLmlnbm9yZSkpIHtcclxuXHRcdFx0XHRcdFx0c2V0dGluZ3NbZXZlbnRUeXBlXS5jYWxsKHZhbGlkYXRvciwgdGhpcywgZXZlbnQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0JCh0aGlzLmN1cnJlbnRGb3JtKVxyXG5cdFx0XHRcdFx0Lm9uKFwiZm9jdXNpbi52YWxpZGF0ZSBmb2N1c291dC52YWxpZGF0ZSBrZXl1cC52YWxpZGF0ZVwiLFxyXG5cdFx0XHRcdFx0XHRcIjp0ZXh0LCBbdHlwZT0ncGFzc3dvcmQnXSwgW3R5cGU9J2ZpbGUnXSwgc2VsZWN0LCB0ZXh0YXJlYSwgW3R5cGU9J251bWJlciddLCBbdHlwZT0nc2VhcmNoJ10sIFwiICtcclxuXHRcdFx0XHRcdFx0XCJbdHlwZT0ndGVsJ10sIFt0eXBlPSd1cmwnXSwgW3R5cGU9J2VtYWlsJ10sIFt0eXBlPSdkYXRldGltZSddLCBbdHlwZT0nZGF0ZSddLCBbdHlwZT0nbW9udGgnXSwgXCIgK1xyXG5cdFx0XHRcdFx0XHRcIlt0eXBlPSd3ZWVrJ10sIFt0eXBlPSd0aW1lJ10sIFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBbdHlwZT0ncmFuZ2UnXSwgW3R5cGU9J2NvbG9yJ10sIFwiICtcclxuXHRcdFx0XHRcdFx0XCJbdHlwZT0ncmFkaW8nXSwgW3R5cGU9J2NoZWNrYm94J10sIFtjb250ZW50ZWRpdGFibGVdLCBbdHlwZT0nYnV0dG9uJ11cIiwgZGVsZWdhdGUpXHJcblxyXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lLCBvbGRJRVxyXG5cdFx0XHRcdFx0Ly8gXCJzZWxlY3RcIiBpcyBwcm92aWRlZCBhcyBldmVudC50YXJnZXQgd2hlbiBjbGlja2luZyBhIG9wdGlvblxyXG5cdFx0XHRcdFx0Lm9uKFwiY2xpY2sudmFsaWRhdGVcIiwgXCJzZWxlY3QsIG9wdGlvbiwgW3R5cGU9J3JhZGlvJ10sIFt0eXBlPSdjaGVja2JveCddXCIsIGRlbGVnYXRlKTtcclxuXHJcblx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW52YWxpZEhhbmRsZXIpIHtcclxuXHRcdFx0XHRcdCQodGhpcy5jdXJyZW50Rm9ybSkub24oXCJpbnZhbGlkLWZvcm0udmFsaWRhdGVcIiwgdGhpcy5zZXR0aW5ncy5pbnZhbGlkSGFuZGxlcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9WYWxpZGF0b3IuZm9ybS9cclxuXHRcdFx0Zm9ybTogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHRoaXMuY2hlY2tGb3JtKCk7XHJcblx0XHRcdFx0JC5leHRlbmQodGhpcy5zdWJtaXR0ZWQsIHRoaXMuZXJyb3JNYXApO1xyXG5cdFx0XHRcdHRoaXMuaW52YWxpZCA9ICQuZXh0ZW5kKHt9LCB0aGlzLmVycm9yTWFwKTtcclxuXHRcdFx0XHRpZiAoIXRoaXMudmFsaWQoKSkge1xyXG5cdFx0XHRcdFx0JCh0aGlzLmN1cnJlbnRGb3JtKS50cmlnZ2VySGFuZGxlcihcImludmFsaWQtZm9ybVwiLCBbdGhpc10pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnNob3dFcnJvcnMoKTtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy52YWxpZCgpO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Y2hlY2tGb3JtOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dGhpcy5wcmVwYXJlRm9ybSgpO1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBlbGVtZW50cyA9ICh0aGlzLmN1cnJlbnRFbGVtZW50cyA9IHRoaXMuZWxlbWVudHMoKSk7IGVsZW1lbnRzW2ldOyBpKyspIHtcclxuXHRcdFx0XHRcdHRoaXMuY2hlY2soZWxlbWVudHNbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gdGhpcy52YWxpZCgpO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9WYWxpZGF0b3IuZWxlbWVudC9cclxuXHRcdFx0ZWxlbWVudDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHRcdFx0XHR2YXIgY2xlYW5FbGVtZW50ID0gdGhpcy5jbGVhbihlbGVtZW50KSxcclxuXHRcdFx0XHRcdGNoZWNrRWxlbWVudCA9IHRoaXMudmFsaWRhdGlvblRhcmdldEZvcihjbGVhbkVsZW1lbnQpLFxyXG5cdFx0XHRcdFx0diA9IHRoaXMsXHJcblx0XHRcdFx0XHRyZXN1bHQgPSB0cnVlLFxyXG5cdFx0XHRcdFx0cnMsIGdyb3VwO1xyXG5cclxuXHRcdFx0XHRpZiAoY2hlY2tFbGVtZW50ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLmludmFsaWRbY2xlYW5FbGVtZW50Lm5hbWVdO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLnByZXBhcmVFbGVtZW50KGNoZWNrRWxlbWVudCk7XHJcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRFbGVtZW50cyA9ICQoY2hlY2tFbGVtZW50KTtcclxuXHJcblx0XHRcdFx0XHQvLyBJZiB0aGlzIGVsZW1lbnQgaXMgZ3JvdXBlZCwgdGhlbiB2YWxpZGF0ZSBhbGwgZ3JvdXAgZWxlbWVudHMgYWxyZWFkeVxyXG5cdFx0XHRcdFx0Ly8gY29udGFpbmluZyBhIHZhbHVlXHJcblx0XHRcdFx0XHRncm91cCA9IHRoaXMuZ3JvdXBzW2NoZWNrRWxlbWVudC5uYW1lXTtcclxuXHRcdFx0XHRcdGlmIChncm91cCkge1xyXG5cdFx0XHRcdFx0XHQkLmVhY2godGhpcy5ncm91cHMsIGZ1bmN0aW9uIChuYW1lLCB0ZXN0Z3JvdXApIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAodGVzdGdyb3VwID09PSBncm91cCAmJiBuYW1lICE9PSBjaGVja0VsZW1lbnQubmFtZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2xlYW5FbGVtZW50ID0gdi52YWxpZGF0aW9uVGFyZ2V0Rm9yKHYuY2xlYW4odi5maW5kQnlOYW1lKG5hbWUpKSk7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoY2xlYW5FbGVtZW50ICYmIGNsZWFuRWxlbWVudC5uYW1lIGluIHYuaW52YWxpZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2LmN1cnJlbnRFbGVtZW50cy5wdXNoKGNsZWFuRWxlbWVudCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdCA9IHYuY2hlY2soY2xlYW5FbGVtZW50KSAmJiByZXN1bHQ7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRycyA9IHRoaXMuY2hlY2soY2hlY2tFbGVtZW50KSAhPT0gZmFsc2U7XHJcblx0XHRcdFx0XHRyZXN1bHQgPSByZXN1bHQgJiYgcnM7XHJcblx0XHRcdFx0XHRpZiAocnMpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5pbnZhbGlkW2NoZWNrRWxlbWVudC5uYW1lXSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5pbnZhbGlkW2NoZWNrRWxlbWVudC5uYW1lXSA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKCF0aGlzLm51bWJlck9mSW52YWxpZHMoKSkge1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gSGlkZSBlcnJvciBjb250YWluZXJzIG9uIGxhc3QgZXJyb3JcclxuXHRcdFx0XHRcdFx0dGhpcy50b0hpZGUgPSB0aGlzLnRvSGlkZS5hZGQodGhpcy5jb250YWluZXJzKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuc2hvd0Vycm9ycygpO1xyXG5cclxuXHRcdFx0XHRcdC8vIEFkZCBhcmlhLWludmFsaWQgc3RhdHVzIGZvciBzY3JlZW4gcmVhZGVyc1xyXG5cdFx0XHRcdFx0JChlbGVtZW50KS5hdHRyKFwiYXJpYS1pbnZhbGlkXCIsICFycyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9WYWxpZGF0b3Iuc2hvd0Vycm9ycy9cclxuXHRcdFx0c2hvd0Vycm9yczogZnVuY3Rpb24gKGVycm9ycykge1xyXG5cdFx0XHRcdGlmIChlcnJvcnMpIHtcclxuXHRcdFx0XHRcdHZhciB2YWxpZGF0b3IgPSB0aGlzO1xyXG5cclxuXHRcdFx0XHRcdC8vIEFkZCBpdGVtcyB0byBlcnJvciBsaXN0IGFuZCBtYXBcclxuXHRcdFx0XHRcdCQuZXh0ZW5kKHRoaXMuZXJyb3JNYXAsIGVycm9ycyk7XHJcblx0XHRcdFx0XHR0aGlzLmVycm9yTGlzdCA9ICQubWFwKHRoaXMuZXJyb3JNYXAsIGZ1bmN0aW9uIChtZXNzYWdlLCBuYW1lKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdFx0bWVzc2FnZTogbWVzc2FnZSxcclxuXHRcdFx0XHRcdFx0XHRlbGVtZW50OiB2YWxpZGF0b3IuZmluZEJ5TmFtZShuYW1lKVswXVxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIGl0ZW1zIGZyb20gc3VjY2VzcyBsaXN0XHJcblx0XHRcdFx0XHR0aGlzLnN1Y2Nlc3NMaXN0ID0gJC5ncmVwKHRoaXMuc3VjY2Vzc0xpc3QsIGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAhKGVsZW1lbnQubmFtZSBpbiBlcnJvcnMpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dFcnJvcnMpIHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3Muc2hvd0Vycm9ycy5jYWxsKHRoaXMsIHRoaXMuZXJyb3JNYXAsIHRoaXMuZXJyb3JMaXN0KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5kZWZhdWx0U2hvd0Vycm9ycygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvVmFsaWRhdG9yLnJlc2V0Rm9ybS9cclxuXHRcdFx0cmVzZXRGb3JtOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKCQuZm4ucmVzZXRGb3JtKSB7XHJcblx0XHRcdFx0XHQkKHRoaXMuY3VycmVudEZvcm0pLnJlc2V0Rm9ybSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLmludmFsaWQgPSB7fTtcclxuXHRcdFx0XHR0aGlzLnN1Ym1pdHRlZCA9IHt9O1xyXG5cdFx0XHRcdHRoaXMucHJlcGFyZUZvcm0oKTtcclxuXHRcdFx0XHR0aGlzLmhpZGVFcnJvcnMoKTtcclxuXHRcdFx0XHR2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzKClcclxuXHRcdFx0XHRcdC5yZW1vdmVEYXRhKFwicHJldmlvdXNWYWx1ZVwiKVxyXG5cdFx0XHRcdFx0LnJlbW92ZUF0dHIoXCJhcmlhLWludmFsaWRcIik7XHJcblxyXG5cdFx0XHRcdHRoaXMucmVzZXRFbGVtZW50cyhlbGVtZW50cyk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRyZXNldEVsZW1lbnRzOiBmdW5jdGlvbiAoZWxlbWVudHMpIHtcclxuXHRcdFx0XHR2YXIgaTtcclxuXHJcblx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQpIHtcclxuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGVsZW1lbnRzW2ldOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodC5jYWxsKHRoaXMsIGVsZW1lbnRzW2ldLFxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcywgXCJcIik7XHJcblx0XHRcdFx0XHRcdHRoaXMuZmluZEJ5TmFtZShlbGVtZW50c1tpXS5uYW1lKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRlbGVtZW50c1xyXG5cdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKVxyXG5cdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRudW1iZXJPZkludmFsaWRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0TGVuZ3RoKHRoaXMuaW52YWxpZCk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRvYmplY3RMZW5ndGg6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdFx0XHQvKiBqc2hpbnQgdW51c2VkOiBmYWxzZSAqL1xyXG5cdFx0XHRcdHZhciBjb3VudCA9IDAsXHJcblx0XHRcdFx0XHRpO1xyXG5cdFx0XHRcdGZvciAoaSBpbiBvYmopIHtcclxuXHJcblx0XHRcdFx0XHQvLyBUaGlzIGNoZWNrIGFsbG93cyBjb3VudGluZyBlbGVtZW50cyB3aXRoIGVtcHR5IGVycm9yXHJcblx0XHRcdFx0XHQvLyBtZXNzYWdlIGFzIGludmFsaWQgZWxlbWVudHNcclxuXHRcdFx0XHRcdGlmIChvYmpbaV0gIT09IHVuZGVmaW5lZCAmJiBvYmpbaV0gIT09IG51bGwgJiYgb2JqW2ldICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0XHRjb3VudCsrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gY291bnQ7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRoaWRlRXJyb3JzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dGhpcy5oaWRlVGhlc2UodGhpcy50b0hpZGUpO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0aGlkZVRoZXNlOiBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcblx0XHRcdFx0ZXJyb3JzLm5vdCh0aGlzLmNvbnRhaW5lcnMpLnRleHQoXCJcIik7XHJcblx0XHRcdFx0dGhpcy5hZGRXcmFwcGVyKGVycm9ycykuaGlkZSgpO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0dmFsaWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5zaXplKCkgPT09IDA7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRzaXplOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZXJyb3JMaXN0Lmxlbmd0aDtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGZvY3VzSW52YWxpZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmZvY3VzSW52YWxpZCkge1xyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0JCh0aGlzLmZpbmRMYXN0QWN0aXZlKCkgfHwgdGhpcy5lcnJvckxpc3QubGVuZ3RoICYmIHRoaXMuZXJyb3JMaXN0WzBdLmVsZW1lbnQgfHwgW10pXHJcblx0XHRcdFx0XHRcdFx0LmZpbHRlcihcIjp2aXNpYmxlXCIpXHJcblx0XHRcdFx0XHRcdFx0LmZvY3VzKClcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gTWFudWFsbHkgdHJpZ2dlciBmb2N1c2luIGV2ZW50OyB3aXRob3V0IGl0LCBmb2N1c2luIGhhbmRsZXIgaXNuJ3QgY2FsbGVkLCBmaW5kTGFzdEFjdGl2ZSB3b24ndCBoYXZlIGFueXRoaW5nIHRvIGZpbmRcclxuXHRcdFx0XHRcdFx0XHQudHJpZ2dlcihcImZvY3VzaW5cIik7XHJcblx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBJZ25vcmUgSUUgdGhyb3dpbmcgZXJyb3JzIHdoZW4gZm9jdXNpbmcgaGlkZGVuIGVsZW1lbnRzXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0ZmluZExhc3RBY3RpdmU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgbGFzdEFjdGl2ZSA9IHRoaXMubGFzdEFjdGl2ZTtcclxuXHRcdFx0XHRyZXR1cm4gbGFzdEFjdGl2ZSAmJiAkLmdyZXAodGhpcy5lcnJvckxpc3QsIGZ1bmN0aW9uIChuKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gbi5lbGVtZW50Lm5hbWUgPT09IGxhc3RBY3RpdmUubmFtZTtcclxuXHRcdFx0XHR9KS5sZW5ndGggPT09IDEgJiYgbGFzdEFjdGl2ZTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGVsZW1lbnRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIHZhbGlkYXRvciA9IHRoaXMsXHJcblx0XHRcdFx0XHRydWxlc0NhY2hlID0ge307XHJcblxyXG5cdFx0XHRcdC8vIFNlbGVjdCBhbGwgdmFsaWQgaW5wdXRzIGluc2lkZSB0aGUgZm9ybSAobm8gc3VibWl0IG9yIHJlc2V0IGJ1dHRvbnMpXHJcblx0XHRcdFx0cmV0dXJuICQodGhpcy5jdXJyZW50Rm9ybSlcclxuXHRcdFx0XHRcdC5maW5kKFwiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIFtjb250ZW50ZWRpdGFibGVdXCIpXHJcblx0XHRcdFx0XHQubm90KFwiOnN1Ym1pdCwgOnJlc2V0LCA6aW1hZ2UsIDpkaXNhYmxlZFwiKVxyXG5cdFx0XHRcdFx0Lm5vdCh0aGlzLnNldHRpbmdzLmlnbm9yZSlcclxuXHRcdFx0XHRcdC5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgbmFtZSA9IHRoaXMubmFtZSB8fCAkKHRoaXMpLmF0dHIoXCJuYW1lXCIpOyAvLyBGb3IgY29udGVudGVkaXRhYmxlXHJcblx0XHRcdFx0XHRcdGlmICghbmFtZSAmJiB2YWxpZGF0b3Iuc2V0dGluZ3MuZGVidWcgJiYgd2luZG93LmNvbnNvbGUpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKFwiJW8gaGFzIG5vIG5hbWUgYXNzaWduZWRcIiwgdGhpcyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdC8vIFNldCBmb3JtIGV4cGFuZG8gb24gY29udGVudGVkaXRhYmxlXHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZm9ybSA9ICQodGhpcykuY2xvc2VzdChcImZvcm1cIilbMF07XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5uYW1lID0gbmFtZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gU2VsZWN0IG9ubHkgdGhlIGZpcnN0IGVsZW1lbnQgZm9yIGVhY2ggbmFtZSwgYW5kIG9ubHkgdGhvc2Ugd2l0aCBydWxlcyBzcGVjaWZpZWRcclxuXHRcdFx0XHRcdFx0aWYgKG5hbWUgaW4gcnVsZXNDYWNoZSB8fCAhdmFsaWRhdG9yLm9iamVjdExlbmd0aCgkKHRoaXMpLnJ1bGVzKCkpKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRydWxlc0NhY2hlW25hbWVdID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGNsZWFuOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcclxuXHRcdFx0XHRyZXR1cm4gJChzZWxlY3RvcilbMF07XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRlcnJvcnM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR2YXIgZXJyb3JDbGFzcyA9IHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcy5zcGxpdChcIiBcIikuam9pbihcIi5cIik7XHJcblx0XHRcdFx0cmV0dXJuICQodGhpcy5zZXR0aW5ncy5lcnJvckVsZW1lbnQgKyBcIi5cIiArIGVycm9yQ2xhc3MsIHRoaXMuZXJyb3JDb250ZXh0KTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdHJlc2V0SW50ZXJuYWxzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dGhpcy5zdWNjZXNzTGlzdCA9IFtdO1xyXG5cdFx0XHRcdHRoaXMuZXJyb3JMaXN0ID0gW107XHJcblx0XHRcdFx0dGhpcy5lcnJvck1hcCA9IHt9O1xyXG5cdFx0XHRcdHRoaXMudG9TaG93ID0gJChbXSk7XHJcblx0XHRcdFx0dGhpcy50b0hpZGUgPSAkKFtdKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dGhpcy5yZXNldEludGVybmFscygpO1xyXG5cdFx0XHRcdHRoaXMuY3VycmVudEVsZW1lbnRzID0gJChbXSk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRwcmVwYXJlRm9ybTogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHRoaXMucmVzZXQoKTtcclxuXHRcdFx0XHR0aGlzLnRvSGlkZSA9IHRoaXMuZXJyb3JzKCkuYWRkKHRoaXMuY29udGFpbmVycyk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRwcmVwYXJlRWxlbWVudDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHRcdFx0XHR0aGlzLnJlc2V0KCk7XHJcblx0XHRcdFx0dGhpcy50b0hpZGUgPSB0aGlzLmVycm9yc0ZvcihlbGVtZW50KTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGVsZW1lbnRWYWx1ZTogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHRcdFx0XHR2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpLFxyXG5cdFx0XHRcdFx0dHlwZSA9IGVsZW1lbnQudHlwZSxcclxuXHRcdFx0XHRcdHZhbCwgaWR4O1xyXG5cclxuXHRcdFx0XHRpZiAodHlwZSA9PT0gXCJyYWRpb1wiIHx8IHR5cGUgPT09IFwiY2hlY2tib3hcIikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuZmluZEJ5TmFtZShlbGVtZW50Lm5hbWUpLmZpbHRlcihcIjpjaGVja2VkXCIpLnZhbCgpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgZWxlbWVudC52YWxpZGl0eSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnQudmFsaWRpdHkuYmFkSW5wdXQgPyBcIk5hTlwiIDogJGVsZW1lbnQudmFsKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpIHtcclxuXHRcdFx0XHRcdHZhbCA9ICRlbGVtZW50LnRleHQoKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dmFsID0gJGVsZW1lbnQudmFsKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAodHlwZSA9PT0gXCJmaWxlXCIpIHtcclxuXHJcblx0XHRcdFx0XHQvLyBNb2Rlcm4gYnJvd3NlciAoY2hyb21lICYgc2FmYXJpKVxyXG5cdFx0XHRcdFx0aWYgKHZhbC5zdWJzdHIoMCwgMTIpID09PSBcIkM6XFxcXGZha2VwYXRoXFxcXFwiKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB2YWwuc3Vic3RyKDEyKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBMZWdhY3kgYnJvd3NlcnNcclxuXHRcdFx0XHRcdC8vIFVuaXgtYmFzZWQgcGF0aFxyXG5cdFx0XHRcdFx0aWR4ID0gdmFsLmxhc3RJbmRleE9mKFwiL1wiKTtcclxuXHRcdFx0XHRcdGlmIChpZHggPj0gMCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsLnN1YnN0cihpZHggKyAxKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBXaW5kb3dzLWJhc2VkIHBhdGhcclxuXHRcdFx0XHRcdGlkeCA9IHZhbC5sYXN0SW5kZXhPZihcIlxcXFxcIik7XHJcblx0XHRcdFx0XHRpZiAoaWR4ID49IDApIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbC5zdWJzdHIoaWR4ICsgMSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gSnVzdCB0aGUgZmlsZSBuYW1lXHJcblx0XHRcdFx0XHRyZXR1cm4gdmFsO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0XHRcdHJldHVybiB2YWwucmVwbGFjZSgvXFxyL2csIFwiXCIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gdmFsO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Y2hlY2s6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0XHRcdFx0ZWxlbWVudCA9IHRoaXMudmFsaWRhdGlvblRhcmdldEZvcih0aGlzLmNsZWFuKGVsZW1lbnQpKTtcclxuXHJcblx0XHRcdFx0dmFyIHJ1bGVzID0gJChlbGVtZW50KS5ydWxlcygpLFxyXG5cdFx0XHRcdFx0cnVsZXNDb3VudCA9ICQubWFwKHJ1bGVzLCBmdW5jdGlvbiAobiwgaSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gaTtcclxuXHRcdFx0XHRcdH0pLmxlbmd0aCxcclxuXHRcdFx0XHRcdGRlcGVuZGVuY3lNaXNtYXRjaCA9IGZhbHNlLFxyXG5cdFx0XHRcdFx0dmFsID0gdGhpcy5lbGVtZW50VmFsdWUoZWxlbWVudCksXHJcblx0XHRcdFx0XHRyZXN1bHQsIG1ldGhvZCwgcnVsZSwgbm9ybWFsaXplcjtcclxuXHJcblx0XHRcdFx0Ly8gUHJpb3JpdGl6ZSB0aGUgbG9jYWwgbm9ybWFsaXplciBkZWZpbmVkIGZvciB0aGlzIGVsZW1lbnQgb3ZlciB0aGUgZ2xvYmFsIG9uZVxyXG5cdFx0XHRcdC8vIGlmIHRoZSBmb3JtZXIgZXhpc3RzLCBvdGhlcndpc2UgdXNlciB0aGUgZ2xvYmFsIG9uZSBpbiBjYXNlIGl0IGV4aXN0cy5cclxuXHRcdFx0XHRpZiAodHlwZW9mIHJ1bGVzLm5vcm1hbGl6ZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRcdFx0bm9ybWFsaXplciA9IHJ1bGVzLm5vcm1hbGl6ZXI7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgdGhpcy5zZXR0aW5ncy5ub3JtYWxpemVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdFx0XHRcdG5vcm1hbGl6ZXIgPSB0aGlzLnNldHRpbmdzLm5vcm1hbGl6ZXI7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBJZiBub3JtYWxpemVyIGlzIGRlZmluZWQsIHRoZW4gY2FsbCBpdCB0byByZXRyZWl2ZSB0aGUgY2hhbmdlZCB2YWx1ZSBpbnN0ZWFkXHJcblx0XHRcdFx0Ly8gb2YgdXNpbmcgdGhlIHJlYWwgb25lLlxyXG5cdFx0XHRcdC8vIE5vdGUgdGhhdCBgdGhpc2AgaW4gdGhlIG5vcm1hbGl6ZXIgaXMgYGVsZW1lbnRgLlxyXG5cdFx0XHRcdGlmIChub3JtYWxpemVyKSB7XHJcblx0XHRcdFx0XHR2YWwgPSBub3JtYWxpemVyLmNhbGwoZWxlbWVudCwgdmFsKTtcclxuXHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHZhbCAhPT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIG5vcm1hbGl6ZXIgc2hvdWxkIHJldHVybiBhIHN0cmluZyB2YWx1ZS5cIik7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gRGVsZXRlIHRoZSBub3JtYWxpemVyIGZyb20gcnVsZXMgdG8gYXZvaWQgdHJlYXRpbmcgaXQgYXMgYSBwcmUtZGVmaW5lZCBtZXRob2QuXHJcblx0XHRcdFx0XHRkZWxldGUgcnVsZXMubm9ybWFsaXplcjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGZvciAobWV0aG9kIGluIHJ1bGVzKSB7XHJcblx0XHRcdFx0XHRydWxlID0ge1xyXG5cdFx0XHRcdFx0XHRtZXRob2Q6IG1ldGhvZCxcclxuXHRcdFx0XHRcdFx0cGFyYW1ldGVyczogcnVsZXNbbWV0aG9kXVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdHJlc3VsdCA9ICQudmFsaWRhdG9yLm1ldGhvZHNbbWV0aG9kXS5jYWxsKHRoaXMsIHZhbCwgZWxlbWVudCwgcnVsZS5wYXJhbWV0ZXJzKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIElmIGEgbWV0aG9kIGluZGljYXRlcyB0aGF0IHRoZSBmaWVsZCBpcyBvcHRpb25hbCBhbmQgdGhlcmVmb3JlIHZhbGlkLFxyXG5cdFx0XHRcdFx0XHQvLyBkb24ndCBtYXJrIGl0IGFzIHZhbGlkIHdoZW4gdGhlcmUgYXJlIG5vIG90aGVyIHJ1bGVzXHJcblx0XHRcdFx0XHRcdGlmIChyZXN1bHQgPT09IFwiZGVwZW5kZW5jeS1taXNtYXRjaFwiICYmIHJ1bGVzQ291bnQgPT09IDEpIHtcclxuXHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5TWlzbWF0Y2ggPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGRlcGVuZGVuY3lNaXNtYXRjaCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKHJlc3VsdCA9PT0gXCJwZW5kaW5nXCIpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnRvSGlkZSA9IHRoaXMudG9IaWRlLm5vdCh0aGlzLmVycm9yc0ZvcihlbGVtZW50KSk7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIXJlc3VsdCkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZm9ybWF0QW5kQWRkKGVsZW1lbnQsIHJ1bGUpO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5kZWJ1ZyAmJiB3aW5kb3cuY29uc29sZSkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiRXhjZXB0aW9uIG9jY3VycmVkIHdoZW4gY2hlY2tpbmcgZWxlbWVudCBcIiArIGVsZW1lbnQuaWQgKyBcIiwgY2hlY2sgdGhlICdcIiArIHJ1bGUubWV0aG9kICsgXCInIG1ldGhvZC5cIiwgZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHRlLm1lc3NhZ2UgKz0gXCIuICBFeGNlcHRpb24gb2NjdXJyZWQgd2hlbiBjaGVja2luZyBlbGVtZW50IFwiICsgZWxlbWVudC5pZCArIFwiLCBjaGVjayB0aGUgJ1wiICsgcnVsZS5tZXRob2QgKyBcIicgbWV0aG9kLlwiO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoZGVwZW5kZW5jeU1pc21hdGNoKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0aGlzLm9iamVjdExlbmd0aChydWxlcykpIHtcclxuXHRcdFx0XHRcdHRoaXMuc3VjY2Vzc0xpc3QucHVzaChlbGVtZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvLyBSZXR1cm4gdGhlIGN1c3RvbSBtZXNzYWdlIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBhbmQgdmFsaWRhdGlvbiBtZXRob2RcclxuXHRcdFx0Ly8gc3BlY2lmaWVkIGluIHRoZSBlbGVtZW50J3MgSFRNTDUgZGF0YSBhdHRyaWJ1dGVcclxuXHRcdFx0Ly8gcmV0dXJuIHRoZSBnZW5lcmljIG1lc3NhZ2UgaWYgcHJlc2VudCBhbmQgbm8gbWV0aG9kIHNwZWNpZmljIG1lc3NhZ2UgaXMgcHJlc2VudFxyXG5cdFx0XHRjdXN0b21EYXRhTWVzc2FnZTogZnVuY3Rpb24gKGVsZW1lbnQsIG1ldGhvZCkge1xyXG5cdFx0XHRcdHJldHVybiAkKGVsZW1lbnQpLmRhdGEoXCJtc2dcIiArIG1ldGhvZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXHJcblx0XHRcdFx0XHRtZXRob2Quc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkpIHx8ICQoZWxlbWVudCkuZGF0YShcIm1zZ1wiKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIFJldHVybiB0aGUgY3VzdG9tIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBlbGVtZW50IG5hbWUgYW5kIHZhbGlkYXRpb24gbWV0aG9kXHJcblx0XHRcdGN1c3RvbU1lc3NhZ2U6IGZ1bmN0aW9uIChuYW1lLCBtZXRob2QpIHtcclxuXHRcdFx0XHR2YXIgbSA9IHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbbmFtZV07XHJcblx0XHRcdFx0cmV0dXJuIG0gJiYgKG0uY29uc3RydWN0b3IgPT09IFN0cmluZyA/IG0gOiBtW21ldGhvZF0pO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gUmV0dXJuIHRoZSBmaXJzdCBkZWZpbmVkIGFyZ3VtZW50LCBhbGxvd2luZyBlbXB0eSBzdHJpbmdzXHJcblx0XHRcdGZpbmREZWZpbmVkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmIChhcmd1bWVudHNbaV0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gYXJndW1lbnRzW2ldO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gVGhlIHNlY29uZCBwYXJhbWV0ZXIgJ3J1bGUnIHVzZWQgdG8gYmUgYSBzdHJpbmcsIGFuZCBleHRlbmRlZCB0byBhbiBvYmplY3QgbGl0ZXJhbFxyXG5cdFx0XHQvLyBvZiB0aGUgZm9sbG93aW5nIGZvcm06XHJcblx0XHRcdC8vIHJ1bGUgPSB7XHJcblx0XHRcdC8vICAgICBtZXRob2Q6IFwibWV0aG9kIG5hbWVcIixcclxuXHRcdFx0Ly8gICAgIHBhcmFtZXRlcnM6IFwidGhlIGdpdmVuIG1ldGhvZCBwYXJhbWV0ZXJzXCJcclxuXHRcdFx0Ly8gfVxyXG5cdFx0XHQvL1xyXG5cdFx0XHQvLyBUaGUgb2xkIGJlaGF2aW9yIHN0aWxsIHN1cHBvcnRlZCwga2VwdCB0byBtYWludGFpbiBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGhcclxuXHRcdFx0Ly8gb2xkIGNvZGUsIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cclxuXHRcdFx0ZGVmYXVsdE1lc3NhZ2U6IGZ1bmN0aW9uIChlbGVtZW50LCBydWxlKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBydWxlID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0XHRydWxlID0ge1xyXG5cdFx0XHRcdFx0XHRtZXRob2Q6IHJ1bGVcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR2YXIgbWVzc2FnZSA9IHRoaXMuZmluZERlZmluZWQoXHJcblx0XHRcdFx0XHRcdHRoaXMuY3VzdG9tTWVzc2FnZShlbGVtZW50Lm5hbWUsIHJ1bGUubWV0aG9kKSxcclxuXHRcdFx0XHRcdFx0dGhpcy5jdXN0b21EYXRhTWVzc2FnZShlbGVtZW50LCBydWxlLm1ldGhvZCksXHJcblxyXG5cdFx0XHRcdFx0XHQvLyAndGl0bGUnIGlzIG5ldmVyIHVuZGVmaW5lZCwgc28gaGFuZGxlIGVtcHR5IHN0cmluZyBhcyB1bmRlZmluZWRcclxuXHRcdFx0XHRcdFx0IXRoaXMuc2V0dGluZ3MuaWdub3JlVGl0bGUgJiYgZWxlbWVudC50aXRsZSB8fCB1bmRlZmluZWQsXHJcblx0XHRcdFx0XHRcdCQudmFsaWRhdG9yLm1lc3NhZ2VzW3J1bGUubWV0aG9kXSxcclxuXHRcdFx0XHRcdFx0XCI8c3Ryb25nPldhcm5pbmc6IE5vIG1lc3NhZ2UgZGVmaW5lZCBmb3IgXCIgKyBlbGVtZW50Lm5hbWUgKyBcIjwvc3Ryb25nPlwiXHJcblx0XHRcdFx0XHQpLFxyXG5cdFx0XHRcdFx0dGhlcmVnZXggPSAvXFwkP1xceyhcXGQrKVxcfS9nO1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdFx0XHRtZXNzYWdlID0gbWVzc2FnZS5jYWxsKHRoaXMsIHJ1bGUucGFyYW1ldGVycywgZWxlbWVudCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0aGVyZWdleC50ZXN0KG1lc3NhZ2UpKSB7XHJcblx0XHRcdFx0XHRtZXNzYWdlID0gJC52YWxpZGF0b3IuZm9ybWF0KG1lc3NhZ2UucmVwbGFjZSh0aGVyZWdleCwgXCJ7JDF9XCIpLCBydWxlLnBhcmFtZXRlcnMpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIG1lc3NhZ2U7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRmb3JtYXRBbmRBZGQ6IGZ1bmN0aW9uIChlbGVtZW50LCBydWxlKSB7XHJcblx0XHRcdFx0dmFyIG1lc3NhZ2UgPSB0aGlzLmRlZmF1bHRNZXNzYWdlKGVsZW1lbnQsIHJ1bGUpO1xyXG5cclxuXHRcdFx0XHR0aGlzLmVycm9yTGlzdC5wdXNoKHtcclxuXHRcdFx0XHRcdG1lc3NhZ2U6IG1lc3NhZ2UsXHJcblx0XHRcdFx0XHRlbGVtZW50OiBlbGVtZW50LFxyXG5cdFx0XHRcdFx0bWV0aG9kOiBydWxlLm1ldGhvZFxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR0aGlzLmVycm9yTWFwW2VsZW1lbnQubmFtZV0gPSBtZXNzYWdlO1xyXG5cdFx0XHRcdHRoaXMuc3VibWl0dGVkW2VsZW1lbnQubmFtZV0gPSBtZXNzYWdlO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0YWRkV3JhcHBlcjogZnVuY3Rpb24gKHRvVG9nZ2xlKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Mud3JhcHBlcikge1xyXG5cdFx0XHRcdFx0dG9Ub2dnbGUgPSB0b1RvZ2dsZS5hZGQodG9Ub2dnbGUucGFyZW50KHRoaXMuc2V0dGluZ3Mud3JhcHBlcikpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gdG9Ub2dnbGU7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRkZWZhdWx0U2hvd0Vycm9yczogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciBpLCBlbGVtZW50cywgZXJyb3I7XHJcblx0XHRcdFx0Zm9yIChpID0gMDsgdGhpcy5lcnJvckxpc3RbaV07IGkrKykge1xyXG5cdFx0XHRcdFx0ZXJyb3IgPSB0aGlzLmVycm9yTGlzdFtpXTtcclxuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmhpZ2hsaWdodCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmhpZ2hsaWdodC5jYWxsKHRoaXMsIGVycm9yLmVsZW1lbnQsIHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcywgdGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuc2hvd0xhYmVsKGVycm9yLmVsZW1lbnQsIGVycm9yLm1lc3NhZ2UpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAodGhpcy5lcnJvckxpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHR0aGlzLnRvU2hvdyA9IHRoaXMudG9TaG93LmFkZCh0aGlzLmNvbnRhaW5lcnMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRmb3IgKGkgPSAwOyB0aGlzLnN1Y2Nlc3NMaXN0W2ldOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5zaG93TGFiZWwodGhpcy5zdWNjZXNzTGlzdFtpXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0KSB7XHJcblx0XHRcdFx0XHRmb3IgKGkgPSAwLCBlbGVtZW50cyA9IHRoaXMudmFsaWRFbGVtZW50cygpOyBlbGVtZW50c1tpXTsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLCBlbGVtZW50c1tpXSwgdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLCB0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnRvSGlkZSA9IHRoaXMudG9IaWRlLm5vdCh0aGlzLnRvU2hvdyk7XHJcblx0XHRcdFx0dGhpcy5oaWRlRXJyb3JzKCk7XHJcblx0XHRcdFx0dGhpcy5hZGRXcmFwcGVyKHRoaXMudG9TaG93KS5zaG93KCk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHR2YWxpZEVsZW1lbnRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3VycmVudEVsZW1lbnRzLm5vdCh0aGlzLmludmFsaWRFbGVtZW50cygpKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGludmFsaWRFbGVtZW50czogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHJldHVybiAkKHRoaXMuZXJyb3JMaXN0KS5tYXAoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuZWxlbWVudDtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdHNob3dMYWJlbDogZnVuY3Rpb24gKGVsZW1lbnQsIG1lc3NhZ2UpIHtcclxuXHRcdFx0XHR2YXIgcGxhY2UsIGdyb3VwLCBlcnJvcklELCB2LFxyXG5cdFx0XHRcdFx0ZXJyb3IgPSB0aGlzLmVycm9yc0ZvcihlbGVtZW50KSxcclxuXHRcdFx0XHRcdGVsZW1lbnRJRCA9IHRoaXMuaWRPck5hbWUoZWxlbWVudCksXHJcblx0XHRcdFx0XHRkZXNjcmliZWRCeSA9ICQoZWxlbWVudCkuYXR0cihcImFyaWEtZGVzY3JpYmVkYnlcIik7XHJcblxyXG5cdFx0XHRcdGlmIChlcnJvci5sZW5ndGgpIHtcclxuXHJcblx0XHRcdFx0XHQvLyBSZWZyZXNoIGVycm9yL3N1Y2Nlc3MgY2xhc3NcclxuXHRcdFx0XHRcdGVycm9yLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcykuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuXHJcblx0XHRcdFx0XHQvLyBSZXBsYWNlIG1lc3NhZ2Ugb24gZXhpc3RpbmcgbGFiZWxcclxuXHRcdFx0XHRcdGVycm9yLmh0bWwobWVzc2FnZSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHQvLyBDcmVhdGUgZXJyb3IgZWxlbWVudFxyXG5cdFx0XHRcdFx0ZXJyb3IgPSAkKFwiPFwiICsgdGhpcy5zZXR0aW5ncy5lcnJvckVsZW1lbnQgKyBcIj5cIilcclxuXHRcdFx0XHRcdFx0LmF0dHIoXCJpZFwiLCBlbGVtZW50SUQgKyBcIi1lcnJvclwiKVxyXG5cdFx0XHRcdFx0XHQuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKVxyXG5cdFx0XHRcdFx0XHQuaHRtbChtZXNzYWdlIHx8IFwiXCIpO1xyXG5cclxuXHRcdFx0XHRcdC8vIE1haW50YWluIHJlZmVyZW5jZSB0byB0aGUgZWxlbWVudCB0byBiZSBwbGFjZWQgaW50byB0aGUgRE9NXHJcblx0XHRcdFx0XHRwbGFjZSA9IGVycm9yO1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Mud3JhcHBlcikge1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGlzIHZpc2libGUsIGV2ZW4gaW4gSUVcclxuXHRcdFx0XHRcdFx0Ly8gYWN0dWFsbHkgc2hvd2luZyB0aGUgd3JhcHBlZCBlbGVtZW50IGlzIGhhbmRsZWQgZWxzZXdoZXJlXHJcblx0XHRcdFx0XHRcdHBsYWNlID0gZXJyb3IuaGlkZSgpLnNob3coKS53cmFwKFwiPFwiICsgdGhpcy5zZXR0aW5ncy53cmFwcGVyICsgXCIvPlwiKS5wYXJlbnQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICh0aGlzLmxhYmVsQ29udGFpbmVyLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmxhYmVsQ29udGFpbmVyLmFwcGVuZChwbGFjZSk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuZXJyb3JQbGFjZW1lbnQpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5lcnJvclBsYWNlbWVudC5jYWxsKHRoaXMsIHBsYWNlLCAkKGVsZW1lbnQpKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHBsYWNlLmluc2VydEFmdGVyKGVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIExpbmsgZXJyb3IgYmFjayB0byB0aGUgZWxlbWVudFxyXG5cdFx0XHRcdFx0aWYgKGVycm9yLmlzKFwibGFiZWxcIikpIHtcclxuXHJcblx0XHRcdFx0XHRcdC8vIElmIHRoZSBlcnJvciBpcyBhIGxhYmVsLCB0aGVuIGFzc29jaWF0ZSB1c2luZyAnZm9yJ1xyXG5cdFx0XHRcdFx0XHRlcnJvci5hdHRyKFwiZm9yXCIsIGVsZW1lbnRJRCk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBpcyBub3QgYSBjaGlsZCBvZiBhbiBhc3NvY2lhdGVkIGxhYmVsLCB0aGVuIGl0J3MgbmVjZXNzYXJ5XHJcblx0XHRcdFx0XHRcdC8vIHRvIGV4cGxpY2l0bHkgYXBwbHkgYXJpYS1kZXNjcmliZWRieVxyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChlcnJvci5wYXJlbnRzKFwibGFiZWxbZm9yPSdcIiArIHRoaXMuZXNjYXBlQ3NzTWV0YShlbGVtZW50SUQpICsgXCInXVwiKS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0ZXJyb3JJRCA9IGVycm9yLmF0dHIoXCJpZFwiKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFJlc3BlY3QgZXhpc3Rpbmcgbm9uLWVycm9yIGFyaWEtZGVzY3JpYmVkYnlcclxuXHRcdFx0XHRcdFx0aWYgKCFkZXNjcmliZWRCeSkge1xyXG5cdFx0XHRcdFx0XHRcdGRlc2NyaWJlZEJ5ID0gZXJyb3JJRDtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICghZGVzY3JpYmVkQnkubWF0Y2gobmV3IFJlZ0V4cChcIlxcXFxiXCIgKyB0aGlzLmVzY2FwZUNzc01ldGEoZXJyb3JJRCkgKyBcIlxcXFxiXCIpKSkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBBZGQgdG8gZW5kIG9mIGxpc3QgaWYgbm90IGFscmVhZHkgcHJlc2VudFxyXG5cdFx0XHRcdFx0XHRcdGRlc2NyaWJlZEJ5ICs9IFwiIFwiICsgZXJyb3JJRDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHQkKGVsZW1lbnQpLmF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsIGRlc2NyaWJlZEJ5KTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIElmIHRoaXMgZWxlbWVudCBpcyBncm91cGVkLCB0aGVuIGFzc2lnbiB0byBhbGwgZWxlbWVudHMgaW4gdGhlIHNhbWUgZ3JvdXBcclxuXHRcdFx0XHRcdFx0Z3JvdXAgPSB0aGlzLmdyb3Vwc1tlbGVtZW50Lm5hbWVdO1xyXG5cdFx0XHRcdFx0XHRpZiAoZ3JvdXApIHtcclxuXHRcdFx0XHRcdFx0XHR2ID0gdGhpcztcclxuXHRcdFx0XHRcdFx0XHQkLmVhY2godi5ncm91cHMsIGZ1bmN0aW9uIChuYW1lLCB0ZXN0Z3JvdXApIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICh0ZXN0Z3JvdXAgPT09IGdyb3VwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCQoXCJbbmFtZT0nXCIgKyB2LmVzY2FwZUNzc01ldGEobmFtZSkgKyBcIiddXCIsIHYuY3VycmVudEZvcm0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsIGVycm9yLmF0dHIoXCJpZFwiKSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCFtZXNzYWdlICYmIHRoaXMuc2V0dGluZ3Muc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0ZXJyb3IudGV4dChcIlwiKTtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgdGhpcy5zZXR0aW5ncy5zdWNjZXNzID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0XHRcdGVycm9yLmFkZENsYXNzKHRoaXMuc2V0dGluZ3Muc3VjY2Vzcyk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnN1Y2Nlc3MoZXJyb3IsIGVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnRvU2hvdyA9IHRoaXMudG9TaG93LmFkZChlcnJvcik7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRlcnJvcnNGb3I6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0XHRcdFx0dmFyIG5hbWUgPSB0aGlzLmVzY2FwZUNzc01ldGEodGhpcy5pZE9yTmFtZShlbGVtZW50KSksXHJcblx0XHRcdFx0XHRkZXNjcmliZXIgPSAkKGVsZW1lbnQpLmF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIpLFxyXG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBcImxhYmVsW2Zvcj0nXCIgKyBuYW1lICsgXCInXSwgbGFiZWxbZm9yPSdcIiArIG5hbWUgKyBcIiddICpcIjtcclxuXHJcblx0XHRcdFx0Ly8gJ2FyaWEtZGVzY3JpYmVkYnknIHNob3VsZCBkaXJlY3RseSByZWZlcmVuY2UgdGhlIGVycm9yIGVsZW1lbnRcclxuXHRcdFx0XHRpZiAoZGVzY3JpYmVyKSB7XHJcblx0XHRcdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yICsgXCIsICNcIiArIHRoaXMuZXNjYXBlQ3NzTWV0YShkZXNjcmliZXIpXHJcblx0XHRcdFx0XHRcdC5yZXBsYWNlKC9cXHMrL2csIFwiLCAjXCIpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIHRoaXNcclxuXHRcdFx0XHRcdC5lcnJvcnMoKVxyXG5cdFx0XHRcdFx0LmZpbHRlcihzZWxlY3Rvcik7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvLyBTZWUgaHR0cHM6Ly9hcGkuanF1ZXJ5LmNvbS9jYXRlZ29yeS9zZWxlY3RvcnMvLCBmb3IgQ1NTXHJcblx0XHRcdC8vIG1ldGEtY2hhcmFjdGVycyB0aGF0IHNob3VsZCBiZSBlc2NhcGVkIGluIG9yZGVyIHRvIGJlIHVzZWQgd2l0aCBKUXVlcnlcclxuXHRcdFx0Ly8gYXMgYSBsaXRlcmFsIHBhcnQgb2YgYSBuYW1lL2lkIG9yIGFueSBzZWxlY3Rvci5cclxuXHRcdFx0ZXNjYXBlQ3NzTWV0YTogZnVuY3Rpb24gKHN0cmluZykge1xyXG5cdFx0XHRcdHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFtcXFxcIVwiIyQlJicoKSorLC4vOjs8PT4/QFxcW1xcXV5ge3x9fl0pL2csIFwiXFxcXCQxXCIpO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0aWRPck5hbWU6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ3JvdXBzW2VsZW1lbnQubmFtZV0gfHwgKHRoaXMuY2hlY2thYmxlKGVsZW1lbnQpID8gZWxlbWVudC5uYW1lIDogZWxlbWVudC5pZCB8fCBlbGVtZW50Lm5hbWUpO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0dmFsaWRhdGlvblRhcmdldEZvcjogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHJcblx0XHRcdFx0Ly8gSWYgcmFkaW8vY2hlY2tib3gsIHZhbGlkYXRlIGZpcnN0IGVsZW1lbnQgaW4gZ3JvdXAgaW5zdGVhZFxyXG5cdFx0XHRcdGlmICh0aGlzLmNoZWNrYWJsZShlbGVtZW50KSkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudCA9IHRoaXMuZmluZEJ5TmFtZShlbGVtZW50Lm5hbWUpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gQWx3YXlzIGFwcGx5IGlnbm9yZSBmaWx0ZXJcclxuXHRcdFx0XHRyZXR1cm4gJChlbGVtZW50KS5ub3QodGhpcy5zZXR0aW5ncy5pZ25vcmUpWzBdO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Y2hlY2thYmxlOiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG5cdFx0XHRcdHJldHVybiAoL3JhZGlvfGNoZWNrYm94L2kpLnRlc3QoZWxlbWVudC50eXBlKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGZpbmRCeU5hbWU6IGZ1bmN0aW9uIChuYW1lKSB7XHJcblx0XHRcdFx0cmV0dXJuICQodGhpcy5jdXJyZW50Rm9ybSkuZmluZChcIltuYW1lPSdcIiArIHRoaXMuZXNjYXBlQ3NzTWV0YShuYW1lKSArIFwiJ11cIik7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRnZXRMZW5ndGg6IGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCkge1xyXG5cdFx0XHRcdHN3aXRjaCAoZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7XHJcblx0XHRcdFx0XHRjYXNlIFwic2VsZWN0XCI6XHJcblx0XHRcdFx0XHRcdHJldHVybiAkKFwib3B0aW9uOnNlbGVjdGVkXCIsIGVsZW1lbnQpLmxlbmd0aDtcclxuXHRcdFx0XHRcdGNhc2UgXCJpbnB1dFwiOlxyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5jaGVja2FibGUoZWxlbWVudCkpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5maW5kQnlOYW1lKGVsZW1lbnQubmFtZSkuZmlsdGVyKFwiOmNoZWNrZWRcIikubGVuZ3RoO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB2YWx1ZS5sZW5ndGg7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRkZXBlbmQ6IGZ1bmN0aW9uIChwYXJhbSwgZWxlbWVudCkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmRlcGVuZFR5cGVzW3R5cGVvZiBwYXJhbV0gPyB0aGlzLmRlcGVuZFR5cGVzW3R5cGVvZiBwYXJhbV0ocGFyYW0sIGVsZW1lbnQpIDogdHJ1ZTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGRlcGVuZFR5cGVzOiB7XHJcblx0XHRcdFx0XCJib29sZWFuXCI6IGZ1bmN0aW9uIChwYXJhbSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHBhcmFtO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0XCJzdHJpbmdcIjogZnVuY3Rpb24gKHBhcmFtLCBlbGVtZW50KSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gISEkKHBhcmFtLCBlbGVtZW50LmZvcm0pLmxlbmd0aDtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdFwiZnVuY3Rpb25cIjogZnVuY3Rpb24gKHBhcmFtLCBlbGVtZW50KSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcGFyYW0oZWxlbWVudCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0b3B0aW9uYWw6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0XHRcdFx0dmFyIHZhbCA9IHRoaXMuZWxlbWVudFZhbHVlKGVsZW1lbnQpO1xyXG5cdFx0XHRcdHJldHVybiAhJC52YWxpZGF0b3IubWV0aG9kcy5yZXF1aXJlZC5jYWxsKHRoaXMsIHZhbCwgZWxlbWVudCkgJiYgXCJkZXBlbmRlbmN5LW1pc21hdGNoXCI7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRzdGFydFJlcXVlc3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0XHRcdFx0aWYgKCF0aGlzLnBlbmRpbmdbZWxlbWVudC5uYW1lXSkge1xyXG5cdFx0XHRcdFx0dGhpcy5wZW5kaW5nUmVxdWVzdCsrO1xyXG5cdFx0XHRcdFx0JChlbGVtZW50KS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnBlbmRpbmdDbGFzcyk7XHJcblx0XHRcdFx0XHR0aGlzLnBlbmRpbmdbZWxlbWVudC5uYW1lXSA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0c3RvcFJlcXVlc3Q6IGZ1bmN0aW9uIChlbGVtZW50LCB2YWxpZCkge1xyXG5cdFx0XHRcdHRoaXMucGVuZGluZ1JlcXVlc3QtLTtcclxuXHJcblx0XHRcdFx0Ly8gU29tZXRpbWVzIHN5bmNocm9uaXphdGlvbiBmYWlscywgbWFrZSBzdXJlIHBlbmRpbmdSZXF1ZXN0IGlzIG5ldmVyIDwgMFxyXG5cdFx0XHRcdGlmICh0aGlzLnBlbmRpbmdSZXF1ZXN0IDwgMCkge1xyXG5cdFx0XHRcdFx0dGhpcy5wZW5kaW5nUmVxdWVzdCA9IDA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLnBlbmRpbmdbZWxlbWVudC5uYW1lXTtcclxuXHRcdFx0XHQkKGVsZW1lbnQpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MucGVuZGluZ0NsYXNzKTtcclxuXHRcdFx0XHRpZiAodmFsaWQgJiYgdGhpcy5wZW5kaW5nUmVxdWVzdCA9PT0gMCAmJiB0aGlzLmZvcm1TdWJtaXR0ZWQgJiYgdGhpcy5mb3JtKCkpIHtcclxuXHRcdFx0XHRcdCQodGhpcy5jdXJyZW50Rm9ybSkuc3VibWl0KCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIHRoZSBoaWRkZW4gaW5wdXQgdGhhdCB3YXMgdXNlZCBhcyBhIHJlcGxhY2VtZW50IGZvciB0aGVcclxuXHRcdFx0XHRcdC8vIG1pc3Npbmcgc3VibWl0IGJ1dHRvbi4gVGhlIGhpZGRlbiBpbnB1dCBpcyBhZGRlZCBieSBgaGFuZGxlKClgXHJcblx0XHRcdFx0XHQvLyB0byBlbnN1cmUgdGhhdCB0aGUgdmFsdWUgb2YgdGhlIHVzZWQgc3VibWl0IGJ1dHRvbiBpcyBwYXNzZWQgb25cclxuXHRcdFx0XHRcdC8vIGZvciBzY3JpcHRlZCBzdWJtaXRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZFxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuc3VibWl0QnV0dG9uKSB7XHJcblx0XHRcdFx0XHRcdCQoXCJpbnB1dDpoaWRkZW5bbmFtZT0nXCIgKyB0aGlzLnN1Ym1pdEJ1dHRvbi5uYW1lICsgXCInXVwiLCB0aGlzLmN1cnJlbnRGb3JtKS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR0aGlzLmZvcm1TdWJtaXR0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCF2YWxpZCAmJiB0aGlzLnBlbmRpbmdSZXF1ZXN0ID09PSAwICYmIHRoaXMuZm9ybVN1Ym1pdHRlZCkge1xyXG5cdFx0XHRcdFx0JCh0aGlzLmN1cnJlbnRGb3JtKS50cmlnZ2VySGFuZGxlcihcImludmFsaWQtZm9ybVwiLCBbdGhpc10pO1xyXG5cdFx0XHRcdFx0dGhpcy5mb3JtU3VibWl0dGVkID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0cHJldmlvdXNWYWx1ZTogZnVuY3Rpb24gKGVsZW1lbnQsIG1ldGhvZCkge1xyXG5cdFx0XHRcdG1ldGhvZCA9IHR5cGVvZiBtZXRob2QgPT09IFwic3RyaW5nXCIgJiYgbWV0aG9kIHx8IFwicmVtb3RlXCI7XHJcblxyXG5cdFx0XHRcdHJldHVybiAkLmRhdGEoZWxlbWVudCwgXCJwcmV2aW91c1ZhbHVlXCIpIHx8ICQuZGF0YShlbGVtZW50LCBcInByZXZpb3VzVmFsdWVcIiwge1xyXG5cdFx0XHRcdFx0b2xkOiBudWxsLFxyXG5cdFx0XHRcdFx0dmFsaWQ6IHRydWUsXHJcblx0XHRcdFx0XHRtZXNzYWdlOiB0aGlzLmRlZmF1bHRNZXNzYWdlKGVsZW1lbnQsIHtcclxuXHRcdFx0XHRcdFx0bWV0aG9kOiBtZXRob2RcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvLyBDbGVhbnMgdXAgYWxsIGZvcm1zIGFuZCBlbGVtZW50cywgcmVtb3ZlcyB2YWxpZGF0b3Itc3BlY2lmaWMgZXZlbnRzXHJcblx0XHRcdGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR0aGlzLnJlc2V0Rm9ybSgpO1xyXG5cclxuXHRcdFx0XHQkKHRoaXMuY3VycmVudEZvcm0pXHJcblx0XHRcdFx0XHQub2ZmKFwiLnZhbGlkYXRlXCIpXHJcblx0XHRcdFx0XHQucmVtb3ZlRGF0YShcInZhbGlkYXRvclwiKVxyXG5cdFx0XHRcdFx0LmZpbmQoXCIudmFsaWRhdGUtZXF1YWxUby1ibHVyXCIpXHJcblx0XHRcdFx0XHQub2ZmKFwiLnZhbGlkYXRlLWVxdWFsVG9cIilcclxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyhcInZhbGlkYXRlLWVxdWFsVG8tYmx1clwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0Y2xhc3NSdWxlU2V0dGluZ3M6IHtcclxuXHRcdFx0cmVxdWlyZWQ6IHtcclxuXHRcdFx0XHRyZXF1aXJlZDogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRlbWFpbDoge1xyXG5cdFx0XHRcdGVtYWlsOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdHVybDoge1xyXG5cdFx0XHRcdHVybDogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRkYXRlOiB7XHJcblx0XHRcdFx0ZGF0ZTogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRkYXRlSVNPOiB7XHJcblx0XHRcdFx0ZGF0ZUlTTzogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRudW1iZXI6IHtcclxuXHRcdFx0XHRudW1iZXI6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0ZGlnaXRzOiB7XHJcblx0XHRcdFx0ZGlnaXRzOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdGNyZWRpdGNhcmQ6IHtcclxuXHRcdFx0XHRjcmVkaXRjYXJkOiB0cnVlXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0YWRkQ2xhc3NSdWxlczogZnVuY3Rpb24gKGNsYXNzTmFtZSwgcnVsZXMpIHtcclxuXHRcdFx0aWYgKGNsYXNzTmFtZS5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nKSB7XHJcblx0XHRcdFx0dGhpcy5jbGFzc1J1bGVTZXR0aW5nc1tjbGFzc05hbWVdID0gcnVsZXM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JC5leHRlbmQodGhpcy5jbGFzc1J1bGVTZXR0aW5ncywgY2xhc3NOYW1lKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRjbGFzc1J1bGVzOiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG5cdFx0XHR2YXIgcnVsZXMgPSB7fSxcclxuXHRcdFx0XHRjbGFzc2VzID0gJChlbGVtZW50KS5hdHRyKFwiY2xhc3NcIik7XHJcblxyXG5cdFx0XHRpZiAoY2xhc3Nlcykge1xyXG5cdFx0XHRcdCQuZWFjaChjbGFzc2VzLnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMgaW4gJC52YWxpZGF0b3IuY2xhc3NSdWxlU2V0dGluZ3MpIHtcclxuXHRcdFx0XHRcdFx0JC5leHRlbmQocnVsZXMsICQudmFsaWRhdG9yLmNsYXNzUnVsZVNldHRpbmdzW3RoaXNdKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcnVsZXM7XHJcblx0XHR9LFxyXG5cclxuXHRcdG5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGU6IGZ1bmN0aW9uIChydWxlcywgdHlwZSwgbWV0aG9kLCB2YWx1ZSkge1xyXG5cclxuXHRcdFx0Ly8gQ29udmVydCB0aGUgdmFsdWUgdG8gYSBudW1iZXIgZm9yIG51bWJlciBpbnB1dHMsIGFuZCBmb3IgdGV4dCBmb3IgYmFja3dhcmRzIGNvbXBhYmlsaXR5XHJcblx0XHRcdC8vIGFsbG93cyB0eXBlPVwiZGF0ZVwiIGFuZCBvdGhlcnMgdG8gYmUgY29tcGFyZWQgYXMgc3RyaW5nc1xyXG5cdFx0XHRpZiAoL21pbnxtYXh8c3RlcC8udGVzdChtZXRob2QpICYmICh0eXBlID09PSBudWxsIHx8IC9udW1iZXJ8cmFuZ2V8dGV4dC8udGVzdCh0eXBlKSkpIHtcclxuXHRcdFx0XHR2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XHJcblxyXG5cdFx0XHRcdC8vIFN1cHBvcnQgT3BlcmEgTWluaSwgd2hpY2ggcmV0dXJucyBOYU4gZm9yIHVuZGVmaW5lZCBtaW5sZW5ndGhcclxuXHRcdFx0XHRpZiAoaXNOYU4odmFsdWUpKSB7XHJcblx0XHRcdFx0XHR2YWx1ZSA9IHVuZGVmaW5lZDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCkge1xyXG5cdFx0XHRcdHJ1bGVzW21ldGhvZF0gPSB2YWx1ZTtcclxuXHRcdFx0fSBlbHNlIGlmICh0eXBlID09PSBtZXRob2QgJiYgdHlwZSAhPT0gXCJyYW5nZVwiKSB7XHJcblxyXG5cdFx0XHRcdC8vIEV4Y2VwdGlvbjogdGhlIGpxdWVyeSB2YWxpZGF0ZSAncmFuZ2UnIG1ldGhvZFxyXG5cdFx0XHRcdC8vIGRvZXMgbm90IHRlc3QgZm9yIHRoZSBodG1sNSAncmFuZ2UnIHR5cGVcclxuXHRcdFx0XHRydWxlc1ttZXRob2RdID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRhdHRyaWJ1dGVSdWxlczogZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuXHRcdFx0dmFyIHJ1bGVzID0ge30sXHJcblx0XHRcdFx0JGVsZW1lbnQgPSAkKGVsZW1lbnQpLFxyXG5cdFx0XHRcdHR5cGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcInR5cGVcIiksXHJcblx0XHRcdFx0bWV0aG9kLCB2YWx1ZTtcclxuXHJcblx0XHRcdGZvciAobWV0aG9kIGluICQudmFsaWRhdG9yLm1ldGhvZHMpIHtcclxuXHJcblx0XHRcdFx0Ly8gU3VwcG9ydCBmb3IgPGlucHV0IHJlcXVpcmVkPiBpbiBib3RoIGh0bWw1IGFuZCBvbGRlciBicm93c2Vyc1xyXG5cdFx0XHRcdGlmIChtZXRob2QgPT09IFwicmVxdWlyZWRcIikge1xyXG5cdFx0XHRcdFx0dmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShtZXRob2QpO1xyXG5cclxuXHRcdFx0XHRcdC8vIFNvbWUgYnJvd3NlcnMgcmV0dXJuIGFuIGVtcHR5IHN0cmluZyBmb3IgdGhlIHJlcXVpcmVkIGF0dHJpYnV0ZVxyXG5cdFx0XHRcdFx0Ly8gYW5kIG5vbi1IVE1MNSBicm93c2VycyBtaWdodCBoYXZlIHJlcXVpcmVkPVwiXCIgbWFya3VwXHJcblx0XHRcdFx0XHRpZiAodmFsdWUgPT09IFwiXCIpIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIEZvcmNlIG5vbi1IVE1MNSBicm93c2VycyB0byByZXR1cm4gYm9vbFxyXG5cdFx0XHRcdFx0dmFsdWUgPSAhIXZhbHVlO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR2YWx1ZSA9ICRlbGVtZW50LmF0dHIobWV0aG9kKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHRoaXMubm9ybWFsaXplQXR0cmlidXRlUnVsZShydWxlcywgdHlwZSwgbWV0aG9kLCB2YWx1ZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vICdtYXhsZW5ndGgnIG1heSBiZSByZXR1cm5lZCBhcyAtMSwgMjE0NzQ4MzY0NyAoIElFICkgYW5kIDUyNDI4OCAoIHNhZmFyaSApIGZvciB0ZXh0IGlucHV0c1xyXG5cdFx0XHRpZiAocnVsZXMubWF4bGVuZ3RoICYmIC8tMXwyMTQ3NDgzNjQ3fDUyNDI4OC8udGVzdChydWxlcy5tYXhsZW5ndGgpKSB7XHJcblx0XHRcdFx0ZGVsZXRlIHJ1bGVzLm1heGxlbmd0aDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHJ1bGVzO1xyXG5cdFx0fSxcclxuXHJcblx0XHRkYXRhUnVsZXM6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0XHRcdHZhciBydWxlcyA9IHt9LFxyXG5cdFx0XHRcdCRlbGVtZW50ID0gJChlbGVtZW50KSxcclxuXHRcdFx0XHR0eXBlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLFxyXG5cdFx0XHRcdG1ldGhvZCwgdmFsdWU7XHJcblxyXG5cdFx0XHRmb3IgKG1ldGhvZCBpbiAkLnZhbGlkYXRvci5tZXRob2RzKSB7XHJcblx0XHRcdFx0dmFsdWUgPSAkZWxlbWVudC5kYXRhKFwicnVsZVwiICsgbWV0aG9kLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbWV0aG9kLnN1YnN0cmluZygxKS50b0xvd2VyQ2FzZSgpKTtcclxuXHRcdFx0XHR0aGlzLm5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGUocnVsZXMsIHR5cGUsIG1ldGhvZCwgdmFsdWUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBydWxlcztcclxuXHRcdH0sXHJcblxyXG5cdFx0c3RhdGljUnVsZXM6IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcblx0XHRcdHZhciBydWxlcyA9IHt9LFxyXG5cdFx0XHRcdHZhbGlkYXRvciA9ICQuZGF0YShlbGVtZW50LmZvcm0sIFwidmFsaWRhdG9yXCIpO1xyXG5cclxuXHRcdFx0aWYgKHZhbGlkYXRvci5zZXR0aW5ncy5ydWxlcykge1xyXG5cdFx0XHRcdHJ1bGVzID0gJC52YWxpZGF0b3Iubm9ybWFsaXplUnVsZSh2YWxpZGF0b3Iuc2V0dGluZ3MucnVsZXNbZWxlbWVudC5uYW1lXSkgfHwge307XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJ1bGVzO1xyXG5cdFx0fSxcclxuXHJcblx0XHRub3JtYWxpemVSdWxlczogZnVuY3Rpb24gKHJ1bGVzLCBlbGVtZW50KSB7XHJcblxyXG5cdFx0XHQvLyBIYW5kbGUgZGVwZW5kZW5jeSBjaGVja1xyXG5cdFx0XHQkLmVhY2gocnVsZXMsIGZ1bmN0aW9uIChwcm9wLCB2YWwpIHtcclxuXHJcblx0XHRcdFx0Ly8gSWdub3JlIHJ1bGUgd2hlbiBwYXJhbSBpcyBleHBsaWNpdGx5IGZhbHNlLCBlZy4gcmVxdWlyZWQ6ZmFsc2VcclxuXHRcdFx0XHRpZiAodmFsID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0ZGVsZXRlIHJ1bGVzW3Byb3BdO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAodmFsLnBhcmFtIHx8IHZhbC5kZXBlbmRzKSB7XHJcblx0XHRcdFx0XHR2YXIga2VlcFJ1bGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0c3dpdGNoICh0eXBlb2YgdmFsLmRlcGVuZHMpIHtcclxuXHRcdFx0XHRcdFx0Y2FzZSBcInN0cmluZ1wiOlxyXG5cdFx0XHRcdFx0XHRcdGtlZXBSdWxlID0gISEkKHZhbC5kZXBlbmRzLCBlbGVtZW50LmZvcm0pLmxlbmd0aDtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSBcImZ1bmN0aW9uXCI6XHJcblx0XHRcdFx0XHRcdFx0a2VlcFJ1bGUgPSB2YWwuZGVwZW5kcy5jYWxsKGVsZW1lbnQsIGVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKGtlZXBSdWxlKSB7XHJcblx0XHRcdFx0XHRcdHJ1bGVzW3Byb3BdID0gdmFsLnBhcmFtICE9PSB1bmRlZmluZWQgPyB2YWwucGFyYW0gOiB0cnVlO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0JC5kYXRhKGVsZW1lbnQuZm9ybSwgXCJ2YWxpZGF0b3JcIikucmVzZXRFbGVtZW50cygkKGVsZW1lbnQpKTtcclxuXHRcdFx0XHRcdFx0ZGVsZXRlIHJ1bGVzW3Byb3BdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBFdmFsdWF0ZSBwYXJhbWV0ZXJzXHJcblx0XHRcdCQuZWFjaChydWxlcywgZnVuY3Rpb24gKHJ1bGUsIHBhcmFtZXRlcikge1xyXG5cdFx0XHRcdHJ1bGVzW3J1bGVdID0gJC5pc0Z1bmN0aW9uKHBhcmFtZXRlcikgJiYgcnVsZSAhPT0gXCJub3JtYWxpemVyXCIgPyBwYXJhbWV0ZXIoZWxlbWVudCkgOiBwYXJhbWV0ZXI7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gQ2xlYW4gbnVtYmVyIHBhcmFtZXRlcnNcclxuXHRcdFx0JC5lYWNoKFtcIm1pbmxlbmd0aFwiLCBcIm1heGxlbmd0aFwiXSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGlmIChydWxlc1t0aGlzXSkge1xyXG5cdFx0XHRcdFx0cnVsZXNbdGhpc10gPSBOdW1iZXIocnVsZXNbdGhpc10pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdCQuZWFjaChbXCJyYW5nZWxlbmd0aFwiLCBcInJhbmdlXCJdLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIHBhcnRzO1xyXG5cdFx0XHRcdGlmIChydWxlc1t0aGlzXSkge1xyXG5cdFx0XHRcdFx0aWYgKCQuaXNBcnJheShydWxlc1t0aGlzXSkpIHtcclxuXHRcdFx0XHRcdFx0cnVsZXNbdGhpc10gPSBbTnVtYmVyKHJ1bGVzW3RoaXNdWzBdKSwgTnVtYmVyKHJ1bGVzW3RoaXNdWzFdKV07XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBydWxlc1t0aGlzXSA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRcdFx0XHRwYXJ0cyA9IHJ1bGVzW3RoaXNdLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXCIpLnNwbGl0KC9bXFxzLF0rLyk7XHJcblx0XHRcdFx0XHRcdHJ1bGVzW3RoaXNdID0gW051bWJlcihwYXJ0c1swXSksIE51bWJlcihwYXJ0c1sxXSldO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAoJC52YWxpZGF0b3IuYXV0b0NyZWF0ZVJhbmdlcykge1xyXG5cclxuXHRcdFx0XHQvLyBBdXRvLWNyZWF0ZSByYW5nZXNcclxuXHRcdFx0XHRpZiAocnVsZXMubWluICE9IG51bGwgJiYgcnVsZXMubWF4ICE9IG51bGwpIHtcclxuXHRcdFx0XHRcdHJ1bGVzLnJhbmdlID0gW3J1bGVzLm1pbiwgcnVsZXMubWF4XTtcclxuXHRcdFx0XHRcdGRlbGV0ZSBydWxlcy5taW47XHJcblx0XHRcdFx0XHRkZWxldGUgcnVsZXMubWF4O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAocnVsZXMubWlubGVuZ3RoICE9IG51bGwgJiYgcnVsZXMubWF4bGVuZ3RoICE9IG51bGwpIHtcclxuXHRcdFx0XHRcdHJ1bGVzLnJhbmdlbGVuZ3RoID0gW3J1bGVzLm1pbmxlbmd0aCwgcnVsZXMubWF4bGVuZ3RoXTtcclxuXHRcdFx0XHRcdGRlbGV0ZSBydWxlcy5taW5sZW5ndGg7XHJcblx0XHRcdFx0XHRkZWxldGUgcnVsZXMubWF4bGVuZ3RoO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHJ1bGVzO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBDb252ZXJ0cyBhIHNpbXBsZSBzdHJpbmcgdG8gYSB7c3RyaW5nOiB0cnVlfSBydWxlLCBlLmcuLCBcInJlcXVpcmVkXCIgdG8ge3JlcXVpcmVkOnRydWV9XHJcblx0XHRub3JtYWxpemVSdWxlOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0XHR2YXIgdHJhbnNmb3JtZWQgPSB7fTtcclxuXHRcdFx0XHQkLmVhY2goZGF0YS5zcGxpdCgvXFxzLyksIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHRyYW5zZm9ybWVkW3RoaXNdID0gdHJ1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRkYXRhID0gdHJhbnNmb3JtZWQ7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvalF1ZXJ5LnZhbGlkYXRvci5hZGRNZXRob2QvXHJcblx0XHRhZGRNZXRob2Q6IGZ1bmN0aW9uIChuYW1lLCBtZXRob2QsIG1lc3NhZ2UpIHtcclxuXHRcdFx0JC52YWxpZGF0b3IubWV0aG9kc1tuYW1lXSA9IG1ldGhvZDtcclxuXHRcdFx0JC52YWxpZGF0b3IubWVzc2FnZXNbbmFtZV0gPSBtZXNzYWdlICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlIDogJC52YWxpZGF0b3IubWVzc2FnZXNbbmFtZV07XHJcblx0XHRcdGlmIChtZXRob2QubGVuZ3RoIDwgMykge1xyXG5cdFx0XHRcdCQudmFsaWRhdG9yLmFkZENsYXNzUnVsZXMobmFtZSwgJC52YWxpZGF0b3Iubm9ybWFsaXplUnVsZShuYW1lKSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9qUXVlcnkudmFsaWRhdG9yLm1ldGhvZHMvXHJcblx0XHRtZXRob2RzOiB7XHJcblxyXG5cdFx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL3JlcXVpcmVkLW1ldGhvZC9cclxuXHRcdFx0cmVxdWlyZWQ6IGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCwgcGFyYW0pIHtcclxuXHJcblx0XHRcdFx0Ly8gQ2hlY2sgaWYgZGVwZW5kZW5jeSBpcyBtZXRcclxuXHRcdFx0XHRpZiAoIXRoaXMuZGVwZW5kKHBhcmFtLCBlbGVtZW50KSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiZGVwZW5kZW5jeS1taXNtYXRjaFwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInNlbGVjdFwiKSB7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQ291bGQgYmUgYW4gYXJyYXkgZm9yIHNlbGVjdC1tdWx0aXBsZSBvciBhIHN0cmluZywgYm90aCBhcmUgZmluZSB0aGlzIHdheVxyXG5cdFx0XHRcdFx0dmFyIHZhbCA9ICQoZWxlbWVudCkudmFsKCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gdmFsICYmIHZhbC5sZW5ndGggPiAwO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAodGhpcy5jaGVja2FibGUoZWxlbWVudCkpIHtcclxuXHRcdFx0XHRcdHJldHVybiB0aGlzLmdldExlbmd0aCh2YWx1ZSwgZWxlbWVudCkgPiAwO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gdmFsdWUubGVuZ3RoID4gMDtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvZW1haWwtbWV0aG9kL1xyXG5cdFx0XHRlbWFpbDogZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XHJcblxyXG5cdFx0XHRcdC8vIEZyb20gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCN2YWxpZC1lLW1haWwtYWRkcmVzc1xyXG5cdFx0XHRcdC8vIFJldHJpZXZlZCAyMDE0LTAxLTE0XHJcblx0XHRcdFx0Ly8gSWYgeW91IGhhdmUgYSBwcm9ibGVtIHdpdGggdGhpcyBpbXBsZW1lbnRhdGlvbiwgcmVwb3J0IGEgYnVnIGFnYWluc3QgdGhlIGFib3ZlIHNwZWNcclxuXHRcdFx0XHQvLyBPciB1c2UgY3VzdG9tIG1ldGhvZHMgdG8gaW1wbGVtZW50IHlvdXIgb3duIGVtYWlsIHZhbGlkYXRpb25cclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCAvXlthLXpBLVowLTkuISMkJSYnKitcXC89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLy50ZXN0KHZhbHVlKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvdXJsLW1ldGhvZC9cclxuXHRcdFx0dXJsOiBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcclxuXHJcblx0XHRcdFx0Ly8gQ29weXJpZ2h0IChjKSAyMDEwLTIwMTMgRGllZ28gUGVyaW5pLCBNSVQgbGljZW5zZWRcclxuXHRcdFx0XHQvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9kcGVyaW5pLzcyOTI5NFxyXG5cdFx0XHRcdC8vIHNlZSBhbHNvIGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleFxyXG5cdFx0XHRcdC8vIG1vZGlmaWVkIHRvIGFsbG93IHByb3RvY29sLXJlbGF0aXZlIFVSTHNcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCAvXig/Oig/Oig/Omh0dHBzP3xmdHApOik/XFwvXFwvKSg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hKD86MTB8MTI3KSg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKS4/KSg/OjpcXGR7Miw1fSk/KD86Wy8/I11cXFMqKT8kL2kudGVzdCh2YWx1ZSk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2RhdGUtbWV0aG9kL1xyXG5cdFx0XHRkYXRlOiBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCAhL0ludmFsaWR8TmFOLy50ZXN0KG5ldyBEYXRlKHZhbHVlKS50b1N0cmluZygpKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvZGF0ZUlTTy1tZXRob2QvXHJcblx0XHRcdGRhdGVJU086IGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IC9eXFxkezR9W1xcL1xcLV0oMD9bMS05XXwxWzAxMl0pW1xcL1xcLV0oMD9bMS05XXxbMTJdWzAtOV18M1swMV0pJC8udGVzdCh2YWx1ZSk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL251bWJlci1tZXRob2QvXHJcblx0XHRcdG51bWJlcjogZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgL14oPzotP1xcZCt8LT9cXGR7MSwzfSg/OixcXGR7M30pKyk/KD86XFwuXFxkKyk/JC8udGVzdCh2YWx1ZSk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2RpZ2l0cy1tZXRob2QvXHJcblx0XHRcdGRpZ2l0czogZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgL15cXGQrJC8udGVzdCh2YWx1ZSk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL21pbmxlbmd0aC1tZXRob2QvXHJcblx0XHRcdG1pbmxlbmd0aDogZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50LCBwYXJhbSkge1xyXG5cdFx0XHRcdHZhciBsZW5ndGggPSAkLmlzQXJyYXkodmFsdWUpID8gdmFsdWUubGVuZ3RoIDogdGhpcy5nZXRMZW5ndGgodmFsdWUsIGVsZW1lbnQpO1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IGxlbmd0aCA+PSBwYXJhbTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvbWF4bGVuZ3RoLW1ldGhvZC9cclxuXHRcdFx0bWF4bGVuZ3RoOiBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQsIHBhcmFtKSB7XHJcblx0XHRcdFx0dmFyIGxlbmd0aCA9ICQuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5sZW5ndGggOiB0aGlzLmdldExlbmd0aCh2YWx1ZSwgZWxlbWVudCk7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgbGVuZ3RoIDw9IHBhcmFtO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9yYW5nZWxlbmd0aC1tZXRob2QvXHJcblx0XHRcdHJhbmdlbGVuZ3RoOiBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQsIHBhcmFtKSB7XHJcblx0XHRcdFx0dmFyIGxlbmd0aCA9ICQuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5sZW5ndGggOiB0aGlzLmdldExlbmd0aCh2YWx1ZSwgZWxlbWVudCk7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgKGxlbmd0aCA+PSBwYXJhbVswXSAmJiBsZW5ndGggPD0gcGFyYW1bMV0pO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9taW4tbWV0aG9kL1xyXG5cdFx0XHRtaW46IGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCwgcGFyYW0pIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCB2YWx1ZSA+PSBwYXJhbTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvbWF4LW1ldGhvZC9cclxuXHRcdFx0bWF4OiBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQsIHBhcmFtKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgdmFsdWUgPD0gcGFyYW07XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL3JhbmdlLW1ldGhvZC9cclxuXHRcdFx0cmFuZ2U6IGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCwgcGFyYW0pIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCAodmFsdWUgPj0gcGFyYW1bMF0gJiYgdmFsdWUgPD0gcGFyYW1bMV0pO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9zdGVwLW1ldGhvZC9cclxuXHRcdFx0c3RlcDogZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50LCBwYXJhbSkge1xyXG5cdFx0XHRcdHZhciB0eXBlID0gJChlbGVtZW50KS5hdHRyKFwidHlwZVwiKSxcclxuXHRcdFx0XHRcdGVycm9yTWVzc2FnZSA9IFwiU3RlcCBhdHRyaWJ1dGUgb24gaW5wdXQgdHlwZSBcIiArIHR5cGUgKyBcIiBpcyBub3Qgc3VwcG9ydGVkLlwiLFxyXG5cdFx0XHRcdFx0c3VwcG9ydGVkVHlwZXMgPSBbXCJ0ZXh0XCIsIFwibnVtYmVyXCIsIFwicmFuZ2VcIl0sXHJcblx0XHRcdFx0XHRyZSA9IG5ldyBSZWdFeHAoXCJcXFxcYlwiICsgdHlwZSArIFwiXFxcXGJcIiksXHJcblx0XHRcdFx0XHRub3RTdXBwb3J0ZWQgPSB0eXBlICYmICFyZS50ZXN0KHN1cHBvcnRlZFR5cGVzLmpvaW4oKSksXHJcblx0XHRcdFx0XHRkZWNpbWFsUGxhY2VzID0gZnVuY3Rpb24gKG51bSkge1xyXG5cdFx0XHRcdFx0XHR2YXIgbWF0Y2ggPSAoXCJcIiArIG51bSkubWF0Y2goLyg/OlxcLihcXGQrKSk/JC8pO1xyXG5cdFx0XHRcdFx0XHRpZiAoIW1hdGNoKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIDA7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdC8vIE51bWJlciBvZiBkaWdpdHMgcmlnaHQgb2YgZGVjaW1hbCBwb2ludC5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIG1hdGNoWzFdID8gbWF0Y2hbMV0ubGVuZ3RoIDogMDtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR0b0ludCA9IGZ1bmN0aW9uIChudW0pIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIE1hdGgucm91bmQobnVtICogTWF0aC5wb3coMTAsIGRlY2ltYWxzKSk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0dmFsaWQgPSB0cnVlLFxyXG5cdFx0XHRcdFx0ZGVjaW1hbHM7XHJcblxyXG5cdFx0XHRcdC8vIFdvcmtzIG9ubHkgZm9yIHRleHQsIG51bWJlciBhbmQgcmFuZ2UgaW5wdXQgdHlwZXNcclxuXHRcdFx0XHQvLyBUT0RPIGZpbmQgYSB3YXkgdG8gc3VwcG9ydCBpbnB1dCB0eXBlcyBkYXRlLCBkYXRldGltZSwgZGF0ZXRpbWUtbG9jYWwsIG1vbnRoLCB0aW1lIGFuZCB3ZWVrXHJcblx0XHRcdFx0aWYgKG5vdFN1cHBvcnRlZCkge1xyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRkZWNpbWFscyA9IGRlY2ltYWxQbGFjZXMocGFyYW0pO1xyXG5cclxuXHRcdFx0XHQvLyBWYWx1ZSBjYW4ndCBoYXZlIHRvbyBtYW55IGRlY2ltYWxzXHJcblx0XHRcdFx0aWYgKGRlY2ltYWxQbGFjZXModmFsdWUpID4gZGVjaW1hbHMgfHwgdG9JbnQodmFsdWUpICUgdG9JbnQocGFyYW0pICE9PSAwKSB7XHJcblx0XHRcdFx0XHR2YWxpZCA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgdmFsaWQ7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2VxdWFsVG8tbWV0aG9kL1xyXG5cdFx0XHRlcXVhbFRvOiBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQsIHBhcmFtKSB7XHJcblxyXG5cdFx0XHRcdC8vIEJpbmQgdG8gdGhlIGJsdXIgZXZlbnQgb2YgdGhlIHRhcmdldCBpbiBvcmRlciB0byByZXZhbGlkYXRlIHdoZW5ldmVyIHRoZSB0YXJnZXQgZmllbGQgaXMgdXBkYXRlZFxyXG5cdFx0XHRcdHZhciB0YXJnZXQgPSAkKHBhcmFtKTtcclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5vbmZvY3Vzb3V0ICYmIHRhcmdldC5ub3QoXCIudmFsaWRhdGUtZXF1YWxUby1ibHVyXCIpLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0dGFyZ2V0LmFkZENsYXNzKFwidmFsaWRhdGUtZXF1YWxUby1ibHVyXCIpLm9uKFwiYmx1ci52YWxpZGF0ZS1lcXVhbFRvXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0JChlbGVtZW50KS52YWxpZCgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdGFyZ2V0LnZhbCgpO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9yZW1vdGUtbWV0aG9kL1xyXG5cdFx0XHRyZW1vdGU6IGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCwgcGFyYW0sIG1ldGhvZCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLm9wdGlvbmFsKGVsZW1lbnQpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJkZXBlbmRlbmN5LW1pc21hdGNoXCI7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRtZXRob2QgPSB0eXBlb2YgbWV0aG9kID09PSBcInN0cmluZ1wiICYmIG1ldGhvZCB8fCBcInJlbW90ZVwiO1xyXG5cclxuXHRcdFx0XHR2YXIgcHJldmlvdXMgPSB0aGlzLnByZXZpb3VzVmFsdWUoZWxlbWVudCwgbWV0aG9kKSxcclxuXHRcdFx0XHRcdHZhbGlkYXRvciwgZGF0YSwgb3B0aW9uRGF0YVN0cmluZztcclxuXHJcblx0XHRcdFx0aWYgKCF0aGlzLnNldHRpbmdzLm1lc3NhZ2VzW2VsZW1lbnQubmFtZV0pIHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbZWxlbWVudC5uYW1lXSA9IHt9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRwcmV2aW91cy5vcmlnaW5hbE1lc3NhZ2UgPSBwcmV2aW91cy5vcmlnaW5hbE1lc3NhZ2UgfHwgdGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tlbGVtZW50Lm5hbWVdW21ldGhvZF07XHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tlbGVtZW50Lm5hbWVdW21ldGhvZF0gPSBwcmV2aW91cy5tZXNzYWdlO1xyXG5cclxuXHRcdFx0XHRwYXJhbSA9IHR5cGVvZiBwYXJhbSA9PT0gXCJzdHJpbmdcIiAmJiB7XHJcblx0XHRcdFx0XHR1cmw6IHBhcmFtXHJcblx0XHRcdFx0fSB8fCBwYXJhbTtcclxuXHRcdFx0XHRvcHRpb25EYXRhU3RyaW5nID0gJC5wYXJhbSgkLmV4dGVuZCh7XHJcblx0XHRcdFx0XHRkYXRhOiB2YWx1ZVxyXG5cdFx0XHRcdH0sIHBhcmFtLmRhdGEpKTtcclxuXHRcdFx0XHRpZiAocHJldmlvdXMub2xkID09PSBvcHRpb25EYXRhU3RyaW5nKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcHJldmlvdXMudmFsaWQ7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRwcmV2aW91cy5vbGQgPSBvcHRpb25EYXRhU3RyaW5nO1xyXG5cdFx0XHRcdHZhbGlkYXRvciA9IHRoaXM7XHJcblx0XHRcdFx0dGhpcy5zdGFydFJlcXVlc3QoZWxlbWVudCk7XHJcblx0XHRcdFx0ZGF0YSA9IHt9O1xyXG5cdFx0XHRcdGRhdGFbZWxlbWVudC5uYW1lXSA9IHZhbHVlO1xyXG5cdFx0XHRcdCQuYWpheCgkLmV4dGVuZCh0cnVlLCB7XHJcblx0XHRcdFx0XHRtb2RlOiBcImFib3J0XCIsXHJcblx0XHRcdFx0XHRwb3J0OiBcInZhbGlkYXRlXCIgKyBlbGVtZW50Lm5hbWUsXHJcblx0XHRcdFx0XHRkYXRhVHlwZTogXCJqc29uXCIsXHJcblx0XHRcdFx0XHRkYXRhOiBkYXRhLFxyXG5cdFx0XHRcdFx0Y29udGV4dDogdmFsaWRhdG9yLmN1cnJlbnRGb3JtLFxyXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRcdHZhciB2YWxpZCA9IHJlc3BvbnNlID09PSB0cnVlIHx8IHJlc3BvbnNlID09PSBcInRydWVcIixcclxuXHRcdFx0XHRcdFx0XHRlcnJvcnMsIG1lc3NhZ2UsIHN1Ym1pdHRlZDtcclxuXHJcblx0XHRcdFx0XHRcdHZhbGlkYXRvci5zZXR0aW5ncy5tZXNzYWdlc1tlbGVtZW50Lm5hbWVdW21ldGhvZF0gPSBwcmV2aW91cy5vcmlnaW5hbE1lc3NhZ2U7XHJcblx0XHRcdFx0XHRcdGlmICh2YWxpZCkge1xyXG5cdFx0XHRcdFx0XHRcdHN1Ym1pdHRlZCA9IHZhbGlkYXRvci5mb3JtU3VibWl0dGVkO1xyXG5cdFx0XHRcdFx0XHRcdHZhbGlkYXRvci5yZXNldEludGVybmFscygpO1xyXG5cdFx0XHRcdFx0XHRcdHZhbGlkYXRvci50b0hpZGUgPSB2YWxpZGF0b3IuZXJyb3JzRm9yKGVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0XHRcdHZhbGlkYXRvci5mb3JtU3VibWl0dGVkID0gc3VibWl0dGVkO1xyXG5cdFx0XHRcdFx0XHRcdHZhbGlkYXRvci5zdWNjZXNzTGlzdC5wdXNoKGVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0XHRcdHZhbGlkYXRvci5pbnZhbGlkW2VsZW1lbnQubmFtZV0gPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHR2YWxpZGF0b3Iuc2hvd0Vycm9ycygpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGVycm9ycyA9IHt9O1xyXG5cdFx0XHRcdFx0XHRcdG1lc3NhZ2UgPSByZXNwb25zZSB8fCB2YWxpZGF0b3IuZGVmYXVsdE1lc3NhZ2UoZWxlbWVudCwge1xyXG5cdFx0XHRcdFx0XHRcdFx0bWV0aG9kOiBtZXRob2QsXHJcblx0XHRcdFx0XHRcdFx0XHRwYXJhbWV0ZXJzOiB2YWx1ZVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdGVycm9yc1tlbGVtZW50Lm5hbWVdID0gcHJldmlvdXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcblx0XHRcdFx0XHRcdFx0dmFsaWRhdG9yLmludmFsaWRbZWxlbWVudC5uYW1lXSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0dmFsaWRhdG9yLnNob3dFcnJvcnMoZXJyb3JzKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRwcmV2aW91cy52YWxpZCA9IHZhbGlkO1xyXG5cdFx0XHRcdFx0XHR2YWxpZGF0b3Iuc3RvcFJlcXVlc3QoZWxlbWVudCwgdmFsaWQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIHBhcmFtKSk7XHJcblx0XHRcdFx0cmV0dXJuIFwicGVuZGluZ1wiO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG5cclxuXHQvLyBBamF4IG1vZGU6IGFib3J0XHJcblx0Ly8gdXNhZ2U6ICQuYWpheCh7IG1vZGU6IFwiYWJvcnRcIlssIHBvcnQ6IFwidW5pcXVlcG9ydFwiXX0pO1xyXG5cdC8vIGlmIG1vZGU6XCJhYm9ydFwiIGlzIHVzZWQsIHRoZSBwcmV2aW91cyByZXF1ZXN0IG9uIHRoYXQgcG9ydCAocG9ydCBjYW4gYmUgdW5kZWZpbmVkKSBpcyBhYm9ydGVkIHZpYSBYTUxIdHRwUmVxdWVzdC5hYm9ydCgpXHJcblxyXG5cdHZhciBwZW5kaW5nUmVxdWVzdHMgPSB7fSxcclxuXHRcdGFqYXg7XHJcblxyXG5cdC8vIFVzZSBhIHByZWZpbHRlciBpZiBhdmFpbGFibGUgKDEuNSspXHJcblx0aWYgKCQuYWpheFByZWZpbHRlcikge1xyXG5cdFx0JC5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uIChzZXR0aW5ncywgXywgeGhyKSB7XHJcblx0XHRcdHZhciBwb3J0ID0gc2V0dGluZ3MucG9ydDtcclxuXHRcdFx0aWYgKHNldHRpbmdzLm1vZGUgPT09IFwiYWJvcnRcIikge1xyXG5cdFx0XHRcdGlmIChwZW5kaW5nUmVxdWVzdHNbcG9ydF0pIHtcclxuXHRcdFx0XHRcdHBlbmRpbmdSZXF1ZXN0c1twb3J0XS5hYm9ydCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRwZW5kaW5nUmVxdWVzdHNbcG9ydF0gPSB4aHI7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0gZWxzZSB7XHJcblxyXG5cdFx0Ly8gUHJveHkgYWpheFxyXG5cdFx0YWpheCA9ICQuYWpheDtcclxuXHRcdCQuYWpheCA9IGZ1bmN0aW9uIChzZXR0aW5ncykge1xyXG5cdFx0XHR2YXIgbW9kZSA9IChcIm1vZGVcIiBpbiBzZXR0aW5ncyA/IHNldHRpbmdzIDogJC5hamF4U2V0dGluZ3MpLm1vZGUsXHJcblx0XHRcdFx0cG9ydCA9IChcInBvcnRcIiBpbiBzZXR0aW5ncyA/IHNldHRpbmdzIDogJC5hamF4U2V0dGluZ3MpLnBvcnQ7XHJcblx0XHRcdGlmIChtb2RlID09PSBcImFib3J0XCIpIHtcclxuXHRcdFx0XHRpZiAocGVuZGluZ1JlcXVlc3RzW3BvcnRdKSB7XHJcblx0XHRcdFx0XHRwZW5kaW5nUmVxdWVzdHNbcG9ydF0uYWJvcnQoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cGVuZGluZ1JlcXVlc3RzW3BvcnRdID0gYWpheC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRcdHJldHVybiBwZW5kaW5nUmVxdWVzdHNbcG9ydF07XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGFqYXguYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdH07XHJcblx0fVxyXG5cdHJldHVybiAkO1xyXG59KSk7Il19"}